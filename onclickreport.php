<?php @eval("?>".base64_decode("PCFET0NUWVBFIGh0bWw+DQo8aHRtbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sOmxhbmc9ImVuIiBsYW5nPSJlbiI+DQo8aGVhZD4NCgk8dGl0bGU+UmVwb3J0LnBkZjwvdGl0bGU+DQoJPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiIC8+DQoJPGxpbmsgcmVsPSJpY29uIiBocmVmPSJpY29uLnBuZyI+DQogICAgPG1ldGEgbmFtZT0iYXV0aG9yIiBjb250ZW50PSJSYW5qZWV0IFRob3JhdCIgLz4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImNzcy9ib290c3RyYXAubWluLmNzcyI+DQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJjc3MvcmVwb3J0Y3NzLmNzcyI+DQogICAgDQo8L2hlYWQ+DQoNCjw/cGhwDQpzZXNzaW9uX3N0YXJ0KCk7DQpvYl9zdGFydCgpOw0KaW5jbHVkZSgnc3BlY2lhbGZ1bmN0aW9uLnBocCcpOw0KaW5jbHVkZSgiaW5jbHVkZXMvZGJmaWxlLnBocCIpOw0KDQoNCj8+DQoNCg0KDQo8c3R5bGU+DQoNCjwvc3R5bGU+DQoNCjxib2R5Pg0KDQoJDQoNCjw/cGhwIGVycm9yX3JlcG9ydGluZygwKTtpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIDApOz8+DQo8aW1nIHNyYz0naW1nL2xvZ28uanBnJyB3aWR0aD0iMjUwIiBoZWlnaHQ9IjEyMCIgPjxoMyBjbGFzcz0naW5saW5lc3MnPiBDbG9nU29mdCA1LjAgIDxzbWFsbD4odjUuMCk8L3NtYWxsPjwvaDM+DQoNCjw/cGhwDQoNCg0KJGRldmljZUlkPWFycmF5KCk7DQokbmFtZW9mZGV2aWNlPWFycmF5KCk7DQokZ3JhcGhUeXBlPSdkZXZpY2V3aXNlJzsNCiRzdGFydG9mZnNldD0wOw0KJHV0bz0wOw0KJHVmcm9tPTA7DQokZ2V0VG89Jyc7DQokZ2V0RnJvbT0nJzsNCiRnbG91c2VybmFtZT0nJzsNCiR1c2VydHlwZT0nJzsNCiRqYXNvbj1hcnJheSgpOw0KJHNwID0gYXJyYXkoKTsNCiRwbGlzdD1hcnJheSgpOw0KJHBkYXRlPWRhdGUoJ2QvbS9ZJyk7DQokcHRpbWU9ZGF0ZSgnSDppOnMnKTsNCiRpbnRlcnZhbD0wOw0KJGdyYXBob3B0bj0nJzsNCiR0aW1lSW50ZXI9Jyc7DQokd2FudGFsYXJtPScnOw0KJGVuZG9mZnNldD0nJzsNCg0KaWYoaXNzZXQoJF9QT1NUWydkdmNzYm10J10pKSB7DQoNCiAgICAkZ2V0S2V5ID0gJF9QT1NUWydnZXRLZXknXTsNCg0KJGdldGRhdGEgPSAiU0VMRUNUICogZnJvbSBwcm9maWxlIHdoZXJlIHVzZXJpZCA9JyRnZXRLZXknICI7DQokcmVzZGF0YSA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZ2V0ZGF0YSk7DQppZihteXNxbGlfbnVtX3Jvd3MoJHJlc2RhdGEpID09IDApew0KCWRpZSgiPGgxPllvdSBoYXZlIG5vdCBzZXQgYW55IHByb2ZpbGUgZm9yIHJlcG9ydCAuUGxlYXNlIHNldCBwcm9maWxlIGZpcnN0PC9oMT4iKTsNCn0NCg0KJGdldEZyb20gPWRhdGUoJ1kubS5kJywgc3RydG90aW1lKCcgLTEgZGF5JykpOw0KJGdldFRvID1kYXRlKCdZLm0uZCcpOw0KDQovLyAkZ2V0RnJvbSA9ICIyMDIwLjEwLjAxIjsNCi8vICRnZXRUbyA9ICIyMDIwLjEyLjMxIjsNCg0KDQoNCg0KDQogIHdoaWxlKCRyb3dkYXRhID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNkYXRhKSkNCiAgew0KICAgICRncmFwaG9wdG4gPSAkcm93ZGF0YVsnZ3JhcGhvcHQnXTsNCiAgICAkd2FudGFsYXJtID0gJHJvd2RhdGFbJ3dhbnRhbGFybSddOw0KICAgICR0aW1lZmlsdGVyID0gJHJvd2RhdGFbJ3N0YXJ0dGltZSddOw0KICAgICRpbnRlcnZhbCA9ICRyb3dkYXRhWydwaW50ZXJ2YWwnXTsNCiAgICAkdGltZUludGVyID0gJGludGVydmFsIC4gIiBtaW51dGVzIjsNCiAgICAkZ2xvdXNlcm5hbWUgPSAgJHJvd2RhdGFbJ3VzZXJpZCddOw0KICAgICR1c2VydHlwZSAgID0gICRyb3dkYXRhWyd0eXBlJ107DQogICAgJGRhdGEyID0gJHJvd2RhdGFbJ2RldmlkJ107DQogICAgJGphc29uID0gJHJvd2RhdGFbJ2pzb24nXTsNCiAgfQ0KICAkb2Zmc2V0ID0gJHRpbWVmaWx0ZXI7DQogICRzdGFydG9mZnNldCA9ICRvZmZzZXQ7DQogIA0KDQogICANCiAgICANCiAgICAvLyAkZGF0YTEgPSAkX1BPU1RbJ2RuYW1lJ107DQogICAgLyogJGRhdGExIGxpc3Qgb2YgZGV2aWNlcyAqLw0KDQogICAgDQoNCiAgICANCiAgICAvKiBkZXZpY2UgaWRzIGxpc3QgKi8NCiAgICAkZGV2aWNlSWQgPSBleHBsb2RlKCcsJywgJGRhdGEyKTsNCg0KICAgIGZvcigkZGV2PTA7JGRldjxjb3VudCgkZGV2aWNlSWQpOyRkZXYrKyl7DQogICAgICAgICRka2V5ID0gJGRldmljZUlkWyRkZXZdOw0KICAgICAgICAkZ2V0bmFtZXMgPSAic2VsZWN0IG5hbWUgZnJvbSAgZGV2aWNlIHdoZXJlIHVpZCA9ICckZGtleScgIjsNCiAgICAgICAgJGdlcm5hbWVyZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGdldG5hbWVzKTsNCiAgICAgICAgd2hpbGUoJGRldnJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkZ2VybmFtZXJlc3VsdCkpew0KICAgICAgICAgICAgJCRuYW1lb2ZkZXZpY2VbJGRldl0gPSAkZGV2cm93WyduYW1lJ107DQoNCiAgICAgICAgfQ0KICAgIH0NCg0KDQoNCiAgICAvLyAkbmFtZW9mZGV2aWNlID0gZXhwbG9kZSgnLCcsICRkYXRhMSk7DQoNCg0KDQogICAgDQoNCiAgICAvKiBqYXNvbiBhcnJheSA9PSBkZXZpY2VpZCxwY29kZSxwY29kZSwuLixzZXBhcmF0b3IoIykgKi8NCiAgDQogICAgJHNwID0gZXhwbG9kZSgiLCMsIiwgJGphc29uKTsNCg0KICAgICRpbmRleCA9IGNvdW50KCRzcCk7DQogICAgJGFzcCA9IHJ0cmltKCRzcFskaW5kZXggLSAxXSwgJywjJyk7DQogICAgYXJyYXlfcG9wKCRzcCk7DQogICAgYXJyYXlfcHVzaCgkc3AsICRhc3ApOw0KDQogICAgZm9yICgkaSA9IDA7ICRpIDwgY291bnQoJHNwKTsgJGkrKykgew0KICAgICAgICAkZmluYWxhcnJbJGldID0gZXhwbG9kZSgnLCcsICRzcFskaV0pOw0KICAgIH0NCiAgICAvKiBGaW5hbCBhcnJheSAyZCBmbW9yYW1hdCAqLw0KDQoNCiAgICAvL0J1aWxkaW5nIHBsaXN0IGZvciB1bmlxdWUgcGFyYW1ldGVyDQoNCiAgICBmb3IgKCRsID0gMDsgJGwgPCBjb3VudCgkZmluYWxhcnIpOyAkbCsrKSB7DQoNCiAgICAgICAgZm9yICgkayA9IDA7ICRrIDwgY291bnQoJGZpbmFsYXJyWyRsXSkgLSAxOyAkaysrKSB7DQogICAgICAgICAgICBhcnJheV9wdXNoKCRwbGlzdCwgJGZpbmFsYXJyWyRsXVskayArIDFdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZvciAoJGkgPSAwOyAkaSA8IGNvdW50KCRzcCk7ICRpKyspIHsNCg0KICAgICAgICAka2V5ID0gJGZpbmFsYXJyWyRpXVswXTsNCg0KICAgICAgICAkbmFtZWUgPSAic2VsZWN0IG5hbWUsdWlkIGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGtleScgbGltaXQgMSI7DQoNCg0KICAgICAgICAkcmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCAkbmFtZWUpOw0KDQogICAgICAgIHdoaWxlICgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQpKSB7DQogICAgICAgICAgICAkbmFtZW9mZGV2aWNlWyRpXSA9ICRyb3dbJ25hbWUnXTsNCiAgICAgICAgICAgICRkZXZpY2VJZFskaV0gPSAkcm93Wyd1aWQnXTsNCiAgICAgICAgfQ0KICAgIH0NCn0gZWxzZSB7DQogICAgZGllKCJUaGVyZSBpcyBubyBkYXRhIHRvIHNob3ciKTsNCn0NCg0KDQoNCi8qKioqKioqKiAgIERBVEUgQ29udmVyc2lvbiAqKioqKi8NCg0KICAgICAgICAgICAgICAgICAgICAgJHRpbWVUbyA9ICRnZXRUbzsNCgkJCQkJICRuZXdfZGF0ZVRvID0gJHRpbWVUbyA7DQoJCQkJCSAvL2RhdGUoIlkubS5kIiwgJHRpbWVUbyk7DQoJCQkJCQ0KCQkJCQkgDQoJCQkJCSAkdGltZUZyb21vID0gJGdldEZyb207DQoJCQkJCSAkbmV3X2RhdGVGcm9tID0gICR0aW1lRnJvbW87DQoJCQkJCSAvL2RhdGUoIlkubS5kIiwgJHRpbWVGcm9tbyk7DQoNCg0KDQoNCg0KICAgICAgIC8qKioqKioqKioqKiAgRU5URVIgUFJJTlQgUkVDT1JEICoqKioqKioqKioqKioqKioqKioqKioqKi8NCgkgICBpZiAoICEoJGdsb3VzZXJuYW1lID09ICdtYW51JyApKSB7DQogICAgICAgICAgIGluY2x1ZGUoJ3ByaW50cmVjb3JkLnBocCcpOw0KICAgICAgIH0NCgkgICANCg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8NCg0KJG1pbmFycj1hcnJheSgpOw0KJG1heGFycj1hcnJheSgpOw0KJGZ0PTA7DQokbWF4UGFyYT0nJzsNCiRtYXhjb3VudD0wOw0KJGNvbG9yc2FycmF5PWFycmF5KCk7DQokYXNxbD0ic2VsZWN0IE1BWChzbm8pIGZyb20gZGV2aWNlIjsNCiRhcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkYXNxbCk7DQoNCiAgZm9yKCRtPTA7JG08Y291bnQoJGRldmljZUlkKTskbSsrKQ0KICB7DQogICAgJGNvbG9yc3FsPSJzZWxlY3QgY29sb3IgZnJvbSBkZXZpY2Ugd2hlcmUgdWlkPSckZGV2aWNlSWRbJG1dJyBsaW1pdCAxICI7DQogDQogICAgICAgICAgICAgJGNvbG9ycmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkY29sb3JzcWwpOw0KCQkJIHsNCgkJCQkgd2hpbGUoJGNvbG9ycm93PW15c3FsaV9mZXRjaF9hc3NvYygkY29sb3JyZXN1bHQpKQ0KCQkJCQkgDQoJCQkJCSB7DQoJCQkJCQkgDQoJCQkJCQkgJGNvbG9yc2FycmF5WyRtXT0kY29sb3Jyb3dbJ2NvbG9yJ107DQoJCQkJCSB9DQoJCQkJIA0KCQkJCSANCgkJCSB9DQoNCiB9DQp3aGlsZSgkYXJvdz1teXNxbGlfZmV0Y2hfYXNzb2MoJGFyZXN1bHQpKQ0KCSB7DQoJCSAkbWF4UGFyYT0kYXJvd1snTUFYKHNubyknXTsNCgkJIA0KCQkgDQoJIH0NCgkgDQoNCiRnZXRMYXRlc3RUaW1lPScnOw0KJHNxbD0ic2VsZWN0IERJU1RJTkNUKGRldmlkKSxuYW1lIGZyb20gbGl2ZGV2ICI7DQokcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsKTsNCiRkZXZpY2Vjb3VudD1teXNxbGlfbnVtX3Jvd3MoJHJlc3VsdCk7DQoNCiRjb3VudGVyND0wOw0KJGRlc2k9Jyc7DQokZGVwYXJ0bWVudD0nJzsNCiRyb2xlPScnOw0KJG5hbWVvZnVzZXI9Jyc7DQppZigkdXNlcnR5cGUgPT0gJ21hbnUnKQ0Kew0KICAgICRkZXNpPSdtYW51JzsNCiRkZXBhcnRtZW50PSdtYW51JzsNCiRyb2xlPSdtYW51JzsNCiRuYW1lb2Z1c2VyPSdtYW51JzsNCiAgICANCiAgICANCn0NCg0KaWYoJHVzZXJ0eXBlID09ICd1c2VyJykNCnsNCiAgICRzaWcgPSJzZWxlY3QgKiBmcm9tIHVzZXJuYW1lIHdoZXJlIHVpZCA9ICckZ2xvdXNlcm5hbWUnIjsNCiAgICRyZXNzbyA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc2lnKTsNCiAgIHdoaWxlKCRyb2VyPW15c3FsaV9mZXRjaF9hc3NvYygkcmVzc28pKQ0KICAgew0KCSAkZGVzaSA9ICRyb2VyWydkZXNpZ25hdGlvbiddOw0KCSAkcm9sZSA9ICRyb2VyWydyb2xlJ107DQoJICRkZXBhcnRtZW50ID0gJHJvZXJbJ2RlcHRuYW1lJ107DQoJICRuYW1lb2Z1c2VyID0gJHJvZXJbJ25hbWUnXTsNCgkgDQoJIA0KCSAgIA0KICAgfQ0KICAgIA0KfQ0KDQoNCmlmKCR1c2VydHlwZSA9PSAnYWRtaW4nKQ0Kew0KICAgIA0KICAgICRzaWcgPSJzZWxlY3QgKiBmcm9tIGFkbWluIHdoZXJlIHVpZCA9ICckZ2xvdXNlcm5hbWUnIjsNCiAgICRyZXNzbyA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc2lnKTsNCiAgIHdoaWxlKCRyb2VyPW15c3FsaV9mZXRjaF9hc3NvYygkcmVzc28pKQ0KICAgew0KCSAkZGVzaSA9ICRyb2VyWydkZXNpZ25hdGlvbiddOw0KCSAkcm9sZSA9ICRyb2VyWydyb2xlJ107DQoJICRkZXBhcnRtZW50ID0gJHJvZXJbJ2RlcHRuYW1lJ107DQoJICRuYW1lb2Z1c2VyID0gJHJvZXJbJ25hbWUnXTsNCgkgDQoJIA0KCSAgIA0KICAgfQ0KICAgIA0KfQ0KDQoNCi8qKg0KICogVVNFUiBERVRBSUxTIGZpbGUNCiAqLw0KaW5jbHVkZSgncHJpbnRoZWFkZXIucGhwJyk7DQo/Pg0KDQoNCg0KDQoNCjxkaXYgY2xhc3MgPSAnd3JhcHBlcic+DQoNCjxjYXB0aW9uIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQiPjxoMj5Mb2cgUmVwb3J0PC9oMj4gPC9jYXB0aW9uPiAgIA0KPHRhYmxlIGNsYXNzPSdvdXRlcic+DQoNCiAgICAgICAgICAgICA8dHIgY2xhc3M9J2ZpcnN0cm93Jz4NCiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSdvdXRlcnRoJz5TZW5zb3IgbmFtZS0+IDwvdGg+DQogICAgICAgICAgICAgICAgICAgPD9waHAgDQoNCiAgICAgICAgICAgICAgICAgICAgZm9yKCRmdD0wOyRmdDxjb3VudCgkbmFtZW9mZGV2aWNlKTskZnQrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICBlY2hvICI8dGggY2xhc3M9J291dGVydGgnPiIuJG5hbWVvZmRldmljZVskZnRdLiI8L3RoPiI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgPC90cj4gICAgIA0KPCEtLSBTRUNPTkQgUk9XUyAtLT4NCiAgICAgPHRyIGNsYXNzPSdzZWNvbmRyb3cnID4NCiAgICAgICAgICAgPHRkIGNsYXNzPSdtYWludGQnPiA8ZGl2IGNsYXNzID0nbWFpbmNvbnRhbic+DQogICAgICAgICAgIDx0YWJsZSBjbGFzcz0naW5uZXInPg0KICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0naW5uZXJ0ZCc+RGF0ZTwvdGQ+DQogICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSAnaW5uZXJ0ZCBteWFsaWduJz48c3BhbiBjbGFzcz0nJz5UaW1lPC9zcGFuPjwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgICAgICA8L2Rpdj4NCgkJICAgPC90ZD4NCgkJICAgDQoJCSAgIDw/cGhwIA0KICAgICBmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKQ0KCSB7ICAgICANCiANCiAgICAgICAgICAgICRwcmludHBhcmE9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwYz0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCSRic3FsPSJzZWxlY3QgcGFyYW1ldGVyIGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGRldmljZUlkWyRpXScgYW5kDQoJCQkJICAgDQoJCQkJICAgICAgICAgICBwY29kZT0nJHBjJyBsaW1pdCAxICI7DQoJCQkJICANCgkJCSAgDQoNCiAgICAgICAgICAgICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGJzcWwpOw0KCQkJCQl3aGlsZSgkcm93c3M9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQpKQ0KCQkJCQl7DQoJCQkJCQkkcHJpbnRwYXJhWyRvLTFdPSRyb3dzc1sncGFyYW1ldGVyJ107DQoJCQkJCQkNCgkJCQkJfQ0KCQkJCQ0KCQkJfSAgDQoJCQkgDQoJCT8+CSAgDQoJCQkgIA0KCQkJICANCgkJCSAgDQogDQo8dGQgY2xhc3M9J21haW50ZCc+DQoJCSAgIA0KCQkgICANCiAgICA8dGFibGUgY2xhc3M9J2lubmVyJz4NCiAgICAgICAgPHRyPg0KCQkgICAgPD9waHAgICAgICANCgkJICAgIGZvcigkaW5zPTA7JGluczxjb3VudCgkcHJpbnRwYXJhKTskaW5zKyspDQoJCQl7DQoJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4iLiRwcmludHBhcmFbJGluc10uIiZuYnNwOzwvdGQ+IjsNCgkJCQkNCgkJCQkNCgkJCX0NCgkJID8+DQogICAgICAgICA8L3RyPg0KICAgIDwvdGFibGU+DQoNCgkJIA0KCQkNCiA8L3RkPg0KCQkgDQoJCSANCgkgPD9waHANCgkgDQoJIA0KCSB9DQoJIA0KCQ0KCSANCgk/Pg0KCQkgICANCgkJICAgDQoNCjwvdHI+DQo8P3BocA0KICANCiAgDQogIC8qICAgICAgRm91cnRoIHJvdyBjb2RlICAgKi8NCg0KDQokb3JnRGF0ZT0kbmV3X2RhdGVGcm9tOw0KJHRvZGF0ZT0gJG5ld19kYXRlVG87DQoNCg0KLyogIGdldCBmb3VydGggdGltZSBhbmQgZGF0ZSAqLyAgDQogICAgDQoJDQoJDQoNCiRzcWw0PSJzZWxlY3QgdGltZSxkYXRlLGRldmlkIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkIElOKCciLmltcGxvZGUoIicsJyIsJGRldmljZUlkKS4iJykNCgkgICBhbmQgZGF0ZSBiZXR3ZWVuICckb3JnRGF0ZScgYW5kICckdG9kYXRlJyANCgkgICANCgkgICANCgkgICANCiAgICAgICAgb3JkZXIgYnkgZGF0ZSx0aW1lIGxpbWl0IDEiOw0KCSAgIA0KCSAgDQoJICAgDQoJJHJlc3VsdDQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzcWw0KTsNCgkNCglpZihteXNxbGlfbnVtX3Jvd3MoJHJlc3VsdDQpKQ0KCXsNCgkJd2hpbGUoJHJvdzQgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdDQpKQ0KCQl7DQoJCQkkZm91cnRoVGltZT0kcm93NFsndGltZSddOw0KCQkJJGZvdXJ0aERhdGUgPSAkcm93NFsnZGF0ZSddOw0KCQkJDQoJCQkNCgkJCQ0KCQl9DQoJCQ0KCX0gZWxzZSB7DQoJCQ0KCQllY2hvICI8aDE+Tk8gREFUQSBGT1VORDwvaDE+IjsNCgkJZXhpdCgpOw0KCX0NCgkNCgkgICANCj8+DQoNCiA8dHIgY2xhc3M9J2ZvdXJ0aHJvdw0KIDw/cGhwIGlmKCgkbmV3X2RhdGVGcm9tID09ICRmb3VydGhEYXRlKSAmJiAoJGZvdXJ0aFRpbWUgPCAkb2Zmc2V0KSl7DQoJCQkgZWNobyAib2Zmc2V0aGlkZSI7DQoJCSB9DQoJCSANCgkJID8+DQogDQogDQogDQogJz4NCiANCiA8dGQgY2xhc3M9J21haW50ZCc+DQogICA8dGFibGUgY2xhc3M9J2lubmVyJz4NCiAgICAgPHRyPg0KICAgICAgICAgPHRkIGNsYXNzPSdpbm5lcnRkJz48P3BocCBlY2hvIG1ha2VkYXRlKCRmb3VydGhEYXRlKTs/PiA8L3RkPg0KICAgICAgICA8dGQ+IDw/cGhwIGVjaG8gJGZvdXJ0aFRpbWU7Pz48L3RkPg0KICAgICA8L3RyPg0KICAgPC90YWJsZT4NCiA8L3RkPg0KIDw/cGhwDQogDQogJHByZXZpb3VzID0kZm91cnRoVGltZTsNCiAkcHJldmlvdXMgPSBzdHJ0b3RpbWUoJHByZXZpb3VzKTsNCiANCiAkbmV4dD1kYXRlKCJILmkiLHN0cnRvdGltZSgnKycuJGludGVydmFsLidtaW51dGVzJywkcHJldmlvdXMpKTsNCiANCiAkcHJldmlvdXMgPSRmb3VydGhUaW1lOw0KDQogDQoNCiANCiANCiANCiANCiBmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKQ0KIHsNCgkgZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPjx0YWJsZSBjbGFzcz0naW5uZXInPjx0cj4iOw0KCSANCgkgICAgICAgICAgICAgICAgICRwcmludHBhcmFzPWFycmF5KCk7DQogICAgICAgICAgICAgIC8vIGVjaG8gY291bnQoJGZpbmFsYXJyWyRpXSk7DQogICAgICAgICAgICAgIGZvcigkbz0xOyRvPD1jb3VudCgkZmluYWxhcnJbJGldKS0xOyRvKyspDQoJCQkgIHsNCgkJCQkkcHJpbnRwYXJhc1skby0xXT0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCQ0KCQkJCQ0KICAgICAgICAgICAgfSAgDQogICAgICAgICAgICANCgkJCQ0KCQkJZm9yKCRwPTA7JHA8Y291bnQoJHByaW50cGFyYXMpOyRwKyspDQoJCQl7CQkJDQoJCQkNCgkJCSAkc3FsZGF0YT0iIHNlbGVjdCB0aW1lLGRhdGUsIHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGV2aWNlSWRbJGldJw0KCQkJIA0KCQkJICAgICAgICAgICAgICAgYW5kIHBjb2RlPSckcHJpbnRwYXJhc1skcF0nIGFuZCAoZGF0ZSBiZXR3ZWVuICckb3JnRGF0ZScNCgkJCQkJCSAgIA0KCQkJCQkJICAgYW5kICckdG9kYXRlJykgYW5kICh0aW1lIGJldHdlZW4gJyRwcmV2aW91cycgYW5kICckbmV4dCcpDQoJCQkJCQkgICANCgkJCQkJCSAgICBvcmRlciBieSBkYXRlLHRpbWUgbGltaXQgMTsNCgkJCQkJCSAgIA0KCQkJCQkJICAgIjsNCgkJCQkJICANCgkJCQkJCSAgIA0KCQkJJHJlc3VsdGRhdGEgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJHNxbGRhdGEpOw0KCQkJDQoJCQkNCgkJCQ0KCQkJaWYobXlzcWxpX251bV9yb3dzKCRyZXN1bHRkYXRhKSkNCgkJCQkNCgkJCQl7DQoJCQkJICAgICB3aGlsZSgkcm93ZGF0YSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0ZGF0YSkpCQ0KCQkJCQkNCgkJCQkJew0KCQkJCQkgICAgICANCgkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz48aT4iLmNvdW50X2RpZ2l0KCRyb3dkYXRhWyd2YWx1ZSddKS4gIiANCgkJCQkJCQkJDQogICAgICAgICAgICAgICAgICAgICZuYnNwOzwvaT48L3RkPiI7DQoJCQkJCQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCQkJDQogICAgICAgICAgICAgIGVsc2V7DQoJCQkJICANCgkJCQkgZWNobyAgIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+PGk+LS0uLS0NCgkJCQkJCQkNCgkJCQkJCQkmbmJzcDs8L2k+PC90ZD4iOw0KCQkJCSAgDQoJCQkgIH0JCQkJCQkNCgkJCQ0KCSAgICAgICAgIA0KCSANCgkJCX0NCgkJCQ0KCQkJZWNobyAiPC90cj48L3RhYmxlPg0KCQkJPC90ZD4iOyAvLyBtYWluIHRkIGVuZHMNCgkgDQogfSAgLy9mb3IgZWFjaCBkZXZpY2UgIC8vDQogDQogDQogZWNobyAiPC90cj4iOyAvLyA0dGggcm93IGVuZHMNCg0KDQovKiAgICAgICAgICAgICAgICAgICBGaWZ0aCBhbmQgb3RoZXIgcm93ICBhbmQgYWJvdmUgIHJvd3MgICAgICAgICAgICAgICAgICAgKi8NCg0KDQovKiAgICAgICAgIENSRUFURSBkdXJhdGlvbnMgICAgKi8gDQoNCg0KDQoNCiAkcHJldmlvdXMgPSAkZm91cnRoVGltZTsNCiAkcHJldmlvdXMgPSBzdHJ0b3RpbWUoJHByZXZpb3VzKTsNCiANCiAkbmV4dD1kYXRlKCJILmkiLHN0cnRvdGltZSgnKycuJGludGVydmFsLidtaW51dGVzJywkcHJldmlvdXMpKTsNCiANCiANCiANCiAkcHJldmlvdXMgPSRmb3VydGhUaW1lOw0KIA0KICAkdGVtcD0kbmV4dDsNCiAkcHJldmlvdXM9JHRlbXA7DQogJHByZXZpb3VzID0gc3RydG90aW1lKCRwcmV2aW91cyk7DQogDQogJG5leHQ9ZGF0ZSgiSC5pIixzdHJ0b3RpbWUoJysnLiRpbnRlcnZhbC4nbWludXRlcycsJHByZXZpb3VzKSk7DQogDQogJHByZXZpb3VzPSR0ZW1wOw0KIA0KDQogDQoNCiAkb3JnRGF0ZT0kZm91cnRoRGF0ZTsNCiAkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KIA0KDQogDQogaWYgKCAkcHJldmlvdXMgPj0gJG5leHQgKQ0KIHsNCiAgICAgCSANCgkgJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoJICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCSAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkNCgkgDQoJIA0KIH0NCiANCiAkY2FycnlEYXRlPScnOw0KICRzcWxjaGFuZ2U9MDsNCiRwcmludGRkID0nICc7DQogJGRhdGVjaGFuZ2UgPTA7Ow0KIHdoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpDQogew0KCSAgICAgICAkc2tpcHJvdz0xOw0KCQkJICANCgkJCSANCgkJCSANCgkJCSAkc3FsND0ic2VsZWN0IHRpbWUsZGF0ZSxkZXZpZCBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZCBJTignIi5pbXBsb2RlKCInLCciLCRkZXZpY2VJZCkuIicpDQogICAgICAgIGFuZCAgKGRhdGUgPSAnJG9yZ0RhdGUnKSBhbmQgKHRpbWUgPiAnJHByZXZpb3VzJyBhbmQgIHRpbWUgPD0gJyRuZXh0JykNCgkgICANCgkgICAgb3JkZXIgYnkgZGF0ZSx0aW1lIGxpbWl0IDEiOw0KCSAgIA0KDQoJICAgDQoJCQkJDQogICAgICAgICAgICAgICAgICAgICAgICAJICAgDQoJICAgDQoJICAgDQoJIA0KCSRyZXN1bHQ0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsNCk7DQoJDQoJaWYobXlzcWxpX251bV9yb3dzKCRyZXN1bHQ0KSkNCgl7DQoJCXdoaWxlKCRyb3c0ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQ0KSkNCgkJew0KCQkJJGZvdXJ0aFRpbWU9JHJvdzRbJ3RpbWUnXTsNCgkJCSRmb3VydGhEYXRlID0gJHJvdzRbJ2RhdGUnXTsNCgkJCQ0KDQoJCQkNCgkJfQ0KCQkNCgl9IGVsc2UgaWYoJGRhdGVjaGFuZ2UgPT0gMSkNCgkJew0KCQkNCgkJDQoJCQ0KCQkNCgkJJHNxbGNoYW5nZT0xOw0KCQkNCgkJDQoJCSAkZGF0ZWNoYW5nZSA9MDsNCgkJDQoJCQ0KCX0NCgllbHNlew0KCQkNCgkJJHNraXByb3cgPSAwOw0KCX0NCgkNCgkJCSBpZigkc2tpcHJvdyA9PSAxKXsNCgkJCQkgDQoJCQkJaWYoDQoJCQkJCSggKCRuZXdfZGF0ZVRvID09ICRmb3VydGhEYXRlKSAmJiAoJGZvdXJ0aFRpbWUgPj0gJG9mZnNldCkgKQ0KCQkJCQkgfHwNCgkJCQkJKCAoJG5ld19kYXRlRnJvbSA9PSAkZm91cnRoRGF0ZSkgJiYgKCRmb3VydGhUaW1lIDwgJG9mZnNldCkgKQ0KCQkJCQl8fA0KCQkJCQkoICRuZXdfZGF0ZUZyb20gIT0gJGZvdXJ0aERhdGUpDQoJCQkJKQ0KCQkJCXsNCgkJCQkJZWNobyAiPHRyIGNsYXNzPSdmb3VydGhyb3cgIG9mZnNldGhpZGUgYWxscm93cyc+IjsgIA0KCQkJCX0gZWxzZSANCgkJCQllY2hvICI8dHIgY2xhc3M9J2ZvdXJ0aHJvdyAgYWxscm93cyc+IjsgDQoJCQkgDQoJCQkgICAgCQ0KICAgICAgICAgICAgIA0KCQkNCgkJCQkJDQoJCQkJCSAgICBlY2hvICIgPHRkIGNsYXNzPSdtYWludGQnPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzPSdpbm5lcic+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0naW5uZXJ0ZCc+Ii5tYWtlZGF0ZSgkZm91cnRoRGF0ZSkuIiAmbmJzcDsmbmJzcDsmbmJzcDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPjx0ZD4iLiAkcHJldmlvdXMuIjwvdGQ+IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPiI7IA0KCQkJICAgICAgICAgICAgICAgICAgICANCgkJCQkJDQoJCQkJCQ0KCQkJDQoJCQkNCg0KDQoJCQkgfQ0KDQoJCQkgDQoJCQkgDQoJCQkgDQoJCQkgIGlmKCRza2lwcm93ID09IDEpICAgICAgeyAgICAvL1NLSVJQIFJPVyBDT05ESVRJT04NCgkJCSANCgkJCQkJIA0KCQkJCQkgDQoJCWZvcigkaT0wOyRpPGNvdW50KCRuYW1lb2ZkZXZpY2UpOyRpKyspDQogICAgIHsNCgkgZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPjx0YWJsZSBjbGFzcz0naW5uZXInPjx0cj4iOw0KCSANCgkgICAgICAgICAgICAgICAgICRwcmludHBhcmFzPWFycmF5KCk7DQogICAgICAgICAgICAgIC8vIGVjaG8gY291bnQoJGZpbmFsYXJyWyRpXSk7DQogICAgICAgICAgICAgIGZvcigkbz0xOyRvPD1jb3VudCgkZmluYWxhcnJbJGldKS0xOyRvKyspDQoJCQkgIHsNCgkJCQkkcHJpbnRwYXJhc1skby0xXT0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCQ0KCQkJCQ0KCQkJfSAgDQoJCQkNCgkJCWZvcigkcD0wOyRwPGNvdW50KCRwcmludHBhcmFzKTskcCsrKQ0KCQkJewkJCQ0KCQkJDQoJCQlpZigkc3FsY2hhbmdlID09IDEpDQoJCQkJDQoJCQkNCgkJCXsNCgkJCQkkc3FsZGF0YT0iIHNlbGVjdCB0aW1lLGRhdGUsIHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGV2aWNlSWRbJGldJw0KCQkJIA0KCQkJICAgICAgICAgICAgICAgYW5kIHBjb2RlPSckcHJpbnRwYXJhc1skcF0nIGFuZCAoZGF0ZSA9ICckY2FycnlEYXRlJykNCgkJCQkJCSAgIA0KCQkJCQkJICAgYW5kICh0aW1lID4gJyRwcmV2aW91cycgYW5kIHRpbWUgPD0gJzIzLjU5JykNCgkJCQkJCSAgIA0KCQkJCQkJICAgICBvcmRlciBieSBkYXRlLHRpbWUgbGltaXQgMTsNCgkJCQkJCSAgIA0KCQkJCQkJICAgIjsNCgkJCQkkcmVzdWx0ZGF0YSA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsZGF0YSk7DQoJCQkJDQoJCQkJDQoJCQl9ZWxzZSANCgkJCQkNCgkJCQl7CQ0KCQkJICRzcWxkYXRhPSIgc2VsZWN0IHRpbWUsZGF0ZSwgdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkZXZpY2VJZFskaV0nDQoJCQkgDQoJCQkgICAgICAgICAgICAgICBhbmQgcGNvZGU9JyRwcmludHBhcmFzWyRwXScgYW5kIChkYXRlID0gJyRvcmdEYXRlJykNCgkJCQkJCSAgIA0KCQkJCQkJICAgYW5kICh0aW1lID4gJyRwcmV2aW91cycgYW5kIHRpbWUgPD0gJyRuZXh0JykNCgkJCQkJCSAgIA0KCQkJCQkJICAgICBvcmRlciBieSBkYXRlLHRpbWUgbGltaXQgMTsNCgkJCQkJCSAgIA0KCQkJCQkJICAgIjsNCgkJCQkJCSAgIA0KCQkJCQkJICAgDQoJCQkkcmVzdWx0ZGF0YSA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsZGF0YSk7DQoJCQkJfQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJaWYobXlzcWxpX251bV9yb3dzKCRyZXN1bHRkYXRhKSkNCgkJCQkNCgkJCQl7DQoJCQkJICAgICB3aGlsZSgkcm93ZGF0YSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0ZGF0YSkpCQ0KCQkJCQkNCgkJCQkJew0KCQkJCQkgICAgICANCgkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz48aT4iLmNvdW50X2RpZ2l0KCRyb3dkYXRhWyd2YWx1ZSddKS4gIiANCgkJCQkJCQkNCgkJCQkJCQkgJm5ic3A7CSA8L2k+PC90ZD4iOw0KCQkJCQkNCgkJCQkJfQ0KCQkJCX0NCgkJCQkJCQ0KICAgICAgICAgICAgICBlbHNlew0KCQkJCSAgDQoJCQkJIGVjaG8gICI8dGQgY2xhc3M9J2lubmVydGQnPjxpPiAtLS4tLQ0KCQkJCQkJCQ0KCQkJCQkJCSZuYnNwOzwvaT48L3RkPiI7DQoJCQkJICANCgkJCSAgfQkJCQkJCQ0KCQkJDQoJICAgICAgICAgDQoJIA0KCQkJfQ0KCQkJDQoJCQllY2hvICI8L3RyPjwvdGFibGU+DQoJCQk8L3RkPiI7IC8vIG1haW4gdGQgZW5kcw0KCSANCiAgICAgICAgICB9ICAvL2ZvciBlYWNoIGRldmljZSAgLy8NCgkJICANCgkJICBpZigkc3FsY2hhbmdlID09IDEpDQoJCSAgew0KCQkJICAkc3FsY2hhbmdlPTA7DQoJCSAgfQ0KIA0KCX0gICAgICAgLy8gU0tJUCBSb3cgY29uZGlvdG4NCiAgDQogICAgICAgICAgICAgIA0KCQkJICAgJHByZXZpb3VzID0gJG5leHQ7DQoJCQkgICAgJG5leHQgPSBzdHJ0b3RpbWUoJG5leHQpOw0KIA0KICRuZXh0PWRhdGUoIkguaSIsc3RydG90aW1lKCcrJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLCRuZXh0KSk7DQogDQogDQogICAgICANCg0KIA0KICAgICAgaWYgKCAkcHJldmlvdXMgPj0gJG5leHQgKQ0KIHsNCiAgICAgICANCiAgICAgICAgICAgICAgICAgDQoJCQkJLy9lY2hvICIkb3JnRGF0ZTxicj4kcHJldmlvdXMgPGJyPiAkbmV4dCI7IA0KCQkJCSANCgkJCQkgDQogICAgICAgICAgICRleHJyID0gJHByZXZpb3VzOw0KICAgICAkY2FycnlEYXRlPSRvcmdEYXRlOw0KCSAkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCgkgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCSAkZGF0ZWNoYW5nZSA9IDE7DQoJIA0KCQ0KCSAgDQoJIA0KIH0NCiAvLyR6Kys7DQoJCQkgICANCg0KCSANCi8vICBpZigoJG9yZ0RhdGUgPT0gJHRvZGF0ZSkgJiYgKCRleHJyID4gJG9mZnNldCkpew0KLy8gCWJyZWFrOw0KLy8gfSAgICAgICANCgkgDQoJIA0KCSANCgkgZWNobyAiPC90cj4iOw0KCSANCiB9ICAvL3doaWxlIGVuZHMNCiANCiBpZigoICRuZXdfZGF0ZUZyb20gIT0gJGZvdXJ0aERhdGUpKQ0KIGVjaG8gIjx0ciBjbGFzcz0nZmluYWxyb3cgb2Zmc2V0aGlkZSc+IjsNCiBlbHNlDQogZWNobyAiPHRyIGNsYXNzPSdmaW5hbHJvdyc+IjsNCiANCiANCiANCiAgICAgICBlY2hvICIgPHRkIGNsYXNzPSdtYWludGQnPg0KCQkJPHRhYmxlIGNsYXM9J2lubmVyJz48dHI+PHRkIGNsYXNzPSdpbm5lcnRkJz4iLm1ha2VkYXRlKCRjYXJyeURhdGUpLiIgJm5ic3A7Jm5ic3A7Jm5ic3A7DQoJCQkgPC90ZD48dGQ+Ii4gJHByZXZpb3VzLiI8L3RkPjwvdHI+PC90YWJsZT4NCgkJCSANCgkJCSA8L3RkPiI7IA0KIA0KIGZvcigkaT0wOyRpPGNvdW50KCRuYW1lb2ZkZXZpY2UpOyRpKyspDQogew0KCSBlY2hvICI8dGQgY2xhc3M9J21haW50ZCc+PHRhYmxlIGNsYXNzPSdpbm5lcic+PHRyPiI7DQoJIA0KCSANCgkgDQoJIA0KCSAgJHByaW50cGFyYXM9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwcmludHBhcmFzWyRvLTFdPSRmaW5hbGFyclskaV1bJG9dOw0KICAgICAgICAgIAkJDQoJCQkJDQoJCQl9ICANCgkJCQ0KCQkJDQoJCQlmb3IoJHA9MDskcDxjb3VudCgkcHJpbnRwYXJhcyk7JHArKykNCgkJCXsJCQkNCgkJCQ0KCQkJICRzcWxkYXRhPSIgc2VsZWN0IHRpbWUsZGF0ZSwgdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkZXZpY2VJZFskaV0nDQoJCQkgDQoJCQkgICAgICAgICAgICAgICBhbmQgcGNvZGU9JyRwcmludHBhcmFzWyRwXScgYW5kIChkYXRlID0gJyRjYXJyeURhdGUnKQ0KCQkJCQkJICAgDQoJCQkJCQkgICBhbmQgKHRpbWUgPiAnJHByZXZpb3VzJyBhbmQgdGltZSA8PSAnMjMuNTknKQ0KCQkJCQkJICAgDQoJCQkJCQkgICAgIG9yZGVyIGJ5IGRhdGUsdGltZSBsaW1pdCAxOw0KCQkJCQkJICAgDQoJCQkJCQkgICAiOw0KCQkJCQkJICAgDQoJCQkJCQkgICANCgkJCSRyZXN1bHRkYXRhID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzcWxkYXRhKTsNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJaWYobXlzcWxpX251bV9yb3dzKCRyZXN1bHRkYXRhKSkNCgkJCQkNCgkJCQl7DQoJCQkJICAgICB3aGlsZSgkcm93ZGF0YSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0ZGF0YSkpCQ0KCQkJCQkNCgkJCQkJew0KCQkJCQkgICAgICANCgkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz48aT4iLiRyb3dkYXRhWyd2YWx1ZSddLiAiIA0KCQkJCQkJCQ0KCQkJCQkJCSZuYnNwOzwvaT48L3RkPiI7DQoJCQkJCQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCQkJDQogICAgICAgICAgICAgIGVsc2V7DQoJCQkJICANCgkJCQkgZWNobyAgIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+PGk+Jm5ic3A7ICZuYnNwOyZuYnNwOyAtLS4tLQ0KCQkJCQkJCQ0KCQkJCQkJCSZuYnNwOyZuYnNwOwkgPC9pPjwvdGQ+IjsNCgkJCQkgIA0KCQkJICB9CQkJCQkJDQoJCQkNCgkgICAgICAgICANCgkgDQoJCQl9DQoJCQkNCgkJCWVjaG8gIjwvdHI+PC90YWJsZT4NCgkJCTwvdGQ+IjsNCiANCiB9DQogDQovL2VjaG8gIjxicj4gICA8YnI+ICRwcmV2aW91cyA8YnI+ICRuZXh0IjsgDQoNCmVjaG8gIjwvdHI+PC90YWJsZT4iOyAgLy90YWJlIGVuZHMgICBtYWluDQoNCg0KDQoNCg0KDQoNCg0KCQkJICAgDQoNCj8+DQoNCg0KDQoNCg0KDQoNCg0KPC90cj4NCjwvdGFibGU+DQoNCg0KPC9kaXY+DQo8P3BocA0KDQoNCg0KDQoNCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgICAgICAgICAgICAgV1JPTkcgVkFMVUVTIFRBQkxFRUVFRUVFRUVFRUVFRUVFRUVFRUUNCg0KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KaWYoJHdhbnRhbGFybSA9PSAneWVzJykNCnsNCj8+DQoNCg0KDQo8P3BocA0KDQoNCiRkZXZpY2VJZD1hcnJheSgpOw0KJG5hbWVvZmRldmljZT1hcnJheSgpOw0KJGdldFRvPScnOw0KJGdldEZyb209Jyc7DQokZ2xvdXNlcm5hbWU9Jyc7DQokdXNlcnR5cGU9Jyc7DQokcGRhdGU9ZGF0ZSgnZC1tLVknKTsNCiRwdGltZT1kYXRlKCdIOmk6cycpOw0KJGludGVydmFsPTA7DQoNCmlmKGlzc2V0KCRfUE9TVFsnZHZjc2JtdCddKSkJDQoJCQkJew0KCQkJCQkNCiAgICAgICAgICAgICAgICAgICAgJGdldEtleSA9ICRfUE9TVFsnZ2V0S2V5J107DQoNCiAgICAgICAgICAgICAgICAgICAgJGdldGRhdGEgPSAiU0VMRUNUICogZnJvbSBwcm9maWxlIHdoZXJlIHVzZXJpZCA9JyRnZXRLZXknICI7DQogICAgICAgICAgICAgICAgICAgICRyZXNkYXRhID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRnZXRkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIA0KCQkJCQkkZ2V0RnJvbSA9ZGF0ZSgnWS5tLmQnLCBzdHJ0b3RpbWUoJyAtMSBkYXknKSk7DQoJCQkJCSRnZXRUbyA9ZGF0ZSgnWS5tLmQnKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgd2hpbGUoJHJvd2RhdGEgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc2RhdGEpKQ0KICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRncmFwaG9wdG4gPSAkcm93ZGF0YVsnZ3JhcGhvcHQnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR3YW50YWxhcm0gPSAkcm93ZGF0YVsnd2FudGFsYXJtJ107DQogICAgICAgICAgICAgICAgICAgICAgICAkdGltZWZpbHRlciA9ICRyb3dkYXRhWydzdGFydHRpbWUnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICRpbnRlcnZhbCA9ICRyb3dkYXRhWydwaW50ZXJ2YWwnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lSW50ZXIgPSAkaW50ZXJ2YWwgLiAiIG1pbnV0ZXMiOw0KICAgICAgICAgICAgICAgICAgICAgICAgJGdsb3VzZXJuYW1lID0gICRyb3dkYXRhWyd1c2VyaWQnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR1c2VydHlwZSAgID0gICRyb3dkYXRhWyd0eXBlJ107DQogICAgICAgICAgICAgICAgICAgICAgICAkZGF0YTIgPSAkcm93ZGF0YVsnZGV2aWQnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICRqYXNvbiA9ICRyb3dkYXRhWydqc29uJ107DQogICAgICAgICAgICAgICAgICAgICAgfQ0KCQkNCgkJDQoJCSRzcD1leHBsb2RlKCIsIywiLCRqYXNvbik7DQoJCS8vcHJpbnRfcigkc3ApO2VjaG8gIjxicj4iOw0KCQkkaW5kZXg9Y291bnQoJHNwKTsNCgkJJGFzcD1ydHJpbSgkc3BbJGluZGV4LTFdLCcsIycpOw0KCQlhcnJheV9wb3AoJHNwKTsNCgkJYXJyYXlfcHVzaCgkc3AsJGFzcCk7DQogICAgICAJDQoNCgkvL3ByaW50X3IoJHNwKTsNCgkNCglmb3IoJGk9MDskaTxjb3VudCgkc3ApOyRpKyspew0KCSRmaW5hbGFyclskaV09ZXhwbG9kZSgnLCcsJHNwWyRpXSk7IH0NCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJDQoNCg0KICAgICAgICAgICAgCWZvcigkaT0wOyRpPGNvdW50KCRzcCk7JGkrKyl7DQoJCQkNCgkJCSRrZXk9JGZpbmFsYXJyWyRpXVswXTsNCgkJDQoJJG5hbWVlPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgdWlkPScka2V5JyBsaW1pdCAxIjsNCg0KDQogICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG5hbWVlKTsNCgkJICANCgkJICB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0KSkNCgkJICB7DQoJCQkgICRuYW1lb2ZkZXZpY2VbJGldPSRyb3dbJ25hbWUnXTsNCgkJCSAgJGRldmljZUlkWyRpXT0kcm93Wyd1aWQnXTsNCgkJICB9DQoJICAgICANCgkNCgkJfQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQl9DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQokZGVzaT0nJzsNCiRkZXBhcnRtZW50PScnOw0KJHJvbGU9Jyc7DQokbmFtZW9mdXNlcj0nJzsNCmlmKCR1c2VydHlwZSA9PSAnbWFudScpDQp7DQogICAgJGRlc2k9J21hbnUnOw0KJGRlcGFydG1lbnQ9J21hbnUnOw0KJHJvbGU9J21hbnUnOw0KJG5hbWVvZnVzZXI9J21hbnUnOw0KICAgIA0KICAgIA0KfQ0KDQppZigkdXNlcnR5cGUgPT0gJ3VzZXInKQ0Kew0KICAgJHNpZyA9InNlbGVjdCAqIGZyb20gdXNlcm5hbWUgd2hlcmUgdWlkID0gJyRnbG91c2VybmFtZSciOw0KICAgJHJlc3NvID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzaWcpOw0KICAgd2hpbGUoJHJvZXI9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNzbykpDQogICB7DQoJICRkZXNpID0gJHJvZXJbJ2Rlc2lnbmF0aW9uJ107DQoJICRyb2xlID0gJHJvZXJbJ3JvbGUnXTsNCgkgJGRlcGFydG1lbnQgPSAkcm9lclsnZGVwdG5hbWUnXTsNCgkgJG5hbWVvZnVzZXIgPSAkcm9lclsnbmFtZSddOw0KCSANCgkgDQoJICAgDQogICB9DQogICAgDQp9DQoNCg0KaWYoJHVzZXJ0eXBlID09ICdhZG1pbicpDQp7DQogICAgDQogICAgJHNpZyA9InNlbGVjdCAqIGZyb20gYWRtaW4gd2hlcmUgdWlkID0gJyRnbG91c2VybmFtZSciOw0KICAgJHJlc3NvID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzaWcpOw0KICAgd2hpbGUoJHJvZXI9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNzbykpDQogICB7DQoJICRkZXNpID0gJHJvZXJbJ2Rlc2lnbmF0aW9uJ107DQoJICRyb2xlID0gJHJvZXJbJ3JvbGUnXTsNCgkgJGRlcGFydG1lbnQgPSAkcm9lclsnZGVwdG5hbWUnXTsNCgkgJG5hbWVvZnVzZXIgPSAkcm9lclsnbmFtZSddOw0KCSANCgkgDQoJICAgDQogICB9DQogICAgDQp9DQoNCg0KLyoqKioqKioqICAgREFURSBDb252ZXJzaW9uICoqKioqLw0KDQogICAgICAgICAgICAgICAgICAgICR0aW1lVG8gPSAkZ2V0VG87DQoJCQkJCSAkbmV3X2RhdGVUbyA9ICR0aW1lVG8gOw0KCQkJCQkgLy9kYXRlKCJZLm0uZCIsICR0aW1lVG8pOw0KCQkJCQkNCgkJCQkJIA0KCQkJCQkgJHRpbWVGcm9tbyA9ICRnZXRGcm9tOw0KCQkJCQkgJG5ld19kYXRlRnJvbSA9ICAkdGltZUZyb21vOw0KCQkJCQkgLy9kYXRlKCJZLm0uZCIsICR0aW1lRnJvbW8pOw0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQokcGFyYXM9YXJyYXkoKTsNCiRtYXhhcnI9YXJyYXkoKTsNCiRtaW5hcnI9YXJyYXkoKTsNCiRwY29kZUFycmF5Mj1hcnJheSgpOw0KJGZ0PTA7DQoNCg0KDQokYXNxbGE9InNlbGVjdCBNQVgoc25vKSBmcm9tIGRldmljZSI7DQokYXJlc3VsdGE9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRhc3FsYSk7DQoNCndoaWxlKCRhcm93YT1teXNxbGlfZmV0Y2hfYXNzb2MoJGFyZXN1bHRhKSkNCgkgew0KCQkgJG1heFBhcmE9JGFyb3dhWydNQVgoc25vKSddOw0KCQkgDQoJCSANCgkgfQ0KCSANCi8vZWNobyAkbWF4UGFyYTsgDQokZ2V0TGF0ZXN0VGltZT0nJzsNCiRzcWxiPSJzZWxlY3QgRElTVElOQ1QoZGV2aWQpLG5hbWUgZnJvbSBsaXZkZXYgIjsNCiRyZXN1bHRiPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsYik7DQokZGV2aWNlY291bnQ9bXlzcWxpX251bV9yb3dzKCRyZXN1bHRiKTsNCg0KJGNvdW50ZXI0PTA7DQoNCg0KZWNobyAiPGRpdiBjbGFzcyA9ICd3cmFwcGVyIGZvbnRzcyc+IjsNCj8+DQoNCjxjYXB0aW9uIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQiPjxoMj4JQWxhcm0gTG9nIFJlcG9ydDwvaDI+IDwvY2FwdGlvbj4NCjx0YWJsZSBjbGFzcz0nb3V0ZXIgYWxhcm0nPg0KICAgICANCiAgICA8dHIgY2xhc3M9J2ZpcnN0cm93Jz4NCjw/cGhwIGVjaG8gIjx0aCBjbGFzcz0nb3V0ZXJ0aCBvdXRlcnRodHdvJz5TZW5zb3IgbmFtZS0+IDwvdGg+IjsNCiAgICAgZm9yKCRmdD0wOyRmdDxjb3VudCgkbmFtZW9mZGV2aWNlKTskZnQrKykNCgkgew0KCQkgZWNobyAiPHRoIGNsYXNzPSdvdXRlcnRoJz4iLiRuYW1lb2ZkZXZpY2VbJGZ0XS4iPC90aD4iOw0KCQkgDQoJCQ0KCSANCgkgDQoJIH0NCgkgZWNobyAiPC90cj4iICAgICAgLy9maXJzdCBSb3cgRW5kcyANCgkgDQoJIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJUlNUIFJPVyBFTkRTIFdST04gVkFMVUVTICAgICAgICAgICAgICovDQoJIA0KCSANCgkgDQoJIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VDT05EIFJPVyBTVEFSVCAgICAgICAgKi8NCgkgDQoJPz4gDQoJDQoJDQoJIA0KCSANCgkgDQoJIA0KCSA8L3RyPjx0ciBjbGFzcz0nc2Vjb25kcm93JyA+DQogICAgICAgICAgIDx0ZCBjbGFzcz0nbWFpbnRkIG5ld3cnPg0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+PHRkIGNsYXNzPSdpbm5lcnRkJz5EYXRlPC90ZD48dGQgY2xhc3M9ICdpbm5lcnRkJz4mbmJzcDtUaW1lPC90ZD48L3RyPjwvdGFibGU+DQoJCSAgIA0KCQkgICA8L3RkPg0KCQkgICANCgkJICAgPD9waHAgDQogICAgIGZvcigkaT0wOyRpPGNvdW50KCRuYW1lb2ZkZXZpY2UpOyRpKyspDQoJIHsgICAgIA0KICAgICAgICAgICAkbWdiPWFycmF5KCk7DQogICAgICAgICAgICRtZ2IyPWFycmF5KCk7DQogICAgICAgICAgICRjYXM9MDsNCiAgICAgICAgICAgICRwcmludHBhcmE9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwYz0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCSRic3FsPSJzZWxlY3QgbWluLG1heCxwYXJhbWV0ZXIgZnJvbSBkZXZpY2Ugd2hlcmUgdWlkPSckZGV2aWNlSWRbJGldJyBhbmQNCgkJCQkgICANCgkJCQkgICAgICAgICAgIHBjb2RlPSckcGMnIGxpbWl0IDEgIjsNCgkJCQkgIA0KCQkJICANCg0KICAgICAgICAgICAgICAgICAgICAkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkYnNxbCk7DQoJCQkJCXdoaWxlKCRyb3dzcz1teXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdCkpDQoJCQkJCXsNCgkJCQkJCSRwcmludHBhcmFbJG8tMV09JHJvd3NzWydwYXJhbWV0ZXInXTsNCgkJCQkgICAgICAgICAgJG1nYlskby0xXSA9ICRyb3dzc1snbWluJ107DQoJCQkJCQkgJG1nYjJbJG8tMV0gPSAkcm93c3NbJ21heCddOw0KCQkJCQkJIA0KCQkJCQl9DQoJCQkJICAgICAgDQoJCQl9ICANCgkJCSAgLy9wcmludF9yKCRwcmludHBhcmEpOw0KCQkJICANCgkJCSAgDQoJCQkgIA0KCQkJICANCiANCiAgICAgICAgICAgZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPg0KCQkgICANCgkJICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+PHRyPiI7DQoJDQoJCSAgICAgICAgICAgDQoJCSAgICBmb3IoJGlucz0wOyRpbnM8Y291bnQoJHByaW50cGFyYSk7JGlucysrKQ0KCQkJew0KCQkJCWVjaG8gIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+Ii4kcHJpbnRwYXJhWyRpbnNdLiImbmJzcDs8L3RkPiI7DQoJCQkJDQoJCQkJDQoJCQl9DQoJCSANCgkJIA0KCQkgDQoJCSBlY2hvICI8L3RyPjwvdGFibGU+IjsNCgkJIGVjaG8gIjwvdGQ+IjsNCgkJIA0KCQkgDQoJIA0KCSANCgkgDQoJIH0NCgkgDQoJDQoJIA0KCT8+DQoJCSAgIA0KCQkgICANCg0KPC90cj4NCg0KPHRyIGNsYXNzPSdzZWNvbmRyb3cnID4NCiAgICAgICAgICAgPHRkIGNsYXNzPSdtYWludGQnPg0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+PHRkIGNsYXNzPSdpbm5lcnRkJz5NaW4gLzwvdGQ+PHRkIGNsYXNzPSAnaW5uZXJ0ZCc+ICZuYnNwO01heDwvdGQ+PC90cj48L3RhYmxlPg0KCQkgICANCgkJICAgPC90ZD4NCg0KPD9waHANCmZvcigkaT0wOyRpPGNvdW50KCRuYW1lb2ZkZXZpY2UpOyRpKyspDQoJIHsgICAgIA0KICAgICAgICAgICAkbWdiPWFycmF5KCk7DQogICAgICAgICAgICRtZ2IyPWFycmF5KCk7DQogICAgICAgICAgICRjYXM9MDsNCiAgICAgICAgICAgICRwcmludHBhcmE9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwYz0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCSRic3FsPSJzZWxlY3QgbWluLG1heCxwYXJhbWV0ZXIgZnJvbSBkZXZpY2Ugd2hlcmUgdWlkPSckZGV2aWNlSWRbJGldJyBhbmQNCgkJCQkgICANCgkJCQkgICAgICAgICAgIHBjb2RlPSckcGMnIGxpbWl0IDEgIjsNCgkJCQkgIA0KCQkJICANCg0KICAgICAgICAgICAgICAgICAgICAkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkYnNxbCk7DQoJCQkJCXdoaWxlKCRyb3dzcz1teXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdCkpDQoJCQkJCXsNCgkJCQkJCSRwcmludHBhcmFbJG8tMV09JHJvd3NzWydwYXJhbWV0ZXInXTsNCgkJCQkgICAgICAgICAgJG1nYlskby0xXSA9ICRyb3dzc1snbWluJ107DQoJCQkJCQkgJG1nYjJbJG8tMV0gPSAkcm93c3NbJ21heCddOw0KCQkJCQkJIA0KCQkJCQl9DQoJCQkJICAgICAgDQoJCQl9ICANCgkJCQ0KCQkJDQoJCQllY2hvICI8dGQgY2xhc3M9J21haW50ZCc+DQoJCSAgIA0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+IjsNCgkNCgkJICAgICAgICAgICANCgkJICAgIGZvcigkaW5zPTA7JGluczxjb3VudCgkcHJpbnRwYXJhKTskaW5zKyspDQoJCQl7DQoJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4oIi4kbWdiWyRpbnNdLiIvIiAuJG1nYjJbJGluc10uIikmbmJzcDs8L3RkPiI7DQoJCQkJDQoJCQkJDQoJCQl9DQoJCSANCgkJIA0KCQkgDQoJCSBlY2hvICI8L3RyPjwvdGFibGU+IjsNCgkJIGVjaG8gIjwvdGQ+IjsNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCSB9CQkNCgkJCQ0KCQkJDQo/PgkJCQ0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjw/cGhwICAgICAgICAgICANCg0KICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgM3JkIGFuZCBGT1VSVCByb3cgICAgICAgICAgICAgICovDQoJCSAgIA0KCQkgICAgLyogICAgICBGb3VydGggcm93IGNvZGUgICAqLw0KDQoNCiRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQokdG9kYXRlPSAkbmV3X2RhdGVUbzsNCg0KJG5vZGF0YWZsYWc9MDsNCiR3d3MgPTA7DQogJHdyb25nRGF0ZT1hcnJheSgpOw0KICR3cm9uZ1RpbWU9YXJyYXkoKTsNCiRpaT0wOw0Kd2hpbGUoJHd3cyA8IDEgKQ0Kew0KCWZvcigkaT0wOyRpPGNvdW50KCRuYW1lb2ZkZXZpY2UpOyRpKyspDQoJCSB7DQoJCQkJCSANCgkJCQkJIA0KCQkJCQkgDQoJCQkJCSAgICANCgkJICAgICAgICAgICRwcmludHBhcmFzPWFycmF5KCk7DQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBmb3IoJG89MTskbzw9Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbysrKQ0KCQkJICAgew0KCQkJCSRwcmludHBhcmFzWyRvLTFdPSRmaW5hbGFyclskaV1bJG9dOw0KCQkJICAgfSANCiAgICAgICAgICAgICAgICAgIAkJCQkNCgkJCQkNCgkJCQkJJG1pbm49MDsNCgkJCQkJJG1heHg9MDsNCiAgICAgICAgICAgICAgICAgICAgIA0KCQkJCQ0KCQkJCQkgDQogICAgICAgICAgICAgICAgICBmb3IoJHBhPTA7JHBhPGNvdW50KCRwcmludHBhcmFzKTskcGErKykNCgkJCQkgIHsNCgkJCQkJICANCgkJCQkJICAkc2VxPSJzZWxlY3QgbWluLG1heCBmcm9tIGRldmljZSB3aGVyZSB1aWQ9JyRkZXZpY2VJZFskaV0nIGFuZCANCgkJCQkJICBwY29kZT0nJHByaW50cGFyYXNbJHBhXSciOw0KCQkJCQkgICRyZT1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJHNlcSk7DQoJCQkJCSAgDQoJCQkJCSAgDQoNCg0KICAgIA0KICAgICAgICAgICAgICAgICAgIA0KCQkJCQkgIA0KCQkJCQkgIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlKSkNCgkJCQkJICB7DQoJCQkJCQkgJG1pbm4gPSAkcm93WydtaW4nXTsNCgkJCQkJCSAkbWF4eCA9ICRyb3dbJ21heCddOw0KCQkJCQkJICANCgkJCQkJICB9DQoJCQkJCSAgDQoJCQkJCSAgDQoJCQkJCSAgDQoJCQkJCSAgDQoJCQkJCSAgJHNlbCA9InNlbGVjdCBkYXRlLHRpbWUsIHZhbHVlIGZyb20gbGl2ZGV2DQoJCQkJCSAgDQoJCQkJCSAgIHdoZXJlIGRldmlkPSckZGV2aWNlSWRbJGldJyBhbmQgDQoJCQkJCSAgIHBjb2RlID0nJHByaW50cGFyYXNbJHBhXScgYW5kDQoJCQkJCSAgIGRhdGUgPSckb3JnRGF0ZScgICAgICAgICAgYW5kIA0KCQkJCQkgICAodmFsdWUgPD0gJyRtaW5uJyBvciB2YWx1ZSA+PSAnJG1heHgnKSANCgkJCQkJICAgICAgIG9yZGVyIGJ5IHRpbWUgICAiOw0KCQkJCQkJICAgDQoJCQkJCQkgICAgDQoNCiAgICAgICAgICAgICAgICAgICAgICANCg0KCQkJCQkgICANCgkJCQkJICAkcmVzbCA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc2VsKTsNCgkJCQkJICANCgkJCQkJICBpZihteXNxbGlfbnVtX3Jvd3MoJHJlc2wpKQ0KCQkJCQkgIHsNCgkJCQkJCSAgd2hpbGUgKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc2wpKQ0KCQkJCQkJICB7DQoJCQkJCQkJICAkd3JvbmdEYXRlWyRpaV09ICRyb3dbJ2RhdGUnXTsNCgkJCQkJCQkgICR3cm9uZ1RpbWVbJGlpXT0gJHJvd1sndGltZSddOw0KCQkJCQkJCSAgDQoJCQkJCQkJICAkd3dzID0xOw0KCQkJCQkJCSANCgkJCQkJCQkgICRpaSsrOw0KCQkJCQkJICB9DQoJCQkJCQkgIA0KCQkJCQkJICANCgkJCQkJICB9DQoJCQkJCSAgZWxzZXsNCgkJCQkJCSAgDQoJCQkJCQkgIC8vSGFuZGxlIGNvbmRpdGlvbjsNCgkJCQkJICB9DQoJCQkJCSAgDQoJCQkJCSAgDQoJCQkJCSAgDQoJCQkJICB9CQkJCQkgIA0KCQkJCQkgIA0KDQogICAgICAgICAgICAgDQoNCgkJCQkJIA0KCQkJCQkgDQoJCSB9CQ0KICAgICAgICAgIA0KCQkgIAkJICRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KCQkJCQkgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQogICAkb3JnRGF0ZSA9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQogICANCiAgIGlmKCRvcmdEYXRlID4gJHRvZGF0ZSkNCiAgIHsNCgkgICAkbm9kYXRhZmxhZz0xOw0KCSAgIGJyZWFrOw0KICAgfQ0KCQkgIA0KDQp9DQoNCiRpbnRlcm5hPTA7DQppZiAoJHd3cz09MCkNCnsNCiAgIC8vCWVjaG8gIk5vIGRhdGEgZm9yIG91dCBvZiByYW5nZSB2YWx1ZXMgZm9yIGdpdmVuIGRhdGVzICI7DQokaW50ZXJuYSA9MTsNCgkNCn0JDQoNCg0KZWxzZQ0Kew0KDQoNCg0KDQokZm91cnRoVGltZSA9IG1pbigkd3JvbmdUaW1lKTsNCg0KLy9lY2hvICRmb3VydGhUaW1lIDsNCg0KJGluZD1hcnJheV9zZWFyY2goJGZvdXJ0aFRpbWUsJHdyb25nVGltZSk7DQokZm91cnRoRGF0ZSA9ICR3cm9uZ0RhdGVbJGluZF07DQoNCn0NCg0KDQoNCg0KIA0KDQogJG9yZ0RhdGU9JGZvdXJ0aERhdGU7DQogJHRvZGF0ZSA9ICRuZXdfZGF0ZVRvOw0KICRwcmV2aW91cyA9ICRmb3VydGhUaW1lOw0KICAgDQogDQogDQogDQogDQogDQogJGR5dD10cnVlOyANCiAkb2RhdGU9MDsNCiAkb3RpbWU9MDsNCg0KIHdoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpDQogew0KCSANCgkgDQoJIA0KCSANCgkgDQoJICRza2lwcm93PTE7DQoJIA0KCSANCgkgICAgLy9tYWluIHRkIDNyZCByb3cNCgkJICAgDQoJCSRlYWNocHU9YXJyYXkoKTsNCiAgICAgICAkcHJpbmluCT0gMDsJDQoJZm9yKCRpPTA7JGk8Y291bnQoJG5hbWVvZmRldmljZSk7JGkrKykgICB7DQoJCSAgIA0KCQkgICANCgkJICAgICAkcHJpbnRwYXJhcz1hcnJheSgpOw0KICAgICAgICAgICAgICAvLyBlY2hvIGNvdW50KCRmaW5hbGFyclskaV0pOw0KICAgICAgICAgICAgICBmb3IoJG89MTskbzw9Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbysrKQ0KCQkJICAgew0KCQkJCSRwcmludHBhcmFzWyRvLTFdPSRmaW5hbGFyclskaV1bJG9dOw0KCQkJICAgfSANCiAgICAgICAgICAgICAgICAgIAkJCQkNCgkJCQkNCgkJCQkJJG1pbm49MDsNCgkJCQkJJG1heHg9MDsNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCWZvcigkcGE9MDskcGE8Y291bnQoJHByaW50cGFyYXMpOyRwYSsrKSAgew0KCQkJCQkgDQoJCQkJCSANCgkJCQkJIA0KCQkJCQkgDQoJCQkJCQ0KCQkJCQkgICAkc2VxPSJzZWxlY3QgbWluLG1heCBmcm9tIGRldmljZSB3aGVyZSB1aWQ9JyRkZXZpY2VJZFskaV0nIGFuZCANCgkJCQkJICBwY29kZT0nJHByaW50cGFyYXNbJHBhXSciOw0KCQkJCQkgICRyZT1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJHNlcSk7DQoJCQkJCSAgDQoJCQkgICAgICAgICAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmUpKQ0KCQkJCQkgIHsNCgkJCQkJCSAkbWlubiA9ICRyb3dbJ21pbiddOw0KCQkJCQkJICRtYXh4ID0gJHJvd1snbWF4J107DQoJCQkJCQkgIA0KCQkJCQkgIH0NCgkJCQkJICANCgkJCQkJICANCgkJCQkJICANCgkJCQkJICANCgkJCQkJICAkc2VsID0ic2VsZWN0IGRhdGUsdGltZSwgdmFsdWUgZnJvbSBsaXZkZXYNCgkJCQkJICANCgkJCQkJICAgd2hlcmUgZGV2aWQ9JyRkZXZpY2VJZFskaV0nIGFuZCANCgkJCQkJICAgcGNvZGUgPSckcHJpbnRwYXJhc1skcGFdJyBhbmQNCgkJCQkJICAgZGF0ZSA9JyRvcmdEYXRlJyAgICAgICAgICBhbmQgDQoJCQkJCSAgICh0aW1lID4gJyRwcmV2aW91cycgYW5kIHRpbWUgPD0gJyRuZXh0JykgYW5kDQoJCQkJCSAgICh2YWx1ZSA8PSAnJG1pbm4nIG9yIHZhbHVlID49ICckbWF4eCcpIA0KCQkJCQkgICAgICAgb3JkZXIgYnkgdGltZSBsaW1pdCAxICAiOw0KCQkJIA0KCQkJIA0KCQkJICAgIA0KCQkJIA0KCQkJICAgICAgICAgICRycz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJHNlbCk7DQoJCQkJCSAgDQoJCQkJCSAgaWYobXlzcWxpX251bV9yb3dzKCRycykpDQoJCQkJCSAgew0KCQkJCQkJICAkc2tpcHJvdyA9IDA7DQoJCQkJCQkgICANCgkJCQkJCQl3aGlsZSgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRycykpDQoJCQkJCQkJew0KCQkJCQkJCQkNCgkJCQkJCQkJYXJyYXlfcHVzaCgkZWFjaHB1LCRyb3dbJ3ZhbHVlJ10pOw0KCQkJCQkJCQkvL2VjaG8gIjxicj4iLiRyb3dbJ3ZhbHVlJ107DQoJCQkJCQkJCSRvZGF0ZSA9ICRyb3dbJ2RhdGUnXTsNCgkJCQkJCQkJJG90aW1lID0gJHJvd1sndGltZSddOw0KCQkJCQkJCQkNCgkJCQkJCQkJDQoJCQkJCQkJCS8vZWNobyAiPGJyPiIuJG90aW1lOw0KCQkJCQkJCX0JCQkJCQkJCQ0KCQkJCQkJCSAgDQoJCQkJCQkNCgkJCQkJCSANCgkJCQkJICB9DQoJCQkgDQoJCSAgICAgICAgICAgICAgICAgZWxzZQ0KCQkJCQkJIHsNCgkJCQkJCQkgYXJyYXlfcHVzaCgkZWFjaHB1LCcgLS0uLS0gJm5ic3A7Jyk7DQoJCQkJCQkJIA0KCQkJCQkJIH0JCQkJCQkJIA0KCQkJIA0KCQkJIA0KCQkJIA0KCQkJIA0KCQkJfQ0KCQkJDQoJfSAgICAgICAgIC8vZW5kIG9mIG5vIG9mIGRldmljZSAgICAgICANCgkNCgkgICAgICAgaWYoJHNraXByb3cgPT0gMCkNCgkJICAgew0KCQkJPz4NCgkJCQkgICAgICAgICAgICAgICANCgkJCTx0ciBjbGFzcz0ndGhpcmQgIDw/cGhwIGlmKA0KCQkJCSAoICgkbmV3X2RhdGVUbyA9PSAkZm91cnRoRGF0ZSkgJiYgKCRmb3VydGhUaW1lID49ICRvZmZzZXQpICkNCgkJCQkgIHx8DQoJCQkJICggKCRuZXdfZGF0ZUZyb20gPT0gJGZvdXJ0aERhdGUpICYmICgkZm91cnRoVGltZSA8ICRvZmZzZXQpICkNCgkJCQkgfHwoICRuZXdfZGF0ZUZyb20gIT0gJGZvdXJ0aERhdGUpDQoJCQkgKQ0KCQkJIHsNCgkJCQkgZWNobyAib2Zmc2V0aGlkZSI7ICANCgkJCSB9IGVsc2UgDQoJCQkgZWNobyAiIjsgDQoJICANCgkJCSAgPz4nID4gPD9waHAgZWNobyAiDQoJCQkJPHRkIGNsYXNzPSdtYWludGQnPg0KCQkJCTx0YWJsZSBjbGFzcz0naW5uZXInPjx0cj4NCgkJCQk8dGQgY2xhc3M9J2lubmVydGQnPiIubWFrZWRhdGUoJGZvdXJ0aERhdGUpLiI8L3RkPg0KCQkJCTx0ZCBjbGFzcz0gJ2lubmVydGQnPiZuYnNwOyAgIi4kZm91cnRoVGltZS4iPC90ZD4NCgkJCQk8L3RyPjwvdGFibGU+DQoJCQkJDQoJCQkJPC90ZD4iOyANCgkJCQkgICANCgkJCQkgICANCgkJCQkgICANCgkJCQkgICANCgkJCSAgICBmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKSB7DQoJCQkJCQ0KCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPiI7DQoJCSAgICAgICAgICAgICAgICBlY2hvICINCgkJCQkJCQkJPHRhYmxlIGNsYXNzPSdpbm5lcic+IjsNCgkJCQkJCQkJDQoJCQkJCQkJCWVjaG8gIjx0cj4iOw0KCQkgICAgICAgICAgICAgICAgICANCgkJCQkJCQkJJHByaW50cGFyYXM9YXJyYXkoKTsNCgkJCQkJCQkJLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgIHsNCgkJCQkkcHJpbnRwYXJhc1skby0xXT0kZmluYWxhcnJbJGldWyRvXTsNCgkJCSAgIH0gDQoJCSAgDQoJCQkgICAgIGZvcigkcGE9MDskcGE8Y291bnQoJHByaW50cGFyYXMpOyRwYSsrKQ0KCQkJCQkgDQoJCQkJCSB7DQoJCQkJCQkgDQoJCQkJDQoJCQkJCQkJDQoJCQkJCQllY2hvICIgPHRkIGNsYXNzPSAnaW5uZXJ0ZCc+DQoJCQkJCQkmbmJzcDsgIi4kZWFjaHB1WyRwcmluaW5dLiImbmJzcDs8L3RkPiI7DQoJCQkJCQkkcHJpbmluKys7DQoJCQkJCQkNCgkJCQkJIH0NCgkJCSAgIA0KCQkJICANCgkJICAgDQoJCSAgICAgICAgIA0KCQkJICAgDQoJCQkgICAgICAgICAgIGVjaG8gIiA8L3RyPiI7DQoJCQkgICANCgkJCQkgICAgICBlY2hvICAiPC90YWJsZT48L3RkPiI7DQoJCQkJfQ0KCQkgICANCgkJICAgICAgICAgICAgDQoJCSAgICAgICAgICAJICAgJGZvdXJ0aERhdGU9JG9kYXRlOw0KCSAgICAgICAgICAgICAgICAgICAkZm91cnRoVGltZSA9JG90aW1lOw0KCQkgICANCgkJICAgDQoJCSAgIA0KCQkgICAJIGVjaG8gIjwvdHI+IjsgICAgLy9tYWluIHJvdyBlbmRzDQoJCSAgIH0gICAgICAvL0lmIGVuZHMNCgkJCQkNCgkgICANCg0KCSANCgkgDQoJIA0KCSAgICAgICAgCSAgICRwcmV2aW91cyA9ICRuZXh0Ow0KCQkJICAgICRuZXh0ID0gc3RydG90aW1lKCRuZXh0KTsNCiANCiAgICAgICAgICAgICAgJG5leHQ9ZGF0ZSgiSC5pIixzdHJ0b3RpbWUoJysnLiRpbnRlcnZhbC4nbWludXRlcycsJG5leHQpKTsNCgkJCSAgDQoJCQkJCQkJCSAgIGlmICggJHByZXZpb3VzID49ICRuZXh0ICkNCgkJCQkJIHsNCgkJCQkJCSANCgkJCQkJCSAkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCgkJCQkJCSAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJCSAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJCSANCgkJCQkJCSANCgkJCQkJIH0NCgkgDQoJIA0KDQoJIA0KCSAgDQogfSAvL3doaWxlIGVuZHMJICAgDQoJICAgDQoJDQogDQogDQoNCg0KIA0KDQoNCg0KDQoNCg0KCSANCgkgDQoJIA0KCSANCgkgDQoJIA0KPz4NCg0KPC90YWJsZT4NCg0KPC9kaXY+ICAgICA8IS0tICAgLy9yZXBvcnRzICBjbHNzIHRoaXMgd3JhcHMgICAgLS0+DQoNCjxwPjw/cGhwICBpZigkaW50ZXJuYSA9PSAxKSBlY2hvICJObyBkYXRhIGZvciBvdXQgb2YgcmFuZ2UgdmFsdWVzIGZvciBnaXZlbiBkYXRlcyAiOyA/PjwvcD4NCg0KPD9waHANCn0NCmVjaG8gIjxkaXYgY2xhc3M9J3dyYXBwZXInIG15ZGl2PiI7DQoNCg0KCSAgICAgICAgLyogICAgICAgICAgICAgIFNUQVRTIFRBQkxFU1NTUyAgICAgICAgICAqLw0KDQogICAgICAgICAgICANCiAgIGVjaG8gIiA8Y2FwdGlvbj48aDI+U3VtbWVyeSBSZXBvcnQ8L2gyPiA8L2NhcHRpb24+ICA8dGFibGUgY2xhc3M9J291dGVyJz4NCiAgIA0KICAgDQogICA8dHIgY2xhc3M9J2ZpcnN0cm93Jz4NCg0KICA8dGggY2xhc3M9J291dGVydGggb3V0ZXJ0aHR3byc+U2Vuc29yIG5hbWUtPiA8L3RoPiI7DQogICAgIGZvcigkZnQ9MDskZnQ8Y291bnQoJG5hbWVvZmRldmljZSk7JGZ0KyspDQoJIHsNCgkJIGVjaG8gIjx0aCBjbGFzcz0nb3V0ZXJ0aCc+Ii4kbmFtZW9mZGV2aWNlWyRmdF0uIjwvdGg+IjsNCgkJIA0KCQkNCgkgDQoJIA0KCSB9DQoNCiAgZWNobyAiPC90cj4iOw0KICANCi8qIHNlY29uZCByb3cgICovDQplY2hvICI8dHIgY2xhc3M9J3NlY29uZHJvdyc+DQo8dGQgY2xhc3M9J21haW50ZCc+UGFyYW1ldGVyczwvdGQ+IjsgDQoNCg0KICAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRkZXZpY2VJZCk7JGkrKyl7DQoJCSAgIA0KCQkgICANCgkJICAgICAgICAgZWNobyAiPHRkIGNsYXNzID0nbWFpbnRkJz4NCgkJCQkgICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+DQoJCQkJCTx0cj4iOw0KCQkJCQkgDQoJCQkJCSRwcmludHBhcmE9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwYz0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCSRic3FsPSJzZWxlY3QgcGFyYW1ldGVyIGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGRldmljZUlkWyRpXScgYW5kDQoJCQkJICAgDQoJCQkJICAgICAgICAgICBwY29kZT0nJHBjJyBsaW1pdCAxICI7DQoJCQkJICANCgkJCSAgDQoNCiAgICAgICAgICAgICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGJzcWwpOw0KCQkJCQl3aGlsZSgkcm93c3M9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQpKQ0KCQkJCQl7DQoJCQkJCQkkcHJpbnRwYXJhWyRvLTFdPSRyb3dzc1sncGFyYW1ldGVyJ107DQoJCQkJCQkNCgkJCQkJfQ0KCQkJCQ0KCQkJfSAgDQoJCQkNCgkJCQ0KCQkJZm9yKCRpbnM9MDskaW5zPGNvdW50KCRwcmludHBhcmEpOyRpbnMrKykNCgkJCXsNCgkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPiIuJHByaW50cGFyYVskaW5zXS4iPC90ZD4iOw0KCQkJCQ0KCQkJCQ0KCQkJfQ0KDQogICAgICAgICAgICAgICAgICAgZWNobyAiPC90cj48L3RhYmxlPjwvdGQ+IjsNCg0KDQoJICAgfQ0KZWNobyAiPC90cj4iOyAgLy9zZWNvbmRyb3cNCg0KLyogICAgICAzcmQgdGltZSAgIE1JTk1VTSB2YWx1ZSAqLw0KDQoNCg0KDQoNCmVjaG8gIjx0ciBjbGFzcz0nc2Vjb25kcm93Jz4NCjx0ZCBjbGFzcz0nbWFpbnRkJz5NaW5pbXVtPC90ZD4iOw0KDQogICAgICBmb3IoJGk9MDskaTxjb3VudCgkZGV2aWNlSWQpOyRpKyspew0KCQkgICANCgkJICAgDQoJCSAgICAgICAgIGVjaG8gIjx0ZCBjbGFzcyA9J21haW50ZCc+DQoJCQkJICAgIDx0YWJsZSBjbGFzcz0naW5uZXInPg0KCQkJCQk8dHI+IjsNCgkJCQkJIA0KCQkJICAgICANCgkJCQkgZm9yKCRtcD0wOyRtcDxjb3VudCgkZmluYWxhcnJbJGldKS0xOyRtcCsrKQ0KCQkJCQkgew0KCQkJCQkJIA0KCQkJCQkJICRteXBhcnJhWyRtcF09JGZpbmFsYXJyWyRpXVskbXArMV07DQoJCQkJCQkgDQoJCQkJCSB9DQoJCQkJCSANCgkJCQkJIGZvcigkaj0wOyRqPGNvdW50KCRteXBhcnJhKTskaisrKXsNCgkJCQkJIA0KCQkJCQkgDQoJCQkJCSAkbWludmEgPSJzZWxlY3QgbWluKHZhbHVlKSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScgDQoJCQkgICAgICAgICBhbmQgcGNvZGU9JyRteXBhcnJhWyRqXScgYW5kIGRhdGUgYmV0d2VlbiAgDQoJCQkgICAgICAgICckbmV3X2RhdGVGcm9tJyBhbmQgJyRuZXdfZGF0ZVRvJyAiOw0KDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgJG1pbnJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG1pbnZhKTsNCgkJCQkJICAgDQoJCQkJCSAgICBpZihteXNxbGlfbnVtX3Jvd3MoJG1pbnJlc3VsdCkpDQoJCQkJCQl7DQoJCQkJCQkJDQoJCQkJCQkJd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkbWlucmVzdWx0KSkNCgkJCQkJCQl7DQoJCQkJCQkJCQ0KCQkJCQkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPiZuYnNwOyIuJHJvd1snbWluKHZhbHVlKSddLiImbmJzcDsNCgkJCQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQk8L3RkPiI7DQoJCQkJCQkJCQ0KCQkJCQkJCX0NCgkJCQkJCQkNCgkJCQkJCQkNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJDQoJCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4wPC90ZD4iOw0KCQkJCQkJCQ0KCQkJCQkJfQ0KDQoNCiAgICAgICAgICAgICAgIA0KCQkJICAgDQoJCQkJCSB9ICAgLy9wZXIgcGFyYW1ldGVyIGxvb3AgZW5kcw0KCQkJCSANCgkJCQkgDQoNCiAgICAgICAgICAgICAgICAgICBlY2hvICI8L3RyPjwvdGFibGU+PC90ZD4iOw0KDQoNCgkgICB9DQplY2hvICI8L3RyPiI7ICAvLyBUSElSRCBST1cgIA0KDQoNCi8qICAgICAgICAgICBGT1VSVEggUk9XICBNQVggdmFsdWUgICAgICAgICAgICAgKi8gICAgICANCg0KZWNobyAiPHRyIGNsYXNzPSdzZWNvbmRyb3cnPg0KPHRkIGNsYXNzPSdtYWludGQnPk1heGltdW08L3RkPiI7DQoNCiAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRkZXZpY2VJZCk7JGkrKyl7DQoJCSAgIA0KCQkgICANCgkJICAgICAgICAgZWNobyAiPHRkIGNsYXNzID0nbWFpbnRkJz4NCgkJCQkgICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+DQoJCQkJCTx0cj4iOw0KCQkJCQkgDQoJCQkgICAgIA0KCQkJCSBmb3IoJG1wPTA7JG1wPGNvdW50KCRmaW5hbGFyclskaV0pLTE7JG1wKyspDQoJCQkJCSB7DQoJCQkJCQkgDQoJCQkJCQkgJG15cGFycmFbJG1wXT0kZmluYWxhcnJbJGldWyRtcCsxXTsNCgkJCQkJCSANCgkJCQkJIH0NCgkJCQkJIA0KCQkJCQkgZm9yKCRqPTA7JGo8Y291bnQoJG15cGFycmEpOyRqKyspew0KCQkJCQkgDQoJCQkJCSANCgkJCQkJICRtaW52YSA9InNlbGVjdCBtYXgodmFsdWUpIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGV2aWNlSWRbJGldJyANCgkJCSAgICAgICAgIGFuZCBwY29kZT0nJG15cGFycmFbJGpdJyBhbmQgZGF0ZSBiZXR3ZWVuICANCgkJCSAgICAgICAgJyRuZXdfZGF0ZUZyb20nIGFuZCAnJG5ld19kYXRlVG8nICI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAkbWlucmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkbWludmEpOw0KCQkJCQkgICANCgkJCQkJICAgIGlmKG15c3FsaV9udW1fcm93cygkbWlucmVzdWx0KSkNCgkJCQkJCXsNCgkJCQkJCQkNCgkJCQkJCQl3aGlsZSgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRtaW5yZXN1bHQpKQ0KCQkJCQkJCXsNCgkJCQkJCQkJDQoJCQkJCQkJCWVjaG8gIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+Jm5ic3A7Ii4kcm93WydtYXgodmFsdWUpJ10uIiZuYnNwOw0KCQkJCQkJCQkNCgkJCQkJCQkJDQoJCQkJCQkJCTwvdGQ+IjsNCgkJCQkJCQkJDQoJCQkJCQkJfQ0KCQkJCQkJCQ0KCQkJCQkJCQ0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkNCgkJCQkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPjA8L3RkPiI7DQoJCQkJCQkJDQoJCQkJCQl9DQoNCg0KICAgICAgICAgICAgICAgDQoJCQkgICANCgkJCQkJIH0gICAvL3BlciBwYXJhbWV0ZXIgbG9vcCBlbmRzDQoJCQkJIA0KCQkJCSANCg0KICAgICAgICAgICAgICAgICAgIGVjaG8gIjwvdHI+PC90YWJsZT48L3RkPiI7DQoNCg0KCSAgIH0NCmVjaG8gIjwvdHI+IjsgIC8vIGZvdXJ0aCBSb3cgDQoNCg0KDQogLyogICAgICAgICAgQVZFUkFHRSBWQUxMVUVTUyAgICAgICAgICAgICAgICAgICAgICovDQogDQogDQogZWNobyAiPHRyIGNsYXNzPSdzZWNvbmRyb3cnPg0KPHRkIGNsYXNzPSdtYWludGQnPkF2ZXJhZ2U8L3RkPiI7DQoNCiAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRkZXZpY2VJZCk7JGkrKyl7DQoJCSAgIA0KCQkgICANCgkJICAgICAgICAgZWNobyAiPHRkIGNsYXNzID0nbWFpbnRkJz4NCgkJCQkgICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+DQoJCQkJCTx0cj4iOw0KCQkJCQkgDQoJCQkgICAgIA0KCQkJCSBmb3IoJG1wPTA7JG1wPGNvdW50KCRmaW5hbGFyclskaV0pLTE7JG1wKyspDQoJCQkJCSB7DQoJCQkJCQkgDQoJCQkJCQkgJG15cGFycmFbJG1wXT0kZmluYWxhcnJbJGldWyRtcCsxXTsNCgkJCQkJCSANCgkJCQkJIH0NCgkJCQkJIA0KCQkJCQkgZm9yKCRqPTA7JGo8Y291bnQoJG15cGFycmEpOyRqKyspew0KCQkJCQkgDQoJCQkJCSANCgkJCQkJICRtaW52YSA9InNlbGVjdCBhdmcodmFsdWUpIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGV2aWNlSWRbJGldJyANCgkJCSAgICAgICAgIGFuZCBwY29kZT0nJG15cGFycmFbJGpdJyBhbmQgZGF0ZSBiZXR3ZWVuICANCgkJCSAgICAgICAgJyRuZXdfZGF0ZUZyb20nIGFuZCAnJG5ld19kYXRlVG8nICI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAkbWlucmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkbWludmEpOw0KCQkJCQkgICANCgkJCQkJICAgIGlmKG15c3FsaV9udW1fcm93cygkbWlucmVzdWx0KSkNCgkJCQkJCXsNCgkJCQkJCQkNCgkJCQkJCQl3aGlsZSgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRtaW5yZXN1bHQpKQ0KCQkJCQkJCXsNCgkJCQkJCQkJDQoJCQkJCQkJCWVjaG8gIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+Jm5ic3A7ICIucm91bmQoJHJvd1snYXZnKHZhbHVlKSddLDIpLiImbmJzcDsNCgkJCQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQk8L3RkPiI7DQoJCQkJCQkJCQ0KCQkJCQkJCX0NCgkJCQkJCQkNCgkJCQkJCQkNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJDQoJCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4wPC90ZD4iOw0KCQkJCQkJCQ0KCQkJCQkJfQ0KDQoNCiAgICAgICAgICAgICAgIA0KCQkJICAgDQoJCQkJCSB9ICAgLy9wZXIgcGFyYW1ldGVyIGxvb3AgZW5kcw0KCQkJCSANCgkJCQkgDQoNCiAgICAgICAgICAgICAgICAgICBlY2hvICI8L3RyPjwvdGFibGU+PC90ZD4iOw0KDQoNCgkgICB9DQplY2hvICI8L3RyPiI7IC8vIDV0aCByb3cgZW5kcw0KDQoNCi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1rdCBoZXJlICAgKi8NCg0KIGVjaG8gIjx0ciBjbGFzcz0nc2Vjb25kcm93Jz4NCjx0ZCBjbGFzcz0nbWFpbnRkJz5NS1Q8L3RkPiI7DQoNCiAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRkZXZpY2VJZCk7JGkrKyl7DQoJCSAgIA0KCQkgICAgICAgICRwY2hlY2sgPSAwOw0KCQkgICAgICAgICBlY2hvICI8dGQgY2xhc3MgPSdtYWludGQnPg0KCQkJCSAgICA8dGFibGUgY2xhc3M9J2lubmVyJz4NCgkJCQkJPHRyPiI7DQoJCQkJCSANCgkJCSAgICAgDQoJCQkJIGZvcigkbXA9MDskbXA8Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbXArKykNCgkJCQkJIHsNCgkJCQkJCSANCgkJCQkJCSAkbXlwYXJyYVskbXBdPSRmaW5hbGFyclskaV1bJG1wKzFdOw0KCQkJCQkJIA0KCQkJCQkgfQ0KCQkJCQkgDQoJCQkJCSBmb3IoJGo9MDskajxjb3VudCgkbXlwYXJyYSk7JGorKyl7DQoJCQkJCSANCgkJCQkJIA0KCQkJCQkgJG1rdCA9InNlbGVjdCBwY29kZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScgDQoJCQkgICAgICAgICAgICAgIGFuZCBwY29kZT0nJG15cGFycmFbJGpdJyBhbmQgZGF0ZSBiZXR3ZWVuIA0KCQkJICAgICAgICAgICAgICAnJG5ld19kYXRlRnJvbScgYW5kICckbmV3X2RhdGVUbycgIjsNCgkJCQkJDQoJCQkJCQ0KCQkJCQkvL2VjaG8gIjxicj4iLiRta3Q7DQogICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAkbWt0YXJyYXk9YXJyYXkoKTsNCgkJCQkJCSRtaz0wOw0KCQkJCQkJJG1rdHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG1rdCk7DQoJCQkJCQkgJHZhbGNvPW15c3FsaV9udW1fcm93cygkbWt0cmVzKTsNCgkJCQkJCSANCgkJCQkJCSANCgkJCQkJCSANCgkJCQkJCSBpZihteXNxbGlfbnVtX3Jvd3MoJG1rdHJlcykpDQoJCQkJCXsNCgkJCQkJCSB3aGlsZSgkbWt0cm93PW15c3FsaV9mZXRjaF9hcnJheSgkbWt0cmVzKSkNCgkJCQkJCSB7DQoJCQkJCQkJICRta3RhcnJheVskaV1bJG1rXT0kbWt0cm93Wyd2YWx1ZSddOw0KCQkJCQkJCSAkbWt0YXJyYXlbJGldWyRta109JG1rdGFycmF5WyRpXVskbWtdKzI3My4xNTsNCgkJCQkJCQkgJHBjaGVjayA9ICAkbWt0cm93WydwY29kZSddOw0KCQkJCQkJCSANCgkJCQkJCQkvLyBlY2hvICRwY2hlY2s7DQoJCQkJCQkJICRtaysrOw0KCQkJCQkJCSANCgkJCQkJCSB9DQoJCQkJCQkNCgkJCQkJCQ0KCQkJCQl9DQoNCiAgICAgICAgICAgICAgICANCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gImVycm9yIGluIG1rdCIuJG1rdC5teXNxbGlfZXJyb3IoJGNvbm5lY3Rpb24pOw0KCQkJCQl9DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3VtPTA7DQogICAgICAgICAgICAgICAgICAgICBmb3IoJHM9MDskczxjb3VudCgkbWt0YXJyYXlbJGldKTskcysrKQ0KCQkJCQkgew0KCQkJCQkJIA0KCQkJCQkJICRzdW09ZXhwKCgtODMuMTQ0KS8oOC4zMTQ0NzIqJG1rdGFycmF5WyRpXVskc10pKSArJHN1bTsNCgkJCQkJCSANCgkJCQkJIH0NCgkJCQkJCSAkZGVsaD0kc3VtLyR2YWxjbzsNCgkJCQkJCSAkbWVhbmt0PS1sb2coJGRlbGgpOw0KCQkJCQkJICRrdGluaz0xMC8kbWVhbmt0Ow0KCQkJCQkJICRpbmRlZz1yb3VuZCgka3RpbmstMjczLjE1LDIpOw0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICRwY2hlY2sgPT0gJzExJykNCgkJCQkJCSAgew0KCQkJCQkJCSAgDQoJCQkJCQkJICBlY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPg0KCQkJCQkJCSAgJm5ic3A7IiAuJGluZGVnLiIgJm5ic3A7PC90ZD4iOw0KCQkJCQkJCSAgDQoJCQkJCQkgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KCQkJCQkJICAgZWxzZXsNCgkJCQkJCQkgICANCgkJCQkJCQkgICBlY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPiZuYnNwOy0tDQoJCQkJCQkJICAgDQoJCQkJCQkJICAgJm5ic3A7DQoJCQkJCQkJICAgPC90ZD4iOw0KCQkJCQkJCSAgIA0KCQkJCQkJICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICANCg0KDQoNCiAgICAgICAgICAgICAgIA0KCQkJICAgDQoJCQkJCSB9ICAgLy9wZXIgcGFyYW1ldGVyIGxvb3AgZW5kcw0KCQkJCSANCgkJCQkgDQoNCiAgICAgICAgICAgICAgICAgICBlY2hvICI8L3RyPjwvdGFibGU+PC90ZD4iOw0KDQoNCgkgICB9DQplY2hvICI8L3RyPjwvdGFibGU+IjsgLy8gNXRoIHJvdyBlbmRzDQoNCiAgDQoNCg0KDQovKiAgICAgICAgICAgICAgICAgIFNUQVRTIFRBQkxFIEVORFMgICAgICAgICAgICovDQoNCg0KDQoNCg0KDQoNCg0KZWNobyAiPC9kaXY+IjsNCg0KLyoqKioqKioqKioqKioqKioqKioqKioqRURJVCBIRVJFKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQogR1JBUEhTU1NTDQoNCioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gPz4NCg0KDQoNCjw/cGhwDQoNCg0KLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KDQoNCmdsb2JhbCB2YXJpYWJsZSBkZWNsYXJhdGlvbg0KDQoqLw0KDQokcDF2YWx1ZXM9YXJyYXkoKTsNCiRwMWRhdGFUaW1lPWFycmF5KCk7DQoNCiRwMnZhbHVlcz1hcnJheSgpOw0KJHAyZGF0YVRpbWU9YXJyYXkoKTsNCg0KJHAzdmFsdWVzPWFycmF5KCk7DQokcDNkYXRhVGltZT1hcnJheSgpOw0KDQokcDR2YWx1ZXM9YXJyYXkoKTsNCiRwNGRhdGFUaW1lPWFycmF5KCk7DQoNCiRwNXZhbHVlcz1hcnJheSgpOw0KJHA1ZGF0YVRpbWU9YXJyYXkoKTsNCg0KJHA2dmFsdWVzPWFycmF5KCk7DQokcDZkYXRhVGltZT1hcnJheSgpOw0KDQokcDd2YWx1ZXM9YXJyYXkoKTsNCiRwN2RhdGFUaW1lPWFycmF5KCk7DQoNCiRwOHZhbHVlcz1hcnJheSgpOw0KJHA4ZGF0YVRpbWU9YXJyYXkoKTsNCg0KDQoNCg0KDQoNCg0KDQoNCg0KICAgICRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxMScgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRUPWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpKTsNCiAgJGNvbXBhcmVkTmFtZVQ9YXJyYXlfdmFsdWVzKGFycmF5X2ludGVyc2VjdCgkbmFtZW9mZGV2aWNlLCRuZXdsaXN0KSk7DQogICAgICAgICANCiRkYXJyPWFycmF5KCk7DQokZGFycj1hcnJheSgpOw0KJGRhcnI9JGNvbXBhcmVkSWRUOw0KaWYgKGNvdW50KCRkYXJyKSA9PSAwKQ0Kew0KCSR2YWx1ZXMgPSBhcnJheSgwKTsNCgkkZGF0YVRpbWUgPSBhcnJheSgwKTsNCgkNCn0NCg0KZWxzZSB7IAkJCQkNCg0KCQkJDQoJCQkJCQ0KCQkJCQkNCgkvKioqKioqKioqICAgICAgICAgICAgICAgICAgICAgVEVNUEVSQVRVUkUgICAgICBHT1RPMTEgICAgICAgICoqKioqKioqKioqKioqKioqKioqLw0KCQ0KZm9yKCRpPTA7JGk8Y291bnQoJGRhcnIpOyRpKyspICAgICAgLy9sb29wIGZvciBubyBvZiBkZXZpY2UgIENoYW5nZSBIZXJlDQp7DQoNCg0KDQoJDQoJJG9yZ0RhdGU9JG5ld19kYXRlRnJvbTsNCgkkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KCQ0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoNCiRkYXRlY291bnRlcj0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCiRwbHQ9JzAwLjAwLjAwJzsNCiR2YXJpVj0wOw0KICRjYz0wOw0KIA0Kd2hpbGUoJG9yZ0RhdGUgPD0gJHRvZGF0ZSl7DQokY3RmbGFnMT0wOw0KICRjdGZsYWcyPTA7DQovLyBlY2hvICI8YnI+Ii4kdG9kYXRlLiI8YnI+Ii4kb3JnRGF0ZS4iPGJyPiI7DQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoNCgkgICAgICAgICAvL2VjaG8gIjxicj5Ub3AiLiRwbHQ7DQoJCQkgDQoJCQkgDQoJCQkgICRkYXRlZXg9InNlbGVjdCBkYXRlLHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCBwY29kZT0nMTEnIA0KDQoNCiAgICAgICAgICAJCQlhbmQgZGF0ZSA9JyRvcmdEYXRlJyI7DQoJCQkJCQ0KCQkJCQkkZXhyZXM9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkYXRlZXgpOw0KCQkJCQkNCgkJCQkJDQoJCQkJCWlmKG15c3FsaV9udW1fcm93cygkZXhyZXMpKQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gImF0bGVhc3QiOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJLy9lY2hvICI8YnI+Z2V0dG9rbm93IjsNCgkJCQkJCSRjdGZsYWcxPTE7DQoJCQkJCX0NCgkJCSAgICAgDQoJCQkJICBpZigkY3RmbGFnMSA9PSAxKQ0KCQkJCSAgew0KCQkJCQkgIC8vZWNobyAiPGJyPmZsYWdzIjsNCgkJCQkJICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgY29udGludWU7DQoJCQkJICB9DQoJCQkgDQoJCQkgDQoJCQkgDQoJICAgICAgICAgICAkZHNxbD0gInNlbGVjdCBkYXRlLHZhbHVlLHRpbWUgZnJvbSBsaXZkZXYgDQoJCQkgICB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgdGltZSA+ICckcGx0JyBhbmQgZGF0ZSA9JyRvcmdEYXRlJw0KCQkJICAgYW5kIHBjb2RlPScxMScgb3JkZXIgYnkgDQoJCQkgICBkYXRlLHRpbWUgQVNDIGxpbWl0IDEiOw0KCQkJICAgJGRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkc3FsKTsNCgkJCSAvLyAgZWNobyAiPGJyPiIuJGRzcWw7DQoJCQkgIA0KCQkJICAgaWYobXlzcWxpX251bV9yb3dzKCRkcmVzdWx0KSA9PSAxKQ0KCQkJICAgew0KCQkJCSAgIA0KCQkJCSAgLy8gZWNobyAic3VjY2VzcyA8YnI+IjsNCgkJCQkgICB3aGlsZSgkZHJvdz1teXNxbGlfZmV0Y2hfYXNzb2MoJGRyZXN1bHQpKQ0KCQkJCSAgICB7ICAgDQoJCQkJCSAgDQoJCQkJCSAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkdmFsdWVzWyRpXVskdmFyaVZdID0gJGRyb3dbJ3ZhbHVlJ107DQoJCQkJCSAgICRkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgbWFrZWRhdGUoJGRyb3dbJ2RhdGUnXSk7DQoJCQkJCSAgICRkYXRhVGltZVskaV1bJHZhcmlWXSAgPSAkZGF0YURhdGVbJGldWyR2YXJpVl0uIiAtICIuJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gICAvLyBOTyBvZiBkZXZpY2UgY291bnRzOw0KCQ0KfSAgIC8vZWxzZSBlbmRzDQogICAgDQoJDQogDQogIC8qICoqKioqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBURU1QIGJsb2NrIGVuZHMgICoqKioqICAgIA0KICANCiAgDQogIA0KICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCiAgDQogIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIVU1JRFkgQkxPQ0sgZ290bzEyICAgICAgICAgICAgICAgICAgICovDQogIA0KICANCiAgDQogICRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxMicgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRIPWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpKTsNCiAgJGNvbXBhcmVkTmFtZUg9YXJyYXlfdmFsdWVzKGFycmF5X2ludGVyc2VjdCgkbmFtZW9mZGV2aWNlLCRuZXdsaXN0KSk7DQogIA0KICAgICAgICAgDQokZGFycj1hcnJheSgpOw0KJGRhcnI9JGNvbXBhcmVkSWRIOyANCg0KIGlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkaHZhbHVlcyA9IGFycmF5KDApOw0KCSRoZGF0YVRpbWUgPSBhcnJheSgwKTsNCgkNCn0NCmVsc2UNCiAgDQogIHsNCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICBmb3IoJGk9MDskaTxjb3VudCgkZGFycik7JGkrKykgICAgICAvL2xvb3AgZm9yIG5vIG9mIGRldmljZSAgQ2hhbmdlIEhlcmUNCnsNCg0KDQoNCgkNCgkkb3JnRGF0ZT0kbmV3X2RhdGVGcm9tOw0KCSR0b2RhdGU9JG5ld19kYXRlVG87DQoJDQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQokZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCg0KJGRhdGVjb3VudGVyPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KJHBsdD0nMDAuMDAuMDAnOw0KJHZhcmlWPTA7DQogJGNjPTA7DQogDQp3aGlsZSgkb3JnRGF0ZSA8PSAkdG9kYXRlKXsNCiRjdGZsYWcxPTA7DQogJGN0ZmxhZzI9MDsNCi8vIGVjaG8gIjxicj4iLiR0b2RhdGUuIjxicj4iLiRvcmdEYXRlLiI8YnI+IjsNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCg0KCSAgICAgICAgIC8vZWNobyAiPGJyPlRvcCIuJHBsdDsNCgkJCSANCgkJCSANCgkJCSAgJGRhdGVleD0ic2VsZWN0IGRhdGUsdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHBjb2RlPScxMicgDQoNCg0KICAgICAgICAgIAkJCWFuZCBkYXRlID0nJG9yZ0RhdGUnIjsNCgkJCQkJDQoJCQkJCSRleHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRhdGVleCk7DQoJCQkJCQ0KCQkJCQkNCgkJCQkJaWYobXlzcWxpX251bV9yb3dzKCRleHJlcykpDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiYXRsZWFzdCI7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gIjxicj5nZXR0b2tub3ciOw0KCQkJCQkJJGN0ZmxhZzE9MTsNCgkJCQkJfQ0KCQkJICAgICANCgkJCQkgIGlmKCRjdGZsYWcxID09IDEpDQoJCQkJICB7DQoJCQkJCSAgLy9lY2hvICI8YnI+ZmxhZ3MiOw0KCQkJCQkgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICBjb250aW51ZTsNCgkJCQkgIH0NCgkJCSANCgkJCSANCgkJCSANCgkgICAgICAgICAgICRkc3FsPSAic2VsZWN0IGRhdGUsdmFsdWUsdGltZSBmcm9tIGxpdmRldiANCgkJCSAgIHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCB0aW1lID4gJyRwbHQnIGFuZCBkYXRlID0nJG9yZ0RhdGUnDQoJCQkgICBhbmQgcGNvZGU9JzEyJyBvcmRlciBieSANCgkJCSAgIGRhdGUsdGltZSBBU0MgbGltaXQgMSI7DQoJCQkgICAkZHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRzcWwpOw0KCQkJIC8vICBlY2hvICI8YnI+Ii4kZHNxbDsNCgkJCSAgDQoJCQkgICBpZihteXNxbGlfbnVtX3Jvd3MoJGRyZXN1bHQpID09IDEpDQoJCQkgICB7DQoJCQkJICAgDQoJCQkJICAvLyBlY2hvICJzdWNjZXNzIDxicj4iOw0KCQkJCSAgIHdoaWxlKCRkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkZHJlc3VsdCkpDQoJCQkJICAgIHsgICANCgkJCQkJICANCgkJCQkJICAgDQoJCQkJCSAgIC8vIGVjaG8gIjxicj4mbmJzcDtEYXRlJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ii4kZHJvd1snZGF0ZSddLiImbmJzcDsNCgkJCQkJICAgLy8gJm5ic3A7Jm5ic3A7Ii4gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgDQoJCQkJCSAgICRkdGltZVskaV09JGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgLy9lY2hvICRkdGltZVskaV07DQoJCQkJCSAgICRkZGF5WyRpXSA9JGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJGh2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJGhkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgbWFrZWRhdGUoJGRyb3dbJ2RhdGUnXSk7DQoJCQkJCSAgIA0KCQkJCQkgICAkaGRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRoZGF0YURhdGVbJGldWyR2YXJpVl0uIiAtICIuJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KICAgICAgICAgICAgICAgICAgICAgDQoJCQkJICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQoJCQkJICRwbHQxPWRhdGUoIkguaS5zIixzdHJ0b3RpbWUoJysgJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLHN0cnRvdGltZSgkZHRpbWVbJGldKSkpOwkNCgkJCQkgDQoJCQkJICAgLy9lY2hvICI8YnI+aGhoaCIuJHBsdDE7DQoJCQkJICAgaWYoJHBsdDEgPCAkZHRpbWVbJGldICkNCgkJCQkgICB7DQoJCQkJCSAgIA0KCQkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgIC8vZWNobyAkb3JnRGF0ZTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8iPGJyPiIuDQoJCQkJCSAgIC8vZWNobyAiaWZzc3MiOw0KCQkJCSAgIH0NCgkJCQkgICBlbHNlDQoJCQkJICAgew0KCQkJCQkgICAkcGx0ID0gJHBsdDE7DQoJCQkJCSAgLy8gZWNobyAiZWxzZSI7DQoJCQkJICAgfQ0KCQkJCSAgIA0KCQkJCSAgDQoJCQkJICAgDQoJCQkgIH0NCgkJCSAgZWxzZXsNCgkJCQkgICAgJGNjKys7DQoJCQkJICAvLyBlY2hvICJuZWVyIGhlcmUiLiRjYzsNCgkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvICI8YnI+Ii4kb3JnRGF0ZTsNCgkJCQkJICAgY29udGludWU7DQoJCQkgICB9DQoJCQkgIC8vIGVjaG8gIjxicj5pIGFtIGhpdHRpbmcgaGVyZSA8YnI+Ii4kb3JnRGF0ZTsgDQoJCQkgICAkdmFyaVYrKzsNCgkJCSAgDQoJCSAgICAgICAgICAvL3doaWxlIGxvb3BlZCBtYWluIG9mIGRhdGUgY29uZGl0aW9uDQp9DQoJCQkgICANCgkJCQkJCQ0KCSAgICAgICAgICAgIA0KCQ0KCQ0KCQ0KCQ0KfSAgIC8vIE5PIG9mIGRldmljZSBjb3VudHM7DQoNCg0KICB9IC8vIGVsc2UgZW5kcw0KCQ0KDQovKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSHVtaWRpdHkgYmxvY2sgRW5kcyAqLw0KDQoNCg0KICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAxIGJsb2NrIHN0YXJ0cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoJDQoJJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzEzJyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgJGFiY3M9MDsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7ICANCgkgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJIC8vICRuZXdsaXN0WyRhYmNzXSA9ICRyb3dbJ25hbWUnXTsNCgkgIC8vJCRyb3dbJGFiY3NdICAgPSAkcm93Wyd1aWQnXTsNCiAgfQ0KICANCiAgDQogICRjb21wYXJlZElkUDE9YXJyYXlfdmFsdWVzKGFycmF5X2ludGVyc2VjdCgkZGV2aWNlSWQsJG5ld2lkcykpOw0KICAkY29tcGFyZWROYW1lUDE9YXJyYXlfdmFsdWVzKGFycmF5X2ludGVyc2VjdCgkbmFtZW9mZGV2aWNlLCRuZXdsaXN0KSk7DQogIA0KICAgICAgICAgDQokZGFycj1hcnJheSgpOw0KJGRhcnI9JGNvbXBhcmVkSWRQMTsgIAkNCg0KDQppZiAoY291bnQoJGRhcnIpID09IDApDQp7DQoJJHAxdmFsdWVzID0gYXJyYXkoMCk7DQoJJHAxZGF0YVRpbWUgPSBhcnJheSgwKTsNCg0KCQ0KfQ0KDQplbHNlICB7DQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzEzJyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTMnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDF2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHAxZGF0YURhdGVbJGldWyR2YXJpVl0gID0gbWFrZWRhdGUoJGRyb3dbJ2RhdGUnXSk7DQoJCQkJCSAgICRwMWRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRwMWRhdGFEYXRlWyRpXVskdmFyaVZdLiIgLSAiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgLy8gIGVjaG8gImZpcnN0IHRpbWUgaGVyZSI7DQoJCQkJCSAgIA0KCQkJCSAgICB9DQogICAgICAgICAgICAgICAgLy8gICAgcHJpbnRfcigkcDFkYXRhVGltZSk7DQoJCQkJICRwbHQxPWRhdGUoIkguaS5zIixzdHJ0b3RpbWUoJysgJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLHN0cnRvdGltZSgkZHRpbWVbJGldKSkpOwkNCgkJCQkgDQoJCQkJICAgLy9lY2hvICI8YnI+aGhoaCIuJHBsdDE7DQoJCQkJICAgaWYoJHBsdDEgPCAkZHRpbWVbJGldICkNCgkJCQkgICB7DQoJCQkJCSAgIA0KCQkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgIC8vZWNobyAkb3JnRGF0ZTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8iPGJyPiIuDQoJCQkJCSAgIC8vZWNobyAiaWZzc3MiOw0KCQkJCSAgIH0NCgkJCQkgICBlbHNlDQoJCQkJICAgew0KCQkJCQkgICAkcGx0ID0gJHBsdDE7DQoJCQkJCSAgLy8gZWNobyAiZWxzZSI7DQoJCQkJICAgfQ0KCQkJCSAgIA0KCQkJCSAgDQoJCQkJICAgDQoJCQkgIH0NCgkJCSAgZWxzZXsNCgkJCQkgICAgJGNjKys7DQoJCQkJICAvLyBlY2hvICJuZWVyIGhlcmUiLiRjYzsNCgkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvICI8YnI+Ii4kb3JnRGF0ZTsNCgkJCQkJICAgY29udGludWU7DQoJCQkgICB9DQoJCQkgIC8vIGVjaG8gIjxicj5pIGFtIGhpdHRpbmcgaGVyZSA8YnI+Ii4kb3JnRGF0ZTsgDQoJCQkgICAkdmFyaVYrKzsNCgkJCSAgDQoJCSAgICAgICAgICAvL3doaWxlIGxvb3BlZCBtYWluIG9mIGRhdGUgY29uZGl0aW9uDQp9DQoJCQkgICANCgkJCQkJCQ0KCSAgICAgICAgICAgIA0KCQ0KCQ0KCQ0KCQ0KfSAgIC8vIE5PIG9mIGRldmljZSBjb3VudHM7DQoNCn0gLy9lbHNlIGVuZHMgCQ0KCQ0KCQ0KCS8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAxIGJsb2NrIEVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoNCg0KICAgIA0KDQoNCg0KICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAyIHN0YXJ0cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoJDQoJDQoJDQoJJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzE0JyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFAyPWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpKTsNCiAgJGNvbXBhcmVkTmFtZVAyPWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJG5hbWVvZmRldmljZSwkbmV3bGlzdCkpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDI7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDJ2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDJkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzE0JyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTQnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDJ2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHAyZGF0YURhdGVbJGldWyR2YXJpVl0gID0gIG1ha2VkYXRlKCRkcm93WydkYXRlJ10pOw0KCQkJCQkgICAkcDJkYXRhVGltZVskaV1bJHZhcmlWXSAgPSAkcDJkYXRhRGF0ZVskaV1bJHZhcmlWXS4iIC0gIiAuJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gDQoJDQp9IC8vZWxzZSBlbmRzCQ0KCQ0KCQ0KCS8qICAgICAgICAgICAgICAgICAgIHAyIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQ0KCQ0KCQ0KCS8qICAgICAgICAgICAgICAgIHAzICAgICAgc3RhcnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQ0KCQ0KCQ0KCQkgJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzE1JyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFAzPWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpKTsNCiAgJGNvbXBhcmVkTmFtZVAzPWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJG5hbWVvZmRldmljZSwkbmV3bGlzdCkpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDM7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDN2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDNkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzE1JyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTUnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDN2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHAzZGF0YURhdGVbJGldWyR2YXJpVl0gID0gIG1ha2VkYXRlKCRkcm93WydkYXRlJ10pOw0KCQkJCQkgICAkcDNkYXRhVGltZVskaV1bJHZhcmlWXSAgPSAkcDNkYXRhRGF0ZVskaV1bJHZhcmlWXS4iIC0gIiAuJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gDQoJDQp9IC8vIHAzIGVsc2UgZW5kcwkNCgkNCgkNCgkNCgkvKiAgICAgICAgICAgICAgIHAzICAgICAgZW5kcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQ0KCQ0KCS8qICAgICAgICAgICAgICAgcDQgICAgICBzdGFydCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQ0KCQ0KCQ0KCSRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxNicgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQND1hcnJheV92YWx1ZXMoYXJyYXlfaW50ZXJzZWN0KCRkZXZpY2VJZCwkbmV3aWRzKSk7DQogICRjb21wYXJlZE5hbWVQND1hcnJheV92YWx1ZXMoYXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpKTsNCiAgDQogICAgICAgICANCiRkYXJyPWFycmF5KCk7DQokZGFycj0kY29tcGFyZWRJZFA0OyAgCQ0KDQppZiAoY291bnQoJGRhcnIpID09IDApDQp7DQoJJHA0dmFsdWVzID0gYXJyYXkoMCk7DQoJJHA0ZGF0YVRpbWUgPSBhcnJheSgwKTsNCgkNCn0NCg0KDQplbHNlew0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCSBmb3IoJGk9MDskaTxjb3VudCgkZGFycik7JGkrKykgICAgICAvL2xvb3AgZm9yIG5vIG9mIGRldmljZSAgQ2hhbmdlIEhlcmUNCnsNCg0KDQoNCgkNCgkkb3JnRGF0ZT0kbmV3X2RhdGVGcm9tOw0KCSR0b2RhdGU9JG5ld19kYXRlVG87DQoJDQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQokZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCg0KJGRhdGVjb3VudGVyPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KJHBsdD0nMDAuMDAuMDAnOw0KJHZhcmlWPTA7DQogJGNjPTA7DQogDQp3aGlsZSgkb3JnRGF0ZSA8PSAkdG9kYXRlKXsNCiRjdGZsYWcxPTA7DQogJGN0ZmxhZzI9MDsNCi8vIGVjaG8gIjxicj4iLiR0b2RhdGUuIjxicj4iLiRvcmdEYXRlLiI8YnI+IjsNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCg0KCSAgICAgICAgIC8vZWNobyAiPGJyPlRvcCIuJHBsdDsNCgkJCSANCgkJCSANCgkJCSAgJGRhdGVleD0ic2VsZWN0IGRhdGUsdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHBjb2RlPScxNicgDQoNCg0KICAgICAgICAgIAkJCWFuZCBkYXRlID0nJG9yZ0RhdGUnIjsNCgkJCQkJDQoJCQkJCSRleHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRhdGVleCk7DQoJCQkJCQ0KCQkJCQkNCgkJCQkJaWYobXlzcWxpX251bV9yb3dzKCRleHJlcykpDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiYXRsZWFzdCI7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gIjxicj5nZXR0b2tub3ciOw0KCQkJCQkJJGN0ZmxhZzE9MTsNCgkJCQkJfQ0KCQkJICAgICANCgkJCQkgIGlmKCRjdGZsYWcxID09IDEpDQoJCQkJICB7DQoJCQkJCSAgLy9lY2hvICI8YnI+ZmxhZ3MiOw0KCQkJCQkgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICBjb250aW51ZTsNCgkJCQkgIH0NCgkJCSANCgkJCSANCgkJCSANCgkgICAgICAgICAgICRkc3FsPSAic2VsZWN0IGRhdGUsdmFsdWUsdGltZSBmcm9tIGxpdmRldiANCgkJCSAgIHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCB0aW1lID4gJyRwbHQnIGFuZCBkYXRlID0nJG9yZ0RhdGUnDQoJCQkgICBhbmQgcGNvZGU9JzE2JyBvcmRlciBieSANCgkJCSAgIGRhdGUsdGltZSBBU0MgbGltaXQgMSI7DQoJCQkgICAkZHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRzcWwpOw0KCQkJIC8vICBlY2hvICI8YnI+Ii4kZHNxbDsNCgkJCSAgDQoJCQkgICBpZihteXNxbGlfbnVtX3Jvd3MoJGRyZXN1bHQpID09IDEpDQoJCQkgICB7DQoJCQkJICAgDQoJCQkJICAvLyBlY2hvICJzdWNjZXNzIDxicj4iOw0KCQkJCSAgIHdoaWxlKCRkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkZHJlc3VsdCkpDQoJCQkJICAgIHsgICANCgkJCQkJICANCgkJCQkJICAgDQoJCQkJCSAgIC8vIGVjaG8gIjxicj4mbmJzcDtEYXRlJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ii4kZHJvd1snZGF0ZSddLiImbmJzcDsNCgkJCQkJICAgLy8gJm5ic3A7Jm5ic3A7Ii4gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgDQoJCQkJCSAgICRkdGltZVskaV09JGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgLy9lY2hvICRkdGltZVskaV07DQoJCQkJCSAgICRkZGF5WyRpXSA9JGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJHA0dmFsdWVzWyRpXVskdmFyaVZdID0gJGRyb3dbJ3ZhbHVlJ107DQoJCQkJCSAgICRwNGRhdGFEYXRlWyRpXVskdmFyaVZdICA9ICBtYWtlZGF0ZSgkZHJvd1snZGF0ZSddKTsNCgkJCQkJICAgJHA0ZGF0YVRpbWVbJGldWyR2YXJpVl0gID0gJHA0ZGF0YURhdGVbJGldWyR2YXJpVl0uIiAtICIgLiRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9ICAgLy8gTk8gb2YgZGV2aWNlIGNvdW50czsNCg0KfSAgLy9wNGVsc2UgZW5kcw0KCQ0KCQ0KCQ0KCS8qICAgICAgICAgICAgICAgcDQgICAgICBlbmRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJCS8qICAgICAgICAgICAgICAgcDUgICAgICBzdGFydCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQkNCgkJDQoJCQ0KCQkNCgkJJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzE3JyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFA1PWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpKTsNCiAgJGNvbXBhcmVkTmFtZVA1PWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJG5hbWVvZmRldmljZSwkbmV3bGlzdCkpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDU7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDV2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDVkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJCQ0KCQkNCgkJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzE3JyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTcnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDV2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHA1ZGF0YURhdGVbJGldWyR2YXJpVl0gID0gIG1ha2VkYXRlKCRkcm93WydkYXRlJ10pOw0KCQkJCQkgICAkcDVkYXRhVGltZVskaV1bJHZhcmlWXSAgPSRwNWRhdGFEYXRlWyRpXVskdmFyaVZdIC4iIC0gIi4gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gCQ0KCQkNCn0gIC8vcDUgZWxzZSBlbmRzCQ0KCQkNCgkJDQoJLyogICAgICAgICAgICAgICBwNSAgICAgIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8JDQoJCQ0KCQkNCgkJDQoJCQ0KLyogICAgICAgICAgICAgICBwNiAgICAgIHN0YXJ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoNCg0KJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzE4JyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFA2PWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpKTsNCiAgJGNvbXBhcmVkTmFtZVA2PWFycmF5X3ZhbHVlcyhhcnJheV9pbnRlcnNlY3QoJG5hbWVvZmRldmljZSwkbmV3bGlzdCkpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDU7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDZ2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDZkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoNCg0KDQogZm9yKCRpPTA7JGk8Y291bnQoJGRhcnIpOyRpKyspICAgICAgLy9sb29wIGZvciBubyBvZiBkZXZpY2UgIENoYW5nZSBIZXJlDQp7DQoNCg0KDQoJDQoJJG9yZ0RhdGU9JG5ld19kYXRlRnJvbTsNCgkkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KCQ0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoNCiRkYXRlY291bnRlcj0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCiRwbHQ9JzAwLjAwLjAwJzsNCiR2YXJpVj0wOw0KICRjYz0wOw0KIA0Kd2hpbGUoJG9yZ0RhdGUgPD0gJHRvZGF0ZSl7DQokY3RmbGFnMT0wOw0KICRjdGZsYWcyPTA7DQovLyBlY2hvICI8YnI+Ii4kdG9kYXRlLiI8YnI+Ii4kb3JnRGF0ZS4iPGJyPiI7DQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoNCgkgICAgICAgICAvL2VjaG8gIjxicj5Ub3AiLiRwbHQ7DQoJCQkgDQoJCQkgDQoJCQkgICRkYXRlZXg9InNlbGVjdCBkYXRlLHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCBwY29kZT0nMTgnIA0KDQoNCiAgICAgICAgICAJCQlhbmQgZGF0ZSA9JyRvcmdEYXRlJyI7DQoJCQkJCQ0KCQkJCQkkZXhyZXM9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkYXRlZXgpOw0KCQkJCQkNCgkJCQkJDQoJCQkJCWlmKG15c3FsaV9udW1fcm93cygkZXhyZXMpKQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gImF0bGVhc3QiOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJLy9lY2hvICI8YnI+Z2V0dG9rbm93IjsNCgkJCQkJCSRjdGZsYWcxPTE7DQoJCQkJCX0NCgkJCSAgICAgDQoJCQkJICBpZigkY3RmbGFnMSA9PSAxKQ0KCQkJCSAgew0KCQkJCQkgIC8vZWNobyAiPGJyPmZsYWdzIjsNCgkJCQkJICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgY29udGludWU7DQoJCQkJICB9DQoJCQkgDQoJCQkgDQoJCQkgDQoJICAgICAgICAgICAkZHNxbD0gInNlbGVjdCBkYXRlLHZhbHVlLHRpbWUgZnJvbSBsaXZkZXYgDQoJCQkgICB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgdGltZSA+ICckcGx0JyBhbmQgZGF0ZSA9JyRvcmdEYXRlJw0KCQkJICAgYW5kIHBjb2RlPScxOCcgb3JkZXIgYnkgDQoJCQkgICBkYXRlLHRpbWUgQVNDIGxpbWl0IDEiOw0KCQkJICAgJGRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkc3FsKTsNCgkJCSAvLyAgZWNobyAiPGJyPiIuJGRzcWw7DQoJCQkgIA0KCQkJICAgaWYobXlzcWxpX251bV9yb3dzKCRkcmVzdWx0KSA9PSAxKQ0KCQkJICAgew0KCQkJCSAgIA0KCQkJCSAgLy8gZWNobyAic3VjY2VzcyA8YnI+IjsNCgkJCQkgICB3aGlsZSgkZHJvdz1teXNxbGlfZmV0Y2hfYXNzb2MoJGRyZXN1bHQpKQ0KCQkJCSAgICB7ICAgDQoJCQkJCSAgDQoJCQkJCSAgIA0KCQkJCQkgICAvLyBlY2hvICI8YnI+Jm5ic3A7RGF0ZSZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyIuJGRyb3dbJ2RhdGUnXS4iJm5ic3A7DQoJCQkJCSAgIC8vICZuYnNwOyZuYnNwOyIuICRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIA0KCQkJCQkgICAkZHRpbWVbJGldPSRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIC8vZWNobyAkZHRpbWVbJGldOw0KCQkJCQkgICAkZGRheVskaV0gPSRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwNnZhbHVlc1skaV1bJHZhcmlWXSA9ICRkcm93Wyd2YWx1ZSddOw0KCQkJCQkgICAkcDZkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgbWFrZWRhdGUoJGRyb3dbJ2RhdGUnXSk7DQoJCQkJCSAgICRwNmRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICAkcDZkYXRhRGF0ZVskaV1bJHZhcmlWXSAuICIgLSAiLiRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9ICAgLy8gTk8gb2YgZGV2aWNlIGNvdW50czsNCg0KfSAvL3A2IGVuZHMgZWxzZQ0KDQoNCg0KDQoNCg0KDQovKiAgICAgICAgICAgICAgIHA2ICAgICAgZW5kcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCg0KDQovKiAgICAgICAgICAgICAgIHA3ICAgICAgc3RhcnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCg0KDQoNCiRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxOScgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQNz1hcnJheV92YWx1ZXMoYXJyYXlfaW50ZXJzZWN0KCRkZXZpY2VJZCwkbmV3aWRzKSk7DQogICRjb21wYXJlZE5hbWVQNz1hcnJheV92YWx1ZXMoYXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpKTsNCiAgDQogICAgICAgICANCiRkYXJyPWFycmF5KCk7DQokZGFycj0kY29tcGFyZWRJZFA1OyAgCQ0KDQppZiAoY291bnQoJGRhcnIpID09IDApDQp7DQoJJHA3dmFsdWVzID0gYXJyYXkoMCk7DQoJJHA3ZGF0YVRpbWUgPSBhcnJheSgwKTsNCgkNCn0NCg0KDQplbHNlew0KCQ0KDQoNCiBmb3IoJGk9MDskaTxjb3VudCgkZGFycik7JGkrKykgICAgICAvL2xvb3AgZm9yIG5vIG9mIGRldmljZSAgQ2hhbmdlIEhlcmUNCnsNCg0KDQoNCgkNCgkkb3JnRGF0ZT0kbmV3X2RhdGVGcm9tOw0KCSR0b2RhdGU9JG5ld19kYXRlVG87DQoJDQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQokZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCg0KJGRhdGVjb3VudGVyPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KJHBsdD0nMDAuMDAuMDAnOw0KJHZhcmlWPTA7DQogJGNjPTA7DQogDQp3aGlsZSgkb3JnRGF0ZSA8PSAkdG9kYXRlKXsNCiRjdGZsYWcxPTA7DQogJGN0ZmxhZzI9MDsNCi8vIGVjaG8gIjxicj4iLiR0b2RhdGUuIjxicj4iLiRvcmdEYXRlLiI8YnI+IjsNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCg0KCSAgICAgICAgIC8vZWNobyAiPGJyPlRvcCIuJHBsdDsNCgkJCSANCgkJCSANCgkJCSAgJGRhdGVleD0ic2VsZWN0IGRhdGUsdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHBjb2RlPScxOScgDQoNCg0KICAgICAgICAgIAkJCWFuZCBkYXRlID0nJG9yZ0RhdGUnIjsNCgkJCQkJDQoJCQkJCSRleHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRhdGVleCk7DQoJCQkJCQ0KCQkJCQkNCgkJCQkJaWYobXlzcWxpX251bV9yb3dzKCRleHJlcykpDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiYXRsZWFzdCI7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gIjxicj5nZXR0b2tub3ciOw0KCQkJCQkJJGN0ZmxhZzE9MTsNCgkJCQkJfQ0KCQkJICAgICANCgkJCQkgIGlmKCRjdGZsYWcxID09IDEpDQoJCQkJICB7DQoJCQkJCSAgLy9lY2hvICI8YnI+ZmxhZ3MiOw0KCQkJCQkgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICBjb250aW51ZTsNCgkJCQkgIH0NCgkJCSANCgkJCSANCgkJCSANCgkgICAgICAgICAgICRkc3FsPSAic2VsZWN0IGRhdGUsdmFsdWUsdGltZSBmcm9tIGxpdmRldiANCgkJCSAgIHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCB0aW1lID4gJyRwbHQnIGFuZCBkYXRlID0nJG9yZ0RhdGUnDQoJCQkgICBhbmQgcGNvZGU9JzE5JyBvcmRlciBieSANCgkJCSAgIGRhdGUsdGltZSBBU0MgbGltaXQgMSI7DQoJCQkgICAkZHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRzcWwpOw0KCQkJIC8vICBlY2hvICI8YnI+Ii4kZHNxbDsNCgkJCSAgDQoJCQkgICBpZihteXNxbGlfbnVtX3Jvd3MoJGRyZXN1bHQpID09IDEpDQoJCQkgICB7DQoJCQkJICAgDQoJCQkJICAvLyBlY2hvICJzdWNjZXNzIDxicj4iOw0KCQkJCSAgIHdoaWxlKCRkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkZHJlc3VsdCkpDQoJCQkJICAgIHsgICANCgkJCQkJICANCgkJCQkJICAgDQoJCQkJCSAgIC8vIGVjaG8gIjxicj4mbmJzcDtEYXRlJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ii4kZHJvd1snZGF0ZSddLiImbmJzcDsNCgkJCQkJICAgLy8gJm5ic3A7Jm5ic3A7Ii4gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgDQoJCQkJCSAgICRkdGltZVskaV09JGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgLy9lY2hvICRkdGltZVskaV07DQoJCQkJCSAgICRkZGF5WyRpXSA9JGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJHA3dmFsdWVzWyRpXVskdmFyaVZdID0gJGRyb3dbJ3ZhbHVlJ107DQoJCQkJCSAgICRwN2RhdGFEYXRlWyRpXVskdmFyaVZdICA9ICBtYWtlZGF0ZSgkZHJvd1snZGF0ZSddKTsNCgkJCQkJICAgJHA3ZGF0YVRpbWVbJGldWyR2YXJpVl0gID0gJHA3ZGF0YURhdGVbJGldWyR2YXJpVl0gIC4gIiAtICIgLiRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9ICAgLy8gTk8gb2YgZGV2aWNlIGNvdW50czsNCg0KfSAgLy9wNyBlbHNlIGVuZHMNCg0KLyogICAgICAgICAgICAgICBwNyAgICAgIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCg0KDQoNCg0KLyogICAgICAgICAgICAgICBwOCAgICAgIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCg0KDQoNCg0KDQokbmV3bGlzdD1hcnJheSgpOw0KICAkbmV3aWRzPWFycmF5KCk7DQogICRpbnRlcj0ic2VsZWN0IG5hbWUsdWlkIGZyb20gZGV2aWNlIHdoZXJlIHBjb2RlID0nMjAnICI7DQogICRpbnJlc3VsdCA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkaW50ZXIpOw0KICB3aGlsZSgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRpbnJlc3VsdCkpDQogIHsNCgkgIGFycmF5X3B1c2goJG5ld2xpc3QsJHJvd1snbmFtZSddKTsNCgkgICBhcnJheV9wdXNoKCRuZXdpZHMsJHJvd1sndWlkJ10pOw0KCSAgDQoJICANCiAgfQ0KICANCiAgDQogICRjb21wYXJlZElkUDg9YXJyYXlfdmFsdWVzKGFycmF5X2ludGVyc2VjdCgkZGV2aWNlSWQsJG5ld2lkcykpOw0KICAkY29tcGFyZWROYW1lUDg9YXJyYXlfdmFsdWVzKGFycmF5X2ludGVyc2VjdCgkbmFtZW9mZGV2aWNlLCRuZXdsaXN0KSk7DQogIA0KICAgICAgICAgDQokZGFycj1hcnJheSgpOw0KJGRhcnI9JGNvbXBhcmVkSWRQNTsgIAkNCg0KaWYgKGNvdW50KCRkYXJyKSA9PSAwKQ0Kew0KCSRwOHZhbHVlcyA9IGFycmF5KDApOw0KCSRwOGRhdGFUaW1lID0gYXJyYXkoMCk7DQoJDQp9DQoNCg0KZWxzZXsNCgkNCg0KDQogZm9yKCRpPTA7JGk8Y291bnQoJGRhcnIpOyRpKyspICAgICAgLy9sb29wIGZvciBubyBvZiBkZXZpY2UgIENoYW5nZSBIZXJlDQp7DQoNCg0KDQoJDQoJJG9yZ0RhdGU9JG5ld19kYXRlRnJvbTsNCgkkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KCQ0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoNCiRkYXRlY291bnRlcj0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCiRwbHQ9JzAwLjAwLjAwJzsNCiR2YXJpVj0wOw0KICRjYz0wOw0KIA0Kd2hpbGUoJG9yZ0RhdGUgPD0gJHRvZGF0ZSl7DQokY3RmbGFnMT0wOw0KICRjdGZsYWcyPTA7DQovLyBlY2hvICI8YnI+Ii4kdG9kYXRlLiI8YnI+Ii4kb3JnRGF0ZS4iPGJyPiI7DQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoNCgkgICAgICAgICAvL2VjaG8gIjxicj5Ub3AiLiRwbHQ7DQoJCQkgDQoJCQkgDQoJCQkgICRkYXRlZXg9InNlbGVjdCBkYXRlLHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCBwY29kZT0nMjAnIA0KDQoNCiAgICAgICAgICAJCQlhbmQgZGF0ZSA9JyRvcmdEYXRlJyI7DQoJCQkJCQ0KCQkJCQkkZXhyZXM9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkYXRlZXgpOw0KCQkJCQkNCgkJCQkJDQoJCQkJCWlmKG15c3FsaV9udW1fcm93cygkZXhyZXMpKQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gImF0bGVhc3QiOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJLy9lY2hvICI8YnI+Z2V0dG9rbm93IjsNCgkJCQkJCSRjdGZsYWcxPTE7DQoJCQkJCX0NCgkJCSAgICAgDQoJCQkJICBpZigkY3RmbGFnMSA9PSAxKQ0KCQkJCSAgew0KCQkJCQkgIC8vZWNobyAiPGJyPmZsYWdzIjsNCgkJCQkJICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgY29udGludWU7DQoJCQkJICB9DQoJCQkgDQoJCQkgDQoJCQkgDQoJICAgICAgICAgICAkZHNxbD0gInNlbGVjdCBkYXRlLHZhbHVlLHRpbWUgZnJvbSBsaXZkZXYgDQoJCQkgICB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgdGltZSA+ICckcGx0JyBhbmQgZGF0ZSA9JyRvcmdEYXRlJw0KCQkJICAgYW5kIHBjb2RlPScyMCcgb3JkZXIgYnkgDQoJCQkgICBkYXRlLHRpbWUgQVNDIGxpbWl0IDEiOw0KCQkJICAgJGRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkc3FsKTsNCgkJCSAvLyAgZWNobyAiPGJyPiIuJGRzcWw7DQoJCQkgIA0KCQkJICAgaWYobXlzcWxpX251bV9yb3dzKCRkcmVzdWx0KSA9PSAxKQ0KCQkJICAgew0KCQkJCSAgIA0KCQkJCSAgLy8gZWNobyAic3VjY2VzcyA8YnI+IjsNCgkJCQkgICB3aGlsZSgkZHJvdz1teXNxbGlfZmV0Y2hfYXNzb2MoJGRyZXN1bHQpKQ0KCQkJCSAgICB7ICAgDQoJCQkJCSAgDQoJCQkJCSAgIA0KCQkJCQkgICAvLyBlY2hvICI8YnI+Jm5ic3A7RGF0ZSZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyIuJGRyb3dbJ2RhdGUnXS4iJm5ic3A7DQoJCQkJCSAgIC8vICZuYnNwOyZuYnNwOyIuICRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIA0KCQkJCQkgICAkZHRpbWVbJGldPSRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIC8vZWNobyAkZHRpbWVbJGldOw0KCQkJCQkgICAkZGRheVskaV0gPSRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwOHZhbHVlc1skaV1bJHZhcmlWXSA9ICRkcm93Wyd2YWx1ZSddOw0KCQkJCQkgICAkcDhkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgbWFrZWRhdGUoJGRyb3dbJ2RhdGUnXSk7DQoJCQkJCSAgICRwOGRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRwOGRhdGFEYXRlWyRpXVskdmFyaVZdIC4gIiAtICIgLiRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9ICAgLy8gTk8gb2YgZGV2aWNlIGNvdW50czsNCg0KfSAvLyBwOCAgZWxzZSBlbmRzDQoNCi8qICAgICAgICAgICAgICAgcDggICAgIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCg0KDQoNCg0KDQogDQo/Pg0KPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiA8aDIgY2xhc3M9J2NlbnRlcic+R3JhcGggUmVwb3J0PC9oMj4NCiA8L2Rpdj4NCjxkaXYgY2xhc3M9J2dsb2JhbC1jb250YWluJz4NCiAgIA0KPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjExIiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KDQogICAgPC9kaXY+DQoJDQoJDQoJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxMiIgIGNsYXNzPSdoaWRlcyc+PC9jYW52YXM+DQoJICANCiAgICA8L2Rpdj4NCgkNCgkNCgkNCgkJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxMyIgY2xhc3M9J2hpZGVzJz48L2NhbnZhcz4NCgkgIA0KICAgIDwvZGl2Pg0KCQ0KCQ0KCQkgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjE0IiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KCSAgDQogICAgPC9kaXY+DQoJDQoJCSA8ZGl2IGNsYXNzPSJjaGFydC1jb250YWluZXIiPg0KICAgICAgPGNhbnZhcyBpZD0iMTUiIGNsYXNzPSdoaWRlcyc+PC9jYW52YXM+DQoJICANCiAgICA8L2Rpdj4NCgkNCgkJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxNiIgY2xhc3M9J2hpZGVzJz48L2NhbnZhcz4NCgkgIA0KICAgIDwvZGl2Pg0KCQ0KCQkgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjE3IiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KCSAgDQogICAgPC9kaXY+DQoJDQoJCSA8ZGl2IGNsYXNzPSJjaGFydC1jb250YWluZXIiPg0KICAgICAgPGNhbnZhcyBpZD0iMTgiIGNsYXNzPSdoaWRlcyc+PC9jYW52YXM+DQoJICANCiAgICA8L2Rpdj4NCgkNCgkJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxOSIgY2xhc3M9J2hpZGVzJz48L2NhbnZhcz4NCgkgIA0KICAgIDwvZGl2Pg0KCQ0KCQ0KCQkgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjIwIiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KCSAgDQogICAgPC9kaXY+DQoJDQoJDQoJDQoJDQoJPC9kaXY+DQoJPGRpdiBjbGFzcz0nc2lnbic+DQoJICAgIA0KPGgyPlJlbWFyazo8L2gyPjx0ZXh0YXJlYSAgcm93cz0iNCIgY29scz0iNTAiPiAgPC90ZXh0YXJlYSA+CQ0KDQo8aDU+PGk+RGlnaXRhbCBTaWduYXR1cmU8L2k+CTwvaDU+DQoNCjxiPiA8dT48P3BocCBlY2hvICRuYW1lb2Z1c2VyOyA/PjwvdT4mbmJzcDsoPD9waHAgZWNobyAkZ2xvdXNlcm5hbWU7ID8+ICkgIC48YnI+IA0KPHU+PD9waHAgZWNobyAkZGVzaTsgPz4sPD9waHAgZWNobyAkcm9sZTsgPz4gLDw/cGhwIGVjaG8gJGRlcGFydG1lbnQ7ID8+IDwvdT48L2I+DQoNCjxicj4NCg0KDQo8P3BocCBlY2hvIGRhdGUoJ2QubS5ZJyk7ID8+IHwgPD9waHAgZWNobyBkYXRlKCdILmknKTsgPz4gR01UICsgNS4zMDxicj4NCjxidXR0b24gY2xhc3M9J2xvZ29pbScgb25jbGljaz0icHJpbnRtKCkiPjxpbWcgc3JjPSdpbWcvcHJpbnQucG5nJyB3aWR0aD0nNTBweCcgaGVpZ2h0PSc1MHB4JyA+PC9idXR0b24+DQoNCgkNCgk8L2Rpdj4NCg0KDQogICAgPCEtLSBqYXZhc2NyaXB0IC0tPg0KDQoJPHNjcmlwdCBzcmM9InZlbmRvci9jaGFydC5qcy9DaGFydC5taW4uanMiPjwvc2NyaXB0Pg0KCTxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NoYXJ0LmpzQDIuOC4wIj48L3NjcmlwdD4NCgk8c2NyaXB0IHNyYz0iaHR0cHM6Ly9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMy41LjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+DQoNCgk8L2JvZHk+DQoJPC9odG1sPg0KCQ0KCQ0KCTxzY3JpcHQ+DQoJLyoqKiB0dXJuIG9mZiB0aW1lZmlsdGVyIHJvd3MNCiAqIA0KICogDQogKiANCiAqIA0KICovDQoNCg0KCQkkKCcub2Zmc2V0aGlkZScpLmhpZGUoKTsNCgkvLyBEaXNwbGF5IGdyYXBoIG1haW4gc3dpdGN2IGdyYXBocw0KCQ0KCSQoJzpjaGVja2JveCcpLmNoYW5nZSgnY2xpY2snLGZ1bmN0aW9uKCl7DQoJDQoJJCgnLmdsb2JhbC1jb250YWluJykudG9nZ2xlKCk7DQoJDQoJfSk7DQoJDQoJDQoJDQoJDQoJIHZhciB3YW50YWxhcm0gPSAnPD9waHAgZWNobyAkd2FudGFsYXJtIDsgPz4nOw0KCSAgDQoJICBpZih3YW50YWxhcm0gPT0gJ25vJykNCgkgIHsNCgkgICAgIC8vICQoJy5hbGFybScpLmhpZGUoKTsNCgkgICAgICANCgkgICAgICANCgkgIH0NCgkNCgkNCgkNCgkNCgkJCQl2YXIgcGxpc3Q9W107DQoJCQkJcGxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcGxpc3QpOyA/PjsNCgkJCQkNCgkJCQl2YXIgdW5pcXVlTmFtZXMgPSBbXTsNCgkJCQkNCgkJCQkNCgkJCQkkLmVhY2gocGxpc3QsIGZ1bmN0aW9uKGksIGVsKXsNCgkJCQkJaWYoJC5pbkFycmF5KGVsLCB1bmlxdWVOYW1lcykgPT09IC0xKSB1bmlxdWVOYW1lcy5wdXNoKGVsKTsNCgkJCQl9KTsNCgkJCQkNCgkJCQkNCgkJCQkNCgkJCQkNCgkJCQkNCgkJCQl2YXIgdGJ2YWw9W107DQoJCQkJdmFyIHRidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVQpOyA/PjsNCgkJCQkNCgkJCQkNCiAgICAgICAgICAgICAgICANCgkJCQkgdGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkdmFsdWVzKTsgPz47DQoJCQkJICB0YnRpbWU9PD9waHAgZWNobyBqc29uX2VuY29kZSgkZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgIA0KCQkJCSAgaWYgKHRidmFsID09PSBudWxsKQ0KCQkJCSAgew0KCQkJCSAgICAgIHRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZih0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICB0YnRpbWU9MDsgDQoJCQkJICAgfQ0KCQkJCSANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICANCgkJCQkgDQoJCQkJdmFyIHZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciB0aW1ldmFyID0gW107DQoJCQkJdmFyIHZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KCSAgDQoJICANCgkgIA0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIA0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0sDQoNCn07DQoJCQkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YSA9IHsNCiAgICAgICAgbGFiZWxzOiB0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVQpOyRuKyspeyBlY2hvICd7DQogICAgICAgICAgICBsYWJlbDogbmFtZWxpc3RbJy4kbi4nXSwNCiAgICAgICAgICAgIGZpbGw6IGZhbHNlLA0KICAgICAgICAgICAgbGluZVRlbnNpb246IDAuMQksDQogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBkYXRhOiB0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJDQogICAgICAgICAgDQogICAgICAgIF0sDQoJCQ0KICAgICAgfTsNCgkgIA0KCSAgDQoJICANCgkgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgRU5EIG9mIFRFTVAgICAgICAgICAqLw0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBUlQgb2YgSFVNSURJVFkgICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBodGJ2YWw9W107DQoJCQkJdmFyIGh0YnRpbWU9W107DQoJCQkJdmFyIGNvbG9yc2FycmF5PVtdOw0KCQkJCXZhciBuYW1lbGlzdD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb21wYXJlZE5hbWVIKTsgPz47DQoJCQkJDQogICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIA0KCQkJCSBodGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkaHZhbHVlcyk7ID8+Ow0KCQkJCSAgaHRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRoZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgIGlmIChodGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgaHRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihodGJ0aW1lID09PSBudWxsKQ0KCQkJCSAgIA0KCQkJCSAgIHsNCgkJCQkgICAgICAgDQoJCQkJICAgICAgaHRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCQ0KCQkJCSANCgkJCQl2YXIgaHZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBodGltZXZhciA9IFtdOw0KCQkJCXZhciBodmFsMj1bXTsNCgkJCQkNCgkJCQ0KCQkJCQ0KCQ0KCSAgDQoJICANCgkgIA0KCSAgDQoJCQkNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9DQp9Ow0KCQ0KICAgIAkJCXZhciBjaGFydGRhdGEyID0gew0KICAgICAgICBsYWJlbHM6IGh0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZUgpOyRuKyspeyBlY2hvICd7DQogICAgICAgICAgICBsYWJlbDogbmFtZWxpc3RbJy4kbi4nXSwNCiAgICAgICAgICAgIGZpbGw6IGZhbHNlLA0KICAgICAgICAgICAgbGluZVRlbnNpb246IDAuMQksDQogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBkYXRhOiBodGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQkNCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIEhVTUlEVFkgICAgICAgICAqLw0KDQoNCgkgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTVEFSVCBvZiBwMSAgICAgICAgICovDQoNCg0KDQoNCgkgIA0KCSAgICAgICAgICAgICAgdmFyIHAxdGJ2YWw9W107DQoJCQkJdmFyIHAxYnRpbWU9W107DQoJCQkJdmFyIGNvbG9yc2FycmF5PVtdOw0KCQkJCXZhciBuYW1lbGlzdD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb21wYXJlZE5hbWVQMSk7ID8+Ow0KCQkJCQ0KCQkJCSANCgkJCQkgcDF0YnZhbD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwMXZhbHVlcyk7ID8+Ow0KCQkJCSAgcDF0YnRpbWU9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDFkYXRhVGltZSk7ID8+Ow0KCQkJCSAgY29sb3JzYXJyYXk9IDw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbG9yc2FycmF5KTs/PjsNCgkJCQkgIA0KCQkJCSAgaWYgKHAxdGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDF0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDF0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwMXRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCQ0KICAgICAgICAgICAgICAgICAgDQoJCQkJdmFyIHAxdmFsID0gW107DQogICAgICAgICAgICAgICAgdmFyIHAxdGltZXZhciA9IFtdOw0KCQkJCXZhciBwMXZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KICAgICAgICAgICAgICAgDQoJICANCgkgIA0KCQkJCQ0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0NCn07DQoJCQkNCgkJCQ0KICAgIAkJCXZhciBjaGFydGRhdGEzID0gew0KICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHAxdGJ0aW1lWzBdLCAgDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVAxKTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDF0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJDQogICAgICAgICAgDQogICAgICAgIF0sDQoJCQ0KICAgICAgfTsNCgkgDQogICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgIEVORCBPRiBwMSAgICAgICAgICovDQoNCgkgICANCgkgIA0KCSAgDQoJICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBUlQgb2YgcDIgICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwMnRidmFsPVtdOw0KCQkJCXZhciBwMmJ0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDIpOyA/PjsNCgkJCQkNCgkJCQkgDQoJCQkJIHAydGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDJ2YWx1ZXMpOyA/PjsNCgkJCQkgIHAydGJ0aW1lPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHAyZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgICBpZiAocDJ0YnZhbCA9PT0gbnVsbCkNCgkJCQkgIHsNCgkJCQkgICAgICBwMnRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihwMnRidGltZSA9PT0gbnVsbCkNCgkJCQkgICANCgkJCQkgICB7DQoJCQkJICAgICAgIA0KCQkJCSAgICAgIHAydGJ0aW1lPTA7IA0KCQkJCSAgIH0NCgkJCQkgDQoJCQkJDQoJCQkJIA0KCQkJCXZhciBwMnZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBwMnRpbWV2YXIgPSBbXTsNCgkJCQl2YXIgcDJ2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQkNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9DQp9Ow0KCQkJDQoJCQ0KICAgIAkJCXZhciBjaGFydGRhdGE0ID0gew0KICAgICAgICBsYWJlbHM6IHAydGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVQMik7JG4rKyl7IGVjaG8gJ3sNCiAgICAgICAgICAgIGxhYmVsOiBuYW1lbGlzdFsnLiRuLiddLA0KICAgICAgICAgICAgZmlsbDogZmFsc2UsDQogICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCSwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCb3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGRhdGE6IHAydGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgcDIgICAgICAgICAqLw0KCSAgIA0KCSAgIA0KCSAgIA0KCSAgIA0KCSAgIA0KCSAgIA0KCSAgIA0KCSAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBUlQgb2YgcDMgICAgICAgICovDQoNCg0KDQoNCgkgIA0KCSAgICAgICAgICAgICAgdmFyIHAzdGJ2YWw9W107DQoJCQkJdmFyIHAzYnRpbWU9W107DQoJCQkJdmFyIGNvbG9yc2FycmF5PVtdOw0KCQkJCXZhciBuYW1lbGlzdD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb21wYXJlZE5hbWVQMyk7ID8+Ow0KCQkJCQ0KCQkJCSANCgkJCQkgcDN0YnZhbD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwM3ZhbHVlcyk7ID8+Ow0KCQkJCSAgcDN0YnRpbWU9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDNkYXRhVGltZSk7ID8+Ow0KCQkJCSAgY29sb3JzYXJyYXk9IDw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbG9yc2FycmF5KTs/PjsNCgkJCQkgIA0KCQkJCSAgaWYgKHAzdGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDN0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDN0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwM3RidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCSANCgkJCQkNCgkJCQkgDQoJCQkJdmFyIHAzdmFsID0gW107DQogICAgICAgICAgICAgICAgdmFyIHAzdGltZXZhciA9IFtdOw0KCQkJCXZhciBwM3ZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KCSAgDQoJICANCgkgIA0KCQkJCQ0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0NCn07DQoJCQkNCgkJCQ0KICAgIAkJCXZhciBjaGFydGRhdGE1ID0gew0KICAgICAgICBsYWJlbHM6IHAzdGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVQMyk7JG4rKyl7IGVjaG8gJ3sNCiAgICAgICAgICAgIGxhYmVsOiBuYW1lbGlzdFsnLiRuLiddLA0KICAgICAgICAgICAgZmlsbDogZmFsc2UsDQogICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCSwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCb3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGRhdGE6IHAzdGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgcDMgICAgICAgICovDQoJICAgDQoJICAgDQoJICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTVEFSVCBvZiBwNCAgICAgICAgKi8NCg0KDQoNCg0KCSAgDQoJICAgICAgICAgICAgICB2YXIgcDR0YnZhbD1bXTsNCgkJCQl2YXIgcDRidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVA0KTsgPz47DQoJCQkJDQoJCQkJIA0KCQkJCSBwNHRidmFsPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA0dmFsdWVzKTsgPz47DQoJCQkJICBwNHRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwNGRhdGFUaW1lKTsgPz47DQoJCQkJICBjb2xvcnNhcnJheT0gPD9waHAgZWNobyBqc29uX2VuY29kZSgkY29sb3JzYXJyYXkpOz8+Ow0KCQkJCSAgaWYgKHA0dGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDR0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDR0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwNHRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCSANCgkJCQkNCgkJCQkgDQoJCQkJdmFyIHA0dmFsID0gW107DQogICAgICAgICAgICAgICAgdmFyIHA0dGltZXZhciA9IFtdOw0KCQkJCXZhciBwNHZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KCSAgDQoJICANCgkgIA0KCQkJCQ0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0NCn07DQoJCQkNCgkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTYgPSB7DQogICAgICAgIGxhYmVsczogcDR0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVA0KTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDR0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJDQogICAgICAgICAgDQogICAgICAgIF0sDQoJCQ0KICAgICAgfTsNCgkgDQogICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgIEVORCBPRiBwNCAgICAgICAgKi8NCgkgICANCgkgICANCgkgICANCgkgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHA1ICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwNXRidmFsPVtdOw0KCQkJCXZhciBwNWJ0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDUpOyA/PjsNCgkJCQkNCgkJCQkNCgkJCQkgcDV0YnZhbD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwNXZhbHVlcyk7ID8+Ow0KCQkJCSAgcDV0YnRpbWU9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDVkYXRhVGltZSk7ID8+Ow0KCQkJCSAgY29sb3JzYXJyYXk9IDw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbG9yc2FycmF5KTs/PjsNCgkJCQkgIGlmIChwNXRidmFsID09PSBudWxsKQ0KCQkJCSAgew0KCQkJCSAgICAgIHA1dGJ2YWwgPTA7DQoJCQkJICB9DQoJCQkJIA0KCQkJCSAgIGlmKHA1dGJ0aW1lID09PSBudWxsKQ0KCQkJCSAgIA0KCQkJCSAgIHsNCgkJCQkgICAgICAgDQoJCQkJICAgICAgcDV0YnRpbWU9MDsgDQoJCQkJICAgfQ0KCQkJCSANCgkJCQkgDQoJCQkJDQoJCQkJIA0KCQkJCXZhciBwNXZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBwNXRpbWV2YXIgPSBbXTsNCgkJCQl2YXIgcDV2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQkNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9DQp9Ow0KCQkJDQoJCQkNCiAgICAJCQl2YXIgY2hhcnRkYXRhNyA9IHsNCiAgICAgICAgbGFiZWxzOiBwNXRidGltZVswXSwNCgkJDQoJCQ0KICAgICAgICBkYXRhc2V0czogWw0KICAgICAgICA8P3BocCBmb3IoJG49MDskbjxjb3VudCgkY29tcGFyZWROYW1lUDUpOyRuKyspeyBlY2hvICd7DQogICAgICAgICAgICBsYWJlbDogbmFtZWxpc3RbJy4kbi4nXSwNCiAgICAgICAgICAgIGZpbGw6IGZhbHNlLA0KICAgICAgICAgICAgbGluZVRlbnNpb246IDAuMQksDQogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBkYXRhOiBwNXRidmFsWycuJG4uJ10NCgkJCS8vYmV6aWVyQ3VydmUgOiBmYWxzZQ0KCQkJDQogICAgICAgICAgfSwnOyANCgkJfSAgPz4NCgkJDQogICAgICAgICAgDQogICAgICAgIF0sDQoJCQ0KICAgICAgfTsNCgkgDQogICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgIEVORCBPRiBwNSAgICAgICAqLw0KCSAgIA0KCSAgIA0KCSAgIA0KCSAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBUlQgb2YgcDYgICAgICAgICovDQoNCg0KDQoNCgkgIA0KCSAgICAgICAgICAgICAgdmFyIHA2dGJ2YWw9W107DQoJCQkJdmFyIHA2YnRpbWU9W107DQoJCQkJdmFyIGNvbG9yc2FycmF5PVtdOw0KCQkJCXZhciBuYW1lbGlzdD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb21wYXJlZE5hbWVQNik7ID8+Ow0KCQkJCQ0KCQkJCSANCgkJCQkgcDZ0YnZhbD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwNnZhbHVlcyk7ID8+Ow0KCQkJCSAgcDZ0YnRpbWU9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDZkYXRhVGltZSk7ID8+Ow0KCQkJCSAgY29sb3JzYXJyYXk9IDw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbG9yc2FycmF5KTs/PjsNCgkJCQkgIA0KCQkJCSAgaWYgKHA2dGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDZ0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDZ0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwNnRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCSANCgkJCQkNCgkJCQkgDQoJCQkJdmFyIHA2dmFsID0gW107DQogICAgICAgICAgICAgICAgdmFyIHA2dGltZXZhciA9IFtdOw0KCQkJCXZhciBwNnZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KCSAgDQoJICANCgkgIA0KCQkJCQ0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0NCn07DQoJCQkNCgkJCQ0KICAgIAkJCXZhciBjaGFydGRhdGE4ID0gew0KICAgICAgICBsYWJlbHM6IHA2dGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVQNik7JG4rKyl7IGVjaG8gJ3sNCiAgICAgICAgICAgIGxhYmVsOiBuYW1lbGlzdFsnLiRuLiddLA0KICAgICAgICAgICAgZmlsbDogZmFsc2UsDQogICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCSwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCb3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGRhdGE6IHA2dGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgcDYgICAgICAgKi8NCgkgICANCgkgICANCgkgICANCgkgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHA3ICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwN3RidmFsPVtdOw0KCQkJCXZhciBwN2J0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDcpOyA/PjsNCgkJCQkNCgkJCQkgDQoJCQkJIHA3dGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDd2YWx1ZXMpOyA/PjsNCgkJCQkgIHA3dGJ0aW1lPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA3ZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgIGlmIChwN3RidmFsID09PSBudWxsKQ0KCQkJCSAgew0KCQkJCSAgICAgIHA3dGJ2YWwgPTA7DQoJCQkJICB9DQoJCQkJIA0KCQkJCSAgIGlmKHA3dGJ0aW1lID09PSBudWxsKQ0KCQkJCSAgIA0KCQkJCSAgIHsNCgkJCQkgICAgICAgDQoJCQkJICAgICAgcDd0YnRpbWU9MDsgDQoJCQkJICAgfQ0KCQkJCSANCgkJCQkgDQoJCQkJDQoJCQkJIA0KCQkJCXZhciBwN3ZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBwN3RpbWV2YXIgPSBbXTsNCgkJCQl2YXIgcDd2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQ0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0NCn07DQoJCQkNCgkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTkgPSB7DQogICAgICAgIGxhYmVsczogcDd0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVA3KTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDd0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoNCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIHA3ICAgICAgICovDQoJICAgDQoJICAgDQoJICAgDQoJICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHA4ICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwOHRidmFsPVtdOw0KCQkJCXZhciBwOGJ0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDgpOyA/PjsNCgkJCQkNCgkJCQkNCgkJCQkgcDh0YnZhbD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwOHZhbHVlcyk7ID8+Ow0KCQkJCSAgcDh0YnRpbWU9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDhkYXRhVGltZSk7ID8+Ow0KCQkJCSAgY29sb3JzYXJyYXk9IDw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbG9yc2FycmF5KTs/PjsNCgkJCQkgIA0KCQkJCSAgaWYgKHA4dGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDh0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDh0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwOHRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCSANCgkJCQkNCgkJCQkgDQoJCQkJdmFyIHA4dmFsID0gW107DQogICAgICAgICAgICAgICAgdmFyIHA4dGltZXZhciA9IFtdOw0KCQkJCXZhciBwOHZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KCSAgDQoJICANCgkgIA0KCQkJDQoJCQkJdmFyIG9wdGlvbnMgPSB7DQogIGJlemllckN1cnZlIDogZmFsc2UsDQogIGFuaW1hdGlvbjogew0KICAgIG9uQ29tcGxldGU6IGRvbmUNCiAgfQ0KfTsNCgkJCQ0KCQkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTEwID0gew0KICAgICAgICBsYWJlbHM6IHA4dGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVQOCk7JG4rKyl7IGVjaG8gJ3sNCiAgICAgICAgICAgIGxhYmVsOiBuYW1lbGlzdFsnLiRuLiddLA0KICAgICAgICAgICAgZmlsbDogZmFsc2UsDQogICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCSwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCb3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGRhdGE6IHA4dGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgcDggICAgICAgKi8NCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgLyogZ2V0IG5hbWVzIG9mIGRpc3RpbmN0IHBhcmFtZXRlcnMgKi8NCiAgICA8P3BocA0KCSAgJHByaSA9IGFycmF5KCk7DQoNCgkgIGZvciAoJGNjayA9IDExOyRjY2sgPD0yMDskY2NrKyspIHsNCgkJICAkc3FsID0gInNlbGVjdCBwY29kZSAscGFyYW1ldGVyIGZyb20gZGV2aWNlIHdoZXJlIHBjb2RlID0gJyRjY2snIGxpbWl0IDEgIjsNCg0KICAkc3JlcyA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsKTsNCgkJICBpZihteXNxbGlfbnVtX3Jvd3MoJHNyZXMpICE9IDApDQoJCSAgew0KCQkJICB3aGlsZSgkcmUgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHNyZXMpICkgew0KCQkJCSAgYXJyYXlfcHVzaCgkcHJpLCRyZVsncGFyYW1ldGVyJ10pOw0KCQkJICB9DQoJCSAgfSBlbHNlIA0KCQkgIHsNCgkJCSANCgkJCWFycmF5X3B1c2goJHByaSwncGFyYW1ldGVyJyk7IA0KCQkgIH0NCgkgIH0NCg0KCSAgDQoJICA/Pg0KDQogICAgICB2YXIgY3R4ID0gJCgiIzExIik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhLA0KCQlvcHRpb25zOnt0aXRsZTp7ZGlzcGxheTp0cnVlLHRleHQ6Jzw/cGhwIGVjaG8gJHByaVswXTsgPz4nfSwNCgkJDQoJCXNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJzw/cGhwIGVjaG8gJHByaVswXTsgPz4nDQoJCQ0KCSAgfQ0KICAgIH1dLA0KCQ0KCXhBeGVzOiBbew0KICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgIGF1dG9Ta2lwOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtYXhSb3RhdGlvbjogNzAsDQogICAgICAgICAgICAgICAgICAgIG1pblJvdGF0aW9uOiA3MCwNCgkJCQkJZm9udFNpemU6IDggLA0KCQkJCQlmb250Q29sb3I6ICdyZWQnICwNCiAgICAgICAgICAgICAgICB9LA0KCQ0KICAgICAgICAgICAgfSwNCgkJDQoJCQl7DQogICAgICAgICAgYWZ0ZXJCdWlsZFRpY2tzOiBzY2FsZSA9PiBzY2FsZS50aWNrcyA9IFtdLA0KICAgICAgICAgIGdyaWRMaW5lczogew0KICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgIH0sDQoJCQkJICAgDQoNCgkJDQoJCQkNCgkJCX1dDQogIH0NCgkJDQoJCQ0KCQkNCgkJfQ0KICAgICAgfSk7DQoJICANCgkgIA0KCSAgDQoJICANCgkgICB2YXIgY3R4ID0gJCgiIzEyIik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhMiwNCgkJb3B0aW9uczp7dGl0bGU6e2Rpc3BsYXk6dHJ1ZSx0ZXh0Oic8P3BocCBlY2hvICRwcmlbMV07ID8+J30sDQoJCQ0KCQlzY2FsZXM6IHsNCiAgICB5QXhlczogW3sNCiAgICAgIHNjYWxlTGFiZWw6IHsNCiAgICAgICAgZGlzcGxheTogdHJ1ZSwNCiAgICAgICAgbGFiZWxTdHJpbmc6ICc8P3BocCBlY2hvICRwcmlbMV07ID8+Jw0KCQkgICB9DQogICAgfV0sDQoJeEF4ZXM6IFt7DQogICAgICAgICAgICAgICAgdGlja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgYXV0b1NraXA6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIG1heFJvdGF0aW9uOiA3MCwNCiAgICAgICAgICAgICAgICAgICAgbWluUm90YXRpb246IDcwLA0KCQkJCQlmb250U2l6ZTogOCAsDQoJCQkJCWZvbnRDb2xvcjogJ3JlZCcgLA0KICAgICAgICAgICAgICAgIH0sDQoJDQogICAgICAgICAgICB9LA0KCQkNCgkJCXsNCiAgICAgICAgICBhZnRlckJ1aWxkVGlja3M6IHNjYWxlID0+IHNjYWxlLnRpY2tzID0gW10sDQogICAgICAgICAgZ3JpZExpbmVzOiB7DQogICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgfSwNCgkJCQkgICANCg0KCQkNCgkJCQ0KCQkJfV0NCiAgfQ0KCQ0KCQkNCgkJDQoJCQ0KCQkNCgkJfQ0KICAgICAgfSk7DQoJICANCgkgIA0KCSAgDQoJICAgICB2YXIgY3R4ID0gJCgiIzEzIik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhMywNCgkJb3B0aW9uczp7dGl0bGU6e2Rpc3BsYXk6dHJ1ZSx0ZXh0Oic8P3BocCBlY2hvICRwcmlbMl07ID8+J30sDQoJCQ0KCQkNCgkJDQoJCXNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJzw/cGhwIGVjaG8gJHByaVsyXTsgPz4nDQoJCSAgIH0NCiAgICB9XSwNCgl4QXhlczogW3sNCiAgICAgICAgICAgICAgICB0aWNrczogew0KICAgICAgICAgICAgICAgICAgICBhdXRvU2tpcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWF4Um90YXRpb246IDcwLA0KICAgICAgICAgICAgICAgICAgICBtaW5Sb3RhdGlvbjogNzAsDQoJCQkJCWZvbnRTaXplOiA4ICwNCgkJCQkJZm9udENvbG9yOiAncmVkJyAsDQogICAgICAgICAgICAgICAgfSwNCgkNCiAgICAgICAgICAgIH0sDQoJCQ0KCQkJew0KICAgICAgICAgIGFmdGVyQnVpbGRUaWNrczogc2NhbGUgPT4gc2NhbGUudGlja3MgPSBbXSwNCiAgICAgICAgICBncmlkTGluZXM6IHsNCiAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UNCiAgICAgICAgICAgICAgICAgICB9LA0KCQkJCSAgIA0KDQoJCQ0KCQkJDQoJCQl9XQ0KICB9DQoJCQ0KCQkNCgkJDQoJCX0NCiAgICAgIH0pOw0KCSANCgkgIA0KCSAgICAgICAgdmFyIGN0eCA9ICQoIiMxNCIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTQsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDonPD9waHAgZWNobyAkcHJpWzNdOyA/Pid9LHNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJzw/cGhwIGVjaG8gJHByaVsyXTsgPz4nDQoJCSAgIH0NCiAgICB9XSwNCgl4QXhlczogW3sNCiAgICAgICAgICAgICAgICB0aWNrczogew0KICAgICAgICAgICAgICAgICAgICBhdXRvU2tpcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWF4Um90YXRpb246IDcwLA0KICAgICAgICAgICAgICAgICAgICBtaW5Sb3RhdGlvbjogNzAsDQoJCQkJCWZvbnRTaXplOiA4ICwNCgkJCQkJZm9udENvbG9yOiAncmVkJyAsDQogICAgICAgICAgICAgICAgfSwNCgkNCiAgICAgICAgICAgIH0sDQoJCQ0KCQkJew0KICAgICAgICAgIGFmdGVyQnVpbGRUaWNrczogc2NhbGUgPT4gc2NhbGUudGlja3MgPSBbXSwNCiAgICAgICAgICBncmlkTGluZXM6IHsNCiAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UNCiAgICAgICAgICAgICAgICAgICB9LA0KCQkJCSAgIA0KDQoJCQ0KCQkJDQoJCQl9XQ0KICB9DQoJCQ0KCQkNCgkJDQoJCX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIA0KCSAgDQoJICAgICAgICB2YXIgY3R4ID0gJCgiIzE1Iik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhNSwNCgkJb3B0aW9uczp7dGl0bGU6e2Rpc3BsYXk6dHJ1ZSx0ZXh0Oic8P3BocCBlY2hvICRwcmlbNF07ID8+J30sc2NhbGVzOiB7DQogICAgeUF4ZXM6IFt7DQogICAgICBzY2FsZUxhYmVsOiB7DQogICAgICAgIGRpc3BsYXk6IHRydWUsDQogICAgICAgIGxhYmVsU3RyaW5nOiAnPD9waHAgZWNobyAkcHJpWzJdOyA/PicNCgkJICAgfQ0KICAgIH1dLA0KCXhBeGVzOiBbew0KICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgIGF1dG9Ta2lwOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtYXhSb3RhdGlvbjogNzAsDQogICAgICAgICAgICAgICAgICAgIG1pblJvdGF0aW9uOiA3MCwNCgkJCQkJZm9udFNpemU6IDggLA0KCQkJCQlmb250Q29sb3I6ICdyZWQnICwNCiAgICAgICAgICAgICAgICB9LA0KCQ0KICAgICAgICAgICAgfSwNCgkJDQoJCQl7DQogICAgICAgICAgYWZ0ZXJCdWlsZFRpY2tzOiBzY2FsZSA9PiBzY2FsZS50aWNrcyA9IFtdLA0KICAgICAgICAgIGdyaWRMaW5lczogew0KICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgIH0sDQoJCQkJICAgDQoNCgkJDQoJCQkNCgkJCX1dDQogIH0NCgkJDQoJCQ0KCQkNCgkJfQ0KICAgICAgfSk7DQoJICANCgkgIA0KCSAgDQoJICAJICAgICAgICB2YXIgY3R4ID0gJCgiIzE2Iik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhNiwNCgkJb3B0aW9uczp7dGl0bGU6e2Rpc3BsYXk6dHJ1ZSx0ZXh0Oic8P3BocCBlY2hvICRwcmlbNV07ID8+J30sc2NhbGVzOiB7DQogICAgeUF4ZXM6IFt7DQogICAgICBzY2FsZUxhYmVsOiB7DQogICAgICAgIGRpc3BsYXk6IHRydWUsDQogICAgICAgIGxhYmVsU3RyaW5nOiAnPD9waHAgZWNobyAkcHJpWzJdOyA/PicNCgkJICAgfQ0KICAgIH1dLA0KCXhBeGVzOiBbew0KICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgIGF1dG9Ta2lwOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtYXhSb3RhdGlvbjogNzAsDQogICAgICAgICAgICAgICAgICAgIG1pblJvdGF0aW9uOiA3MCwNCgkJCQkJZm9udFNpemU6IDggLA0KCQkJCQlmb250Q29sb3I6ICdyZWQnICwNCiAgICAgICAgICAgICAgICB9LA0KCQ0KICAgICAgICAgICAgfSwNCgkJDQoJCQl7DQogICAgICAgICAgYWZ0ZXJCdWlsZFRpY2tzOiBzY2FsZSA9PiBzY2FsZS50aWNrcyA9IFtdLA0KICAgICAgICAgIGdyaWRMaW5lczogew0KICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgIH0sDQoJCQkJICAgDQoNCgkJDQoJCQkNCgkJCX1dDQogIH0NCgkJDQoJCQ0KCQkNCgkJfQ0KICAgICAgfSk7DQoJICANCgkgIA0KCSAgCSAgICAgICAgdmFyIGN0eCA9ICQoIiMxNyIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTcsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDonPD9waHAgZWNobyAkcHJpWzZdOyA/Pid9LHNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJzw/cGhwIGVjaG8gJHByaVsyXTsgPz4nDQoJCSAgIH0NCiAgICB9XSwNCgl4QXhlczogW3sNCiAgICAgICAgICAgICAgICB0aWNrczogew0KICAgICAgICAgICAgICAgICAgICBhdXRvU2tpcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWF4Um90YXRpb246IDcwLA0KICAgICAgICAgICAgICAgICAgICBtaW5Sb3RhdGlvbjogNzAsDQoJCQkJCWZvbnRTaXplOiA4ICwNCgkJCQkJZm9udENvbG9yOiAncmVkJyAsDQogICAgICAgICAgICAgICAgfSwNCgkNCiAgICAgICAgICAgIH0sDQoJCQ0KCQkJew0KICAgICAgICAgIGFmdGVyQnVpbGRUaWNrczogc2NhbGUgPT4gc2NhbGUudGlja3MgPSBbXSwNCiAgICAgICAgICBncmlkTGluZXM6IHsNCiAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UNCiAgICAgICAgICAgICAgICAgICB9LA0KCQkJCSAgIA0KDQoJCQ0KCQkJDQoJCQl9XQ0KICB9DQoJCQ0KCQkNCgkJDQoJCX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIAkgICAgICAgIHZhciBjdHggPSAkKCIjMTgiKTsNCg0KICAgICAgdmFyIExpbmVHcmFwaCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiBjaGFydGRhdGE4LA0KCQlvcHRpb25zOnt0aXRsZTp7ZGlzcGxheTp0cnVlLHRleHQ6Jzw/cGhwIGVjaG8gJHByaVs3XTsgPz4nfSxzY2FsZXM6IHsNCiAgICB5QXhlczogW3sNCiAgICAgIHNjYWxlTGFiZWw6IHsNCiAgICAgICAgZGlzcGxheTogdHJ1ZSwNCiAgICAgICAgbGFiZWxTdHJpbmc6ICc8P3BocCBlY2hvICRwcmlbMl07ID8+Jw0KCQkgICB9DQogICAgfV0sDQoJeEF4ZXM6IFt7DQogICAgICAgICAgICAgICAgdGlja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgYXV0b1NraXA6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIG1heFJvdGF0aW9uOiA3MCwNCiAgICAgICAgICAgICAgICAgICAgbWluUm90YXRpb246IDcwLA0KCQkJCQlmb250U2l6ZTogOCAsDQoJCQkJCWZvbnRDb2xvcjogJ3JlZCcgLA0KICAgICAgICAgICAgICAgIH0sDQoJDQogICAgICAgICAgICB9LA0KCQkNCgkJCXsNCiAgICAgICAgICBhZnRlckJ1aWxkVGlja3M6IHNjYWxlID0+IHNjYWxlLnRpY2tzID0gW10sDQogICAgICAgICAgZ3JpZExpbmVzOiB7DQogICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgfSwNCgkJCQkgICANCg0KCQkNCgkJCQ0KCQkJfV0NCiAgfQ0KCQkNCgkJDQoJCQ0KCQl9DQogICAgICB9KTsNCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgCSAgICAgICAgdmFyIGN0eCA9ICQoIiMxOSIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTksDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDonPD9waHAgZWNobyAkcHJpWzhdOyA/Pid9LHNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJzw/cGhwIGVjaG8gJHByaVsyXTsgPz4nDQoJCSAgIH0NCiAgICB9XSwNCgl4QXhlczogW3sNCiAgICAgICAgICAgICAgICB0aWNrczogew0KICAgICAgICAgICAgICAgICAgICBhdXRvU2tpcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWF4Um90YXRpb246IDcwLA0KICAgICAgICAgICAgICAgICAgICBtaW5Sb3RhdGlvbjogNzAsDQoJCQkJCWZvbnRTaXplOiA4ICwNCgkJCQkJZm9udENvbG9yOiAncmVkJyAsDQogICAgICAgICAgICAgICAgfSwNCgkNCiAgICAgICAgICAgIH0sDQoJCQ0KCQkJew0KICAgICAgICAgIGFmdGVyQnVpbGRUaWNrczogc2NhbGUgPT4gc2NhbGUudGlja3MgPSBbXSwNCiAgICAgICAgICBncmlkTGluZXM6IHsNCiAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UNCiAgICAgICAgICAgICAgICAgICB9LA0KCQkJCSAgIA0KDQoJCQ0KCQkJDQoJCQl9XQ0KICB9DQoJCQ0KCQkNCgkJDQoJCX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIAkgICAgICAgIHZhciBjdHggPSAkKCIjMjAiKTsNCg0KICAgICAgdmFyIExpbmVHcmFwaCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiBjaGFydGRhdGExMCwNCgkJb3B0aW9uczp7dGl0bGU6e2Rpc3BsYXk6dHJ1ZSx0ZXh0Oic8P3BocCBlY2hvICRwcmlbOV07ID8+J30sc2NhbGVzOiB7DQogICAgeUF4ZXM6IFt7DQogICAgICBzY2FsZUxhYmVsOiB7DQogICAgICAgIGRpc3BsYXk6IHRydWUsDQogICAgICAgIGxhYmVsU3RyaW5nOiAnPD9waHAgZWNobyAkcHJpWzJdOyA/PicNCgkJICAgfQ0KICAgIH1dLA0KCXhBeGVzOiBbew0KICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgIGF1dG9Ta2lwOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtYXhSb3RhdGlvbjogNzAsDQogICAgICAgICAgICAgICAgICAgIG1pblJvdGF0aW9uOiA3MCwNCgkJCQkJZm9udFNpemU6IDggLA0KCQkJCQlmb250Q29sb3I6ICdyZWQnICwNCiAgICAgICAgICAgICAgICB9LA0KCQ0KICAgICAgICAgICAgfSwNCgkJDQoJCQl7DQogICAgICAgICAgYWZ0ZXJCdWlsZFRpY2tzOiBzY2FsZSA9PiBzY2FsZS50aWNrcyA9IFtdLA0KICAgICAgICAgIGdyaWRMaW5lczogew0KICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgIH0sDQoJCQkJICAgDQoNCgkJDQoJCQkNCgkJCX1dDQogIH0NCgkJDQoJCQ0KCQkNCgkJfQ0KICAgICAgfSk7DQoJICANCgkgIA0KCSANCgkgIA0KCSAgDQoJICBmdW5jdGlvbiBkb25lKCl7DQoJICAgDQoJIH0NCgkgDQoJIA0KCSANCgkgDQoJIA0KCSANCgkvKioqKioqKioqICAgICAgICAgICAgIEJMT0NrIGZvciA0ICBwYXJhbWV0ZXIgZW5kcyBFeHRlbmQgdGhpcyB0byAxMCANCg0KDQogICAgICAgICAgICAgICAgKiovCQ0KCSANCgkgDQoJIA0KCQkJPC9zY3JpcHQ+DQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJPHNjcmlwdD4NCgkJCQ0KCQkJLy8gaGlkaW5nIA0KCQkJDQoJCQkNCgkJCXZhciBkaXNwID0nPD9waHAgZWNobyAkZ3JhcGhvcHRuOyA/Pic7DQoJCQkNCgkJCQ0KCQkJDQoJCQlpZiggZGlzcCA9PSAnb3JwJykNCgkJCXsNCgkJCQkNCgkJCQkNCgkJCQkkKCcuY2hhcnQtY29udGFpbmVyJykuaGlkZSgpOw0KCQkJfQ0KCQkJDQoJCQlpZiggZGlzcCA9PSAnb2dycCcpDQoJCQl7DQoJCQkJJCgnLndyYXBwZXInKS5oaWRlKCk7DQoJCQkJDQoJCQkJDQoJCQkJLy8kKCcuZ2xvYmFsLWNvbnRhaW4nKS5oaWRlKCk7DQoJCQkJdmFyIGFycjE9WycxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNycsJzE4JywnMTknLCcyMCcgXTsNCgkJCQkNCgkJCQlsZXQgZGlmZmVyZW5jZSA9IGFycjEuZmlsdGVyKHggPT4gIXVuaXF1ZU5hbWVzLmluY2x1ZGVzKHgpKTsNCgkJCQkNCgkJCQkNCgkJCQkNCgkJCQlmb3Ioaj0wO2o8ZGlmZmVyZW5jZS5sZW5ndGg7aisrKQ0KCQkJCXsNCgkJCQkJJCgnIycrZGlmZmVyZW5jZVtqXSkuaGlkZSgpOw0KCQkJCQkNCgkJCQkJDQoJCQkJfQ0KCQkJCQ0KCQkJfQ0KCQkJDQoJCQlpZiggZGlzcCA9PSAnb2dycCcpDQoJCQkJDQoJCQkJew0KCQkJCQl2YXIgYXJyMT1bJzExJywnMTInLCcxMycsJzE0JywnMTUnLCcxNicsJzE3JywnMTgnLCcxOScsJzIwJyBdOw0KCQkJCQkNCgkJCQkJbGV0IGRpZmZlcmVuY2UgPSBhcnIxLmZpbHRlcih4ID0+ICF1bmlxdWVOYW1lcy5pbmNsdWRlcyh4KSk7DQoJCQkJCQ0KCQkJCQlmb3Ioaj0wO2o8ZGlmZmVyZW5jZS5sZW5ndGg7aisrKQ0KCQkJCQl7DQoJCQkJCQkkKCcjJytkaWZmZXJlbmNlW2pdKS5oaWRlKCk7DQoJCQkJCQkNCgkJCQkJCQ0KCQkJCQl9DQoJCQkJCQ0KCQkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCWlmKCBkaXNwID09ICdib3RoJyl7DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJdmFyIGFycjE9WycxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNycsJzE4JywnMTknLCcyMCcgXTsNCgkJCQkJDQoJCQkJCWxldCBkaWZmZXJlbmNlID0gYXJyMS5maWx0ZXIoeCA9PiAhdW5pcXVlTmFtZXMuaW5jbHVkZXMoeCkpOw0KCQkJCQkNCgkJCQkJZm9yKGo9MDtqPGRpZmZlcmVuY2UubGVuZ3RoO2orKykNCgkJCQkJew0KCQkJCQkJJCgnIycrZGlmZmVyZW5jZVtqXSkuaGlkZSgpOw0KCQkJCQkJDQoJCQkJCQkNCgkJCQkJfQ0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJfQ0KCQkJDQoJCQkNCi8qKmhpZGUgbGFzdHJvdyAqLwkJDQpsZXQgaGlkZWxhc3Ryb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3V0ZXIgdGJvZHknKTsNCmhpZGVsYXN0cm93Lmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUuZGlzcGxheT0ibm9uZSI7CQkJCQ0KCQkJDQoNCmZ1bmN0aW9uIHByaW50bSgpew0KCQ0KCXdpbmRvdy5wcmludCgpOw0KCQ0KCQ0KfQ0KDQo8L3NjcmlwdD4NCiANCg0KDQoNCjw/cGhwDQoNCg0KDQo/Pg=="));//Generated by Ampare PHP Encoder. For more security please use php protect before encode the php program