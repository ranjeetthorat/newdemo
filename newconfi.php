<?php @eval("?>".base64_decode("PGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHhtbDpsYW5nPSJlbiIgbGFuZz0iZW4iPg0KPGhlYWQ+DQoJPHRpdGxlPlJlcG9ydC5wZGY8L3RpdGxlPg0KCTxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiAvPg0KCTxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSIiIC8+DQoJPG1ldGEgbmFtZT0ia2V5d29yZHMiIGNvbnRlbnQ9IiIgLz4NCgk8bGluayByZWw9Imljb24iIGhyZWY9Imljb24ucG5nIj4NCgk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9ImluZGV4LGZvbGxvdyIgLz4NCgkNCjwvaGVhZD4NCjw/ZXJyb3JfcmVwb3J0aW5nKDApO2luaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgMCk7Pz4NCjxpbWcgc3JjPSdpbWcvbG9nby5qcGcnIHdpZHRoPSIyNTAiIGhlaWdodD0iMTIwIiA+PGgzIGNsYXNzPSdpbmxpbmVzcyc+IENsb2dTb2Z0IDUuMCAgPHNtYWxsPih2NS4wKTwvc21hbGw+PC9oMz4NCg0KDQoNCg0KPD9waHANCnNlc3Npb25fc3RhcnQoKTsNCm9iX3N0YXJ0KCk7DQoNCg0KPz4NCg0KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHhtbDpsYW5nPSJlbiIgbGFuZz0iZW4iPg0KPGhlYWQ+DQoJPHRpdGxlPlJlcG9ydC5wZGY8L3RpdGxlPg0KCTxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiAvPg0KCTxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSIiIC8+DQoJPG1ldGEgbmFtZT0ia2V5d29yZHMiIGNvbnRlbnQ9IiIgLz4NCgk8bGluayByZWw9Imljb24iIGhyZWY9Imljb24ucG5nIj4NCgk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9ImluZGV4LGZvbGxvdyIgLz4NCgkNCjwvaGVhZD4NCg0KPHN0eWxlPg0KDQoNCg0KLmlubGluZXNzew0KCQ0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgkvL2Zsb2F0OnJpZ2h0Ow0KCWxlZnQ6MzAwcHg7DQoJdG9wOjcwcHg7DQoJDQoJDQp9DQoNCg0KLmxvZ29pbQ0Kew0KICANCiAgIC8vIHBvc2l0aW9uOmFic29sdXRlOw0KICAgIC8vZmxvYXQgOnJpZ2h0Ow0KICAgIA0KICAgIA0KfQ0KLnNpZ24NCnsNCiAgIA0KICAgIA0KICAgIA0KfQ0KLmNlbnRlcg0Kew0KICAgIA0KICAgIHRleHQtYWxpZ246Y2VudGVyOw0KICAgIA0KICAgIA0KfQ0KLnByaW50Y2wNCnsNCgltYXJnaW4tbGVmdDo5MDBweDsNCgkvL21hcmdpbi10b3A6MTUwcHg7DQoJV2lkdGg6ODBweDsNCgloZWlnaHQ6MzBweDsNCgljb2xvcjpncmVlbjsNCgkNCn0NCi5jaGJ4ew0KCQ0KCS8vaGVpZ2h0OjUwcHg7DQoJDQp9DQp0YWJsZXsNCglib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7DQoJYm9yZGVyOjFweCBzb2xpZDsNCgkNCn0NCg0KDQouaW5mbw0Kew0KCQ0KCWJvcmRlcjoxcHggc29saWQ7DQoJYm9yZGVyLXJhZGl1czoxMHB4Ow0KCS8vbWFyZ2luOjVweDsNCgl0b3A6MTEwcHg7DQoJLy9wYWRkaW5nOjVweDsNCgkNCn0NCi5tYWludGR7DQoJYm9yZGVyOjFweCBzb2xpZCBibGFjazsNCgkNCn0NCnRyLnNlY29uZHJvd3sNCgkNCglib3JkZXI6MXB4IHNvbGlkOw0KfQ0KDQp0ci50aGlyZHJvd3sNCgkNCglib3JkZXI6MXB4IHNvbGlkOw0KCQ0KfQ0KDQp0ci5mb3VydGhyb3d7DQoJDQoJYm9yZGVyOjFweCBzb2xpZDsNCgkNCn0NCi53cmFwcGVyDQp7DQoJLy90ZXh0LWFsaWduOmNlbnRlcjsNCgkvL21hcmdpbi1sZWZ0OjIwMHB4Ow0KCW1hcmdpbi10b3A6MzBweA0KCQ0KfQ0KDQp0YWJsZSB7DQogICAgYm9yZGVyOm5vbmU7DQogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCn0NCg0KdGFibGUgew0KICAgIGJvcmRlcjpub25lOw0KICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQp9DQoNCnRhYmxlIHRkLm1haW50ZCB7DQogICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjMDAwOw0KICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICMwMDA7DQp9DQoNCg0KLm1haW50ZA0Kew0KCWJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQoJLy9ib3JkZXI6IDFweCBzb2xpZCBibGFjazsNCgkNCn0NCi5maXJzdHJvdw0Kew0KCWJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQoJYmFja2dyb3VuZC1jb2xvcjojODRhOWFjOw0KCQ0KfQ0KDQouY2hhcnQtY29udGFpbmVyIHsNCgkgICAgDQoJCW1hcmdpbjphdXRvOw0KCQltYXJnaW4tdG9wOjEyMHB4Ow0KICAgICAgICB3aWR0aDogMTA0MHB4Ow0KICAgICAgICBoZWlnaHQ6IGF1dG87DQoJCS8vZGlzcGxheTpub25lOw0KCQkvL2Zsb2F0OmxlZnQ7DQogICAgICB9DQoJICANCi5oaWRlc3sNCgkNCgkNCglkaXNwbGF5Om5vbmU7DQp9CSAgDQoNCg0KdGQgew0KCQ0KCWZvbnQtc2l6ZToxM3B4Ow0KCQ0KfQ0KDQoNCg0KDQoNCg0KDQoNCg0KPC9zdHlsZT4NCg0KPGJvZHk+DQogICANCg0KPD9waHANCiRnZXRMYXRlPScnOw0KJGNvdW50ZXI1PTA7DQokZGV2aWNlSWQ9YXJyYXkoKTsNCiRuYW1lb2ZkZXZpY2U9YXJyYXkoKTsNCiR2YWx1ZXNhcnJheT1hcnJheSgpOw0KJGdldFRvPScnOw0KJGdldEZyb209Jyc7DQokZ2xvdXNlcm5hbWU9Jyc7DQokdXNlcnR5cGU9Jyc7DQokamFzb249YXJyYXkoKTsNCiRzcCA9IGFycmF5KCk7DQokcGxpc3Q9YXJyYXkoKTsNCiRwZGF0ZT1kYXRlKCdkL20vWScpOw0KJHB0aW1lPWRhdGUoJ0g6aTpzJyk7DQokaW50ZXJ2YWw9MDsNCiRnZXRkaXM9Jyc7DQokZGV0YT0nJzsNCiR3YW50YWxhcm09Jyc7DQppbmNsdWRlKCJpbmNsdWRlcy9kYmZpbGUucGhwIik7DQppZihpc3NldCgkX1BPU1RbJ2R2Y3NibXQnXSkpCQ0KCQkJCXsNCgkJCQkJDQoJCQkJCSRnZXRGcm9tID0kX1BPU1RbJ2Zyb21kYXRlJ107DQoJCQkJCSRnZXRUbz0kX1BPU1RbJ3RvZGF0ZSddOw0KCQkJCQkNCgkJCQkJJGdldGRpcyA9ICRfUE9TVFsncmFkaW8nXTsNCgkJCQkJJHdhbnRhbGFybSA9ICRfUE9TVFsnd2FudGFsYXJtJ107DQoJCQkJDQoJCQkJCQ0KCQkJCQ0KCQkJCQkgICAkZm9ybWF0PSRfUE9TVFsnZm9ybWF0J107DQoJCQkJCSAgICRpbnRlcnZhbD0kX1BPU1RbJ2ludGVydmFsJ107DQoJCQkJCSAgICRkZXRhPSRpbnRlcnZhbC4iIG1pbnV0ZXMiOw0KCQkJCQkgICBpZiAoJGZvcm1hdCA9PSAnaHJzJykNCgkJCQkJICAgew0KCQkJCQkgICAgICAgICAkZGV0YT0kaW50ZXJ2YWwuIiBIb3VycyI7DQoJCQkJCQkgICAkaW50ZXJ2YWw9JGludGVydmFsKjYwOw0KCQkJCQkJICAgDQoJCQkJCQkgICANCgkJCQkJICAgfSAgIA0KCQkJCQkgICANCgkJCQkJICAgJGdsb3VzZXJuYW1lID0gICRfUE9TVFsnYWRtaW5HZW4nXTsNCgkJCQkJICAgICR1c2VydHlwZSAgID0gICRfUE9TVFsndHlwZSddOw0KCQkJCQkkZGF0YTEgPSAkX1BPU1RbJ2RuYW1lJ107DQogICAgICAgICAgICAgICAgICAgIC8vJGRuYW1lcz1hcnJheSgpOw0KICAgICAgICAgICAgICAgICAgICAkbmFtZW9mZGV2aWNlPWV4cGxvZGUoJywnLCAkZGF0YTEpOw0KCQkJCQkNCgkJCQkJJGRhdGEyID0gJF9QT1NUWydkaWQnXTsNCgkJCQkJLy8kZGlkcz1hcnJheSgpOw0KCQkJCQkkZGV2aWNlSWQ9ZXhwbG9kZSgnLCcsICRkYXRhMik7DQoJCQkJCQ0KCQkJCQkNCg0KCQkkamFzb24gPSRfUE9TVFsnamFzb25oYW5kbGUnXTsNCgkJDQoJCQ0KDQoJCQ0KCQkNCgkJDQoJCSRzcD1leHBsb2RlKCIsIywiLCRqYXNvbik7DQoJDQoJCSRpbmRleD1jb3VudCgkc3ApOw0KCQkkYXNwPXJ0cmltKCRzcFskaW5kZXgtMV0sJywjJyk7DQoJCWFycmF5X3BvcCgkc3ApOw0KCQlhcnJheV9wdXNoKCRzcCwkYXNwKTsNCiAgICAgIAkNCg0KCQ0KCQ0KCWZvcigkaT0wOyRpPGNvdW50KCRzcCk7JGkrKyl7DQoJJGZpbmFsYXJyWyRpXT1leHBsb2RlKCcsJywkc3BbJGldKTsgfQ0KCQkJCQkNCgkJCQkJDQoJCQkJCS8vQnVpbGRpbmcgcGxpc3QgZm9yIHVuaXF1ZSBwYXJhbWV0ZXINCgkJCQkJDQoJCQkJCQ0KCQkJCQkgIGZvcigkbD0wOyRsPGNvdW50KCRmaW5hbGFycik7JGwrKykNCgkJCQl7DQoJCQkJCQ0KCQkJCQlmb3IoJGs9MDskazxjb3VudCgkZmluYWxhcnJbJGxdKS0xOyRrKyspDQoJCQkJCXsNCgkJCQkJCWFycmF5X3B1c2goJHBsaXN0LCRmaW5hbGFyclskbF1bJGsrMV0pOw0KCQkJCQkJDQoJCQkJCX0NCgkJCQkJDQoJCQkJCQ0KCQkJCX0NCgkJCQkJDQoJCQkJDQoNCg0KICAgICAgICAgICAgCWZvcigkaT0wOyRpPGNvdW50KCRzcCk7JGkrKyl7DQoJCQkNCgkJCSRrZXk9JGZpbmFsYXJyWyRpXVswXTsNCgkJDQoJJG5hbWVlPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgdWlkPScka2V5JyBsaW1pdCAxIjsNCg0KDQogICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG5hbWVlKTsNCgkJICANCgkJICB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0KSkNCgkJICB7DQoJCQkgICRuYW1lb2ZkZXZpY2VbJGldPSRyb3dbJ25hbWUnXTsNCgkJCSAgJGRldmljZUlkWyRpXT0kcm93Wyd1aWQnXTsNCgkJICB9DQoJICAgICANCgkNCgkJfQ0KCQkNCgkJDQoJCQ0KCX0NCg0KDQoNCi8qKioqKioqKiAgIERBVEUgQ29udmVyc2lvbiAqKioqKi8NCg0KICAgICAgICAgICAgICAgICAgICAgJHRpbWVUbyA9IHN0cnRvdGltZSgkZ2V0VG8pOw0KCQkJCQkgJG5ld19kYXRlVG8gPSBkYXRlKCJZLm0uZCIsICR0aW1lVG8pOw0KCQkJCQkNCgkJCQkJIA0KCQkJCQkgJHRpbWVGcm9tbyA9IHN0cnRvdGltZSgkZ2V0RnJvbSk7DQoJCQkJCSAkbmV3X2RhdGVGcm9tID0gZGF0ZSgiWS5tLmQiLCAkdGltZUZyb21vKTsNCg0KDQoNCg0KDQoNCiAgICAgICAvKioqKioqKioqKiogIEVOVEVSIFBSSU5UIFJFQ09SRCAqKioqKioqKioqKioqKioqKioqKioqKiovDQoJICAgDQoJICAgJGR0PWRhdGUoJ1kubS5kJyk7DQoJICAgJG53PWRhdGUoJ0gubS5zJyk7DQoJICAgDQoJICAgJHF1ZXJ5PSJpbnNlcnQgaW50byBsb2dkZXRhaWwgKHVzZXJpZCxkYXRlLHR5cGUscHJpbnR0aW1lKSB2YWx1ZXMgKCckZ2xvdXNlcm5hbWUnLCckZHQnLCckdXNlcnR5cGUnLCckbncnKSI7DQoNCiAgDQoNCiAgICAgICAkYW5zPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkcXVlcnkpOw0KCSAgIA0KCSAgJHJvd3Nzcj0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRxdWVyeSk7DQogaWYoJHJvd3NzciA9PSAxKQ0KIHsNCgkgDQoJIC8vZWNobyAic3VjY2VzcyI7DQogfQ0KZWxzZXsNCgllY2hvICJtYWluICIuJHF1ZXJ5LiJpbiAgIi5teXNxbGlfZXJyb3IoJGNvbm5lY3Rpb24pOw0KCWRpZSgiZXJyb3IgaW4gbXlzcWwgcHJudCByZW9yZCIpOw0KfQ0KDQoNCg0KDQokbWluYXJyPWFycmF5KCk7DQokbWF4YXJyPWFycmF5KCk7DQokZnQ9MDsNCiRtYXhQYXJhPScnOw0KJG1heGNvdW50PTA7DQokY29sb3JzYXJyYXk9YXJyYXkoKTsNCiRhc3FsPSJzZWxlY3QgTUFYKHNubykgZnJvbSBkZXZpY2UiOw0KJGFyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRhc3FsKTsNCg0KICBmb3IoJG09MDskbTxjb3VudCgkZGV2aWNlSWQpOyRtKyspDQogIHsNCiAgICAkY29sb3JzcWw9InNlbGVjdCBjb2xvciBmcm9tIGRldmljZSB3aGVyZSB1aWQ9JyRkZXZpY2VJZFskbV0nIGxpbWl0IDEgIjsNCiANCiAgICAgICAgICAgICAkY29sb3JyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRjb2xvcnNxbCk7DQoJCQkgew0KCQkJCSB3aGlsZSgkY29sb3Jyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRjb2xvcnJlc3VsdCkpDQoJCQkJCSANCgkJCQkJIHsNCgkJCQkJCSANCgkJCQkJCSAkY29sb3JzYXJyYXlbJG1dPSRjb2xvcnJvd1snY29sb3InXTsNCgkJCQkJIH0NCgkJCQkgDQoJCQkJIA0KCQkJIH0NCg0KIH0NCndoaWxlKCRhcm93PW15c3FsaV9mZXRjaF9hc3NvYygkYXJlc3VsdCkpDQoJIHsNCgkJICRtYXhQYXJhPSRhcm93WydNQVgoc25vKSddOw0KCQkgDQoJCSANCgkgfQ0KCSANCg0KJGdldExhdGVzdFRpbWU9Jyc7DQokc3FsPSJzZWxlY3QgRElTVElOQ1QoZGV2aWQpLG5hbWUgZnJvbSBsaXZkZXYgIjsNCiRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzcWwpOw0KJGRldmljZWNvdW50PW15c3FsaV9udW1fcm93cygkcmVzdWx0KTsNCg0KJGNvdW50ZXI0PTA7DQokZGVzaT0nJzsNCiRkZXBhcnRtZW50PScnOw0KJHJvbGU9Jyc7DQokbmFtZW9mdXNlcj0nJzsNCmlmKCR1c2VydHlwZSA9PSAnbWFudScpDQp7DQogICAgJGRlc2k9J21hbnUnOw0KJGRlcGFydG1lbnQ9J21hbnUnOw0KJHJvbGU9J21hbnUnOw0KJG5hbWVvZnVzZXI9J21hbnUnOw0KICAgIA0KICAgIA0KfQ0KDQppZigkdXNlcnR5cGUgPT0gJ3VzZXInKQ0Kew0KICAgJHNpZyA9InNlbGVjdCAqIGZyb20gdXNlcm5hbWUgd2hlcmUgdWlkID0gJyRnbG91c2VybmFtZSciOw0KICAgJHJlc3NvID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzaWcpOw0KICAgd2hpbGUoJHJvZXI9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNzbykpDQogICB7DQoJICRkZXNpID0gJHJvZXJbJ2Rlc2lnbmF0aW9uJ107DQoJICRyb2xlID0gJHJvZXJbJ3JvbGUnXTsNCgkgJGRlcGFydG1lbnQgPSAkcm9lclsnZGVwdG5hbWUnXTsNCgkgJG5hbWVvZnVzZXIgPSAkcm9lclsnbmFtZSddOw0KCSANCgkgDQoJICAgDQogICB9DQogICAgDQp9DQoNCg0KaWYoJHVzZXJ0eXBlID09ICdhZG1pbicpDQp7DQogICAgDQogICAgJHNpZyA9InNlbGVjdCAqIGZyb20gYWRtaW4gd2hlcmUgdWlkID0gJyRnbG91c2VybmFtZSciOw0KICAgJHJlc3NvID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzaWcpOw0KICAgd2hpbGUoJHJvZXI9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNzbykpDQogICB7DQoJICRkZXNpID0gJHJvZXJbJ2Rlc2lnbmF0aW9uJ107DQoJICRyb2xlID0gJHJvZXJbJ3JvbGUnXTsNCgkgJGRlcGFydG1lbnQgPSAkcm9lclsnZGVwdG5hbWUnXTsNCgkgJG5hbWVvZnVzZXIgPSAkcm9lclsnbmFtZSddOw0KCSANCgkgDQoJICAgDQogICB9DQogICAgDQp9DQoNCj8+DQoNCjxoMz48dT5VU0VSIERldGFpbHM8L3U+PC9oMz4NCg0KPHRhYmxlIGNsYXNzID0nb3V0ZXInPg0KDQo8dHIgY2xhc3M9J3NlY29uZHJvdyc+DQoNCiAgICA8dGggY2xhc3M9J21haW50ZCc+RnJvbSBEYXRlPC90aD4NCgk8dGggY2xhc3M9J21haW50ZCc+VG8gRGF0ZTwvdGg+DQoJPHRoIGNsYXNzPSdtYWludGQnPlVzZXJuYW1lPC90aD4NCgk8dGggY2xhc3M9J21haW50ZCc+dXNlciBJZDwvdGg+DQoJPHRoIGNsYXNzPSdtYWludGQnPkRlc2lnbmF0aW9uPC90aD4NCgk8dGggY2xhc3M9J21haW50ZCc+R3JvdXA8L3RoPg0KCTx0aCBjbGFzcz0nbWFpbnRkJz5EZXBhcnRtZW50PC90aD4NCgk8dGggY2xhc3M9J21haW50ZCc+UHJpbnQgVGltZTwvdGg+DQoJPHRoIGNsYXNzPSdtYWludGQnPkludGVydmFsPC90aD4NCg0KPC90cj4NCg0KDQo8dHIgY2xhc3M9J3NlY29uZHJvdyc+DQoNCg0KCTx0ZCBjbGFzcz0nbWFpbnRkJz48P3BocCBlY2hvICRuZXdfZGF0ZUZyb207ID8+PC90ZD4NCgk8dGQgY2xhc3M9J21haW50ZCc+PD9waHAgZWNobyAkbmV3X2RhdGVUbzsgPz48L3RkPg0KCTx0ZCBjbGFzcz0nbWFpbnRkJz48P3BocCBlY2hvICRuYW1lb2Z1c2VyOyA/PjwvdGQ+DQoJPHRkIGNsYXNzPSdtYWludGQnPjw/cGhwIGVjaG8gJGdsb3VzZXJuYW1lOyA/PjwvdGQ+DQoJPHRkIGNsYXNzPSdtYWludGQnPjw/cGhwIGVjaG8gJGRlc2k7Pz48L3RkPg0KCTx0ZCBjbGFzcz0nbWFpbnRkJz48P3BocCBlY2hvICRyb2xlOyA/PjwvdGQ+DQoJPHRkIGNsYXNzPSdtYWludGQnPjw/cGhwIGVjaG8gJGRlcGFydG1lbnQ7Pz48L3RkPg0KCTx0ZCBjbGFzcz0nbWFpbnRkJz48P3BocCBlY2hvICRwZGF0ZS4ifCIuJHB0aW1lOyA/PjwvdGQ+DQoJPHRkIGNsYXNzPSdtYWludGQnPjw/cGhwIGVjaG8gJGRldGE7ID8+PC90ZD4NCg0KPC90cj4NCg0KDQoNCg0KPC90YWJsZT4NCg0KDQoNCjw/cGhwDQplY2hvICI8ZGl2IGNsYXNzID0gJ3dyYXBwZXInPiI7DQo/Pg0KDQogCQ0KPHRhYmxlIGNsYXNzPSdvdXRlcic+DQogICAgPGNhcHRpb24gc3R5bGU9InRleHQtYWxpZ246bGVmdCI+PGgyPkxvZyBSZXBvcnQ8L2gyPiA8L2NhcHRpb24+DQogICAgPHRyIGNsYXNzPSdmaXJzdHJvdyc+DQo8P3BocCBlY2hvICI8dGggY2xhc3M9J291dGVydGggb3V0ZXJ0aHR3byc+U2Vuc29yIG5hbWUtPiA8L3RoPiI7DQogICAgIGZvcigkZnQ9MDskZnQ8Y291bnQoJG5hbWVvZmRldmljZSk7JGZ0KyspDQoJIHsNCgkJIGVjaG8gIjx0aCBjbGFzcz0nb3V0ZXJ0aCc+Ii4kbmFtZW9mZGV2aWNlWyRmdF0uIjwvdGg+IjsNCgkJIA0KCQ0KCSANCgkgDQoJIH0NCgkgDQoJIA0KCSANCg0KCQ0KCQ0KCS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgICAgIFNlY29uZCBSb3cgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCg0KPz4NCjwvdHI+PHRyIGNsYXNzPSdzZWNvbmRyb3cnID4NCiAgICAgICAgICAgPHRkIGNsYXNzPSdtYWludGQnPg0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+PHRkIGNsYXNzPSdpbm5lcnRkJz5EYXRlPC90ZD48dGQgY2xhc3M9ICdpbm5lcnRkJz4mbmJzcDsgJm5ic3A7ICZuYnNwOyAmbmJzcDsgJm5ic3A7ICZuYnNwO1RpbWU8L3RkPjwvdHI+PC90YWJsZT4NCgkJICAgDQoJCSAgIDwvdGQ+DQoJCSAgIA0KCQkgICA8P3BocCANCiAgICAgZm9yKCRpPTA7JGk8Y291bnQoJG5hbWVvZmRldmljZSk7JGkrKykNCgkgeyAgICAgDQogDQogICAgICAgICAgICAkcHJpbnRwYXJhPWFycmF5KCk7DQogICAgICAgICAgICAgIC8vIGVjaG8gY291bnQoJGZpbmFsYXJyWyRpXSk7DQogICAgICAgICAgICAgIGZvcigkbz0xOyRvPD1jb3VudCgkZmluYWxhcnJbJGldKS0xOyRvKyspDQoJCQkgIHsNCgkJCQkkcGM9JGZpbmFsYXJyWyRpXVskb107DQogICAgICAgICAgCQkkYnNxbD0ic2VsZWN0IHBhcmFtZXRlciBmcm9tIGRldmljZSB3aGVyZSB1aWQ9JyRkZXZpY2VJZFskaV0nIGFuZA0KCQkJCSAgIA0KCQkJCSAgICAgICAgICAgcGNvZGU9JyRwYycgbGltaXQgMSAiOw0KCQkJCSAgDQoJCQkgIA0KDQogICAgICAgICAgICAgICAgICAgICRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRic3FsKTsNCgkJCQkJd2hpbGUoJHJvd3NzPW15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0KSkNCgkJCQkJew0KCQkJCQkJJHByaW50cGFyYVskby0xXT0kcm93c3NbJ3BhcmFtZXRlciddOw0KCQkJCQkJDQoJCQkJCX0NCgkJCQkNCgkJCX0gIA0KCQkJIA0KCQkJICANCgkJCSAgDQoJCQkgIA0KCQkJICANCiANCiAgICAgICAgICAgZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPg0KCQkgICANCgkJICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+PHRyPiI7DQoJCSANCgkJICAgICAgICAgICANCgkJICAgIGZvcigkaW5zPTA7JGluczxjb3VudCgkcHJpbnRwYXJhKTskaW5zKyspDQoJCQl7DQoJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4iLiRwcmludHBhcmFbJGluc10uIiZuYnNwOyAmbmJzcDs8L3RkPiI7DQoJCQkJDQoJCQkJDQoJCQl9DQoJCSANCgkJIA0KCQkgDQoJCSBlY2hvICI8L3RyPjwvdGFibGU+IjsNCgkJIGVjaG8gIjwvdGQ+IjsNCgkJIA0KCQkgDQoJIA0KCSANCgkgDQoJIH0NCgkgDQoJDQoJIA0KCT8+DQoJCSAgIA0KCQkgICANCg0KPC90cj4NCjw/cGhwDQogIA0KICANCiAgLyogICAgICBGb3VydGggcm93IGNvZGUgICAqLw0KDQoNCiRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQokdG9kYXRlPSAkbmV3X2RhdGVUbzsNCg0KDQovKiAgZ2V0IGZvdXJ0aCB0aW1lIGFuZCBkYXRlICovICANCiAgICANCgkNCgkNCg0KJHNxbDQ9InNlbGVjdCB0aW1lLGRhdGUsZGV2aWQgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQgSU4oJyIuaW1wbG9kZSgiJywnIiwkZGV2aWNlSWQpLiInKQ0KICAgICAgIGFuZCBkYXRlIGJldHdlZW4gJyRvcmdEYXRlJyBhbmQgJyR0b2RhdGUnIA0KCSAgIA0KCSAgIA0KICAgICAgICBvcmRlciBieSBkYXRlLHRpbWUgbGltaXQgMSI7DQoJICAgDQoJICAgDQoJICAgDQoJJHJlc3VsdDQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzcWw0KTsNCgkNCglpZihteXNxbGlfbnVtX3Jvd3MoJHJlc3VsdDQpKQ0KCXsNCgkJd2hpbGUoJHJvdzQgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdDQpKQ0KCQl7DQoJCQkkZm91cnRoVGltZT0kcm93NFsndGltZSddOw0KCQkJJGZvdXJ0aERhdGUgPSAkcm93NFsnZGF0ZSddOw0KCQkJDQoJCQkNCgkJCQ0KCQl9DQoJCQ0KCX0gZWxzZSB7DQoJCQ0KCQllY2hvICJOTyBEQVRBIEZPVU5EIjsNCgkJZXhpdCgpOw0KCX0NCgkNCgkgICANCg0KDQogZWNobyAiPHRyIGNsYXNzPSdmb3VydGhyb3cnPg0KIA0KIDx0ZCBjbGFzcz0nbWFpbnRkJz4NCjx0YWJsZSBjbGFzPSdpbm5lcic+PHRyPjx0ZCBjbGFzcz0naW5uZXJ0ZCc+Ii4kZm91cnRoRGF0ZS4iICZuYnNwOyZuYnNwOyAmbmJzcDs8L3RkPjx0ZD4iLiAkZm91cnRoVGltZS4iPC90ZD48L3RyPjwvdGFibGU+DQogDQogPC90ZD4iOw0KIA0KIA0KICRwcmV2aW91cyA9JGZvdXJ0aFRpbWU7DQogJHByZXZpb3VzID0gc3RydG90aW1lKCRwcmV2aW91cyk7DQogDQogJG5leHQ9ZGF0ZSgiSC5pIixzdHJ0b3RpbWUoJysnLiRpbnRlcnZhbC4nbWludXRlcycsJHByZXZpb3VzKSk7DQogDQogJHByZXZpb3VzID0kZm91cnRoVGltZTsNCg0KIA0KDQogDQogDQogDQogDQogZm9yKCRpPTA7JGk8Y291bnQoJG5hbWVvZmRldmljZSk7JGkrKykNCiB7DQoJIGVjaG8gIjx0ZCBjbGFzcz0nbWFpbnRkJz48dGFibGUgY2xhc3M9J2lubmVyJz48dHI+IjsNCgkgDQoJICAgICAgICAgICAgICAgICAkcHJpbnRwYXJhcz1hcnJheSgpOw0KICAgICAgICAgICAgICAvLyBlY2hvIGNvdW50KCRmaW5hbGFyclskaV0pOw0KICAgICAgICAgICAgICBmb3IoJG89MTskbzw9Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbysrKQ0KCQkJICB7DQoJCQkJJHByaW50cGFyYXNbJG8tMV09JGZpbmFsYXJyWyRpXVskb107DQogICAgICAgICAgCQkNCgkJCQkNCgkJCX0gIA0KCQkJDQoJCQlmb3IoJHA9MDskcDxjb3VudCgkcHJpbnRwYXJhKTskcCsrKQ0KCQkJewkJCQ0KCQkJDQoJCQkgJHNxbGRhdGE9IiBzZWxlY3QgdGltZSxkYXRlLCB2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScNCgkJCSANCgkJCSAgICAgICAgICAgICAgIGFuZCBwY29kZT0nJHByaW50cGFyYXNbJHBdJyBhbmQgKGRhdGUgYmV0d2VlbiAnJG9yZ0RhdGUnDQoJCQkJCQkgICANCgkJCQkJCSAgIGFuZCAnJHRvZGF0ZScpIGFuZCAodGltZSBiZXR3ZWVuICckcHJldmlvdXMnIGFuZCAnJG5leHQnKQ0KCQkJCQkJICAgDQoJCQkJCQkgICAgb3JkZXIgYnkgZGF0ZSx0aW1lIGxpbWl0IDE7DQoJCQkJCQkgICANCgkJCQkJCSAgICI7DQoJCQkJCSAgDQoJCQkJCQkgICANCgkJCSRyZXN1bHRkYXRhID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzcWxkYXRhKTsNCgkJCQ0KCQkJDQoJCQkNCgkJCWlmKG15c3FsaV9udW1fcm93cygkcmVzdWx0ZGF0YSkpDQoJCQkJDQoJCQkJew0KCQkJCSAgICAgd2hpbGUoJHJvd2RhdGEgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGRhdGEpKQkNCgkJCQkJDQoJCQkJCXsNCgkJCQkJICAgICAgDQoJCQkJCWVjaG8gIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+PGk+Jm5ic3A7ICZuYnNwOyZuYnNwOyIuJHJvd2RhdGFbJ3ZhbHVlJ10uICIgDQoJCQkJCQkJCQ0KCQkJCQkJCSZuYnNwOyZuYnNwOyAmbmJzcDsgJm5ic3A7CSA8L2k+PC90ZD4iOw0KCQkJCQkNCgkJCQkJfQ0KCQkJCX0NCgkJCQkJCQ0KICAgICAgICAgICAgICBlbHNlew0KCQkJCSAgDQoJCQkJIGVjaG8gICI8dGQgY2xhc3M9J2lubmVydGQnPjxpPiZuYnNwOyAmbmJzcDsmbmJzcDsgLQ0KCQkJCQkJCQ0KCQkJCQkJCSZuYnNwOyZuYnNwOyAmbmJzcDsgJm5ic3A7CSA8L2k+PC90ZD4iOw0KCQkJCSAgDQoJCQkgIH0JCQkJCQkNCgkJCQ0KCSAgICAgICAgIA0KCSANCgkJCX0NCgkJCQ0KCQkJZWNobyAiPC90cj48L3RhYmxlPg0KCQkJPC90ZD4iOyAvLyBtYWluIHRkIGVuZHMNCgkgDQogfSAgLy9mb3IgZWFjaCBkZXZpY2UgIC8vDQogDQogDQogZWNobyAiPC90cj4iOyAvLyA0dGggcm93IGVuZHMNCg0KDQovKiAgICAgICAgICAgICAgICAgICBGaWZ0aCBhbmQgb3RoZXIgcm93ICBhbmQgYWJvdmUgIHJvd3MgICAgICAgICAgICAgICAgICAgKi8NCg0KDQovKiAgICAgICAgIENSRUFURSBkdXJhdGlvbnMgICAgKi8gDQoNCg0KDQoNCiAkcHJldmlvdXMgPSAkZm91cnRoVGltZTsNCiAkcHJldmlvdXMgPSBzdHJ0b3RpbWUoJHByZXZpb3VzKTsNCiANCiAkbmV4dD1kYXRlKCJILmkiLHN0cnRvdGltZSgnKycuJGludGVydmFsLidtaW51dGVzJywkcHJldmlvdXMpKTsNCiANCiANCiANCiAkcHJldmlvdXMgPSRmb3VydGhUaW1lOw0KIA0KICAkdGVtcD0kbmV4dDsNCiAkcHJldmlvdXM9JHRlbXA7DQogJHByZXZpb3VzID0gc3RydG90aW1lKCRwcmV2aW91cyk7DQogDQogJG5leHQ9ZGF0ZSgiSC5pIixzdHJ0b3RpbWUoJysnLiRpbnRlcnZhbC4nbWludXRlcycsJHByZXZpb3VzKSk7DQogDQogJHByZXZpb3VzPSR0ZW1wOw0KIA0KDQogDQoNCiAkb3JnRGF0ZT0kZm91cnRoRGF0ZTsNCiAkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KIA0KDQogDQogaWYgKCAkcHJldmlvdXMgPj0gJG5leHQgKQ0KIHsNCiAgICAgCSANCgkgJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoJICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCSAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkNCgkgDQoJIA0KIH0NCiANCiAkY2FycnlEYXRlPScnOw0KICRzcWxjaGFuZ2U9MDsNCiRwcmludGRkID0nICc7DQogJGRhdGVjaGFuZ2UgPTA7Ow0KIHdoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpDQogew0KCSAgICAgICAkc2tpcHJvdz0xOw0KCQkJICANCgkJCSANCgkJCSANCgkJCSAkc3FsND0ic2VsZWN0IHRpbWUsZGF0ZSxkZXZpZCBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZCBJTignIi5pbXBsb2RlKCInLCciLCRkZXZpY2VJZCkuIicpDQogICAgICAgIGFuZCAgKGRhdGUgPSAnJG9yZ0RhdGUnKSBhbmQgKHRpbWUgPiAnJHByZXZpb3VzJyBhbmQgIHRpbWUgPD0gJyRuZXh0JykNCgkgICANCgkgICAgb3JkZXIgYnkgZGF0ZSx0aW1lIGxpbWl0IDEiOw0KCSAgIA0KDQoJICAgDQoJCQkJDQogICAgICAgICAgICAgICAgICAgICAgICAJICAgDQoJICAgDQoJICAgDQoJIA0KCSRyZXN1bHQ0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsNCk7DQoJDQoJaWYobXlzcWxpX251bV9yb3dzKCRyZXN1bHQ0KSkNCgl7DQoJCXdoaWxlKCRyb3c0ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQ0KSkNCgkJew0KCQkJJGZvdXJ0aFRpbWU9JHJvdzRbJ3RpbWUnXTsNCgkJCSRmb3VydGhEYXRlID0gJHJvdzRbJ2RhdGUnXTsNCgkJCQ0KDQoJCQkNCgkJfQ0KCQkNCgl9IGVsc2UgaWYoJGRhdGVjaGFuZ2UgPT0gMSkNCgkJew0KCQkNCgkJDQoJCQ0KCQkNCgkJJHNxbGNoYW5nZT0xOw0KCQkNCgkJDQoJCSAkZGF0ZWNoYW5nZSA9MDsNCgkJDQoJCQ0KCX0NCgllbHNlew0KCQkNCgkJJHNraXByb3cgPSAwOw0KCX0NCgkNCgkJCSBpZigkc2tpcHJvdyA9PSAxKXsNCgkJCQkgDQoJCQkgZWNobyAiPHRyIGNsYXNzPSdmb3VydGhyb3cgIGFsbHJvd3MnPiI7ICANCgkJCSANCgkJCSAgICAJDQogICAgICAgICAgICAgDQoJCQ0KCQkJCQkNCgkJCQkJICAgIGVjaG8gIiA8dGQgY2xhc3M9J21haW50ZCc+DQoJCQk8dGFibGUgY2xhcz0naW5uZXInPjx0cj48dGQgY2xhc3M9J2lubmVydGQnPiIuJGZvdXJ0aERhdGUuIiAmbmJzcDsmbmJzcDsmbmJzcDsNCgkJCSA8L3RkPjx0ZD4iLiAkcHJldmlvdXMuIjwvdGQ+PC90cj48L3RhYmxlPg0KCQkJIA0KCQkJIDwvdGQ+IjsgDQoJCQkJCQ0KCQkJCQkNCgkJCQ0KCQkJDQoNCg0KCQkJIH0NCg0KCQkJIA0KCQkJIA0KCQkJIA0KCQkJICBpZigkc2tpcHJvdyA9PSAxKSAgICAgIHsgICAgLy9TS0lSUCBST1cgQ09ORElUSU9ODQoJCQkgDQoJCQkJCSANCgkJCQkJIA0KCQlmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKQ0KICAgICB7DQoJIGVjaG8gIjx0ZCBjbGFzcz0nbWFpbnRkJz48dGFibGUgY2xhc3M9J2lubmVyJz48dHI+IjsNCgkgDQoJICAgICAgICAgICAgICAgICAkcHJpbnRwYXJhcz1hcnJheSgpOw0KICAgICAgICAgICAgICAvLyBlY2hvIGNvdW50KCRmaW5hbGFyclskaV0pOw0KICAgICAgICAgICAgICBmb3IoJG89MTskbzw9Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbysrKQ0KCQkJICB7DQoJCQkJJHByaW50cGFyYXNbJG8tMV09JGZpbmFsYXJyWyRpXVskb107DQogICAgICAgICAgCQkNCgkJCQkNCgkJCX0gIA0KCQkJDQoJCQlmb3IoJHA9MDskcDxjb3VudCgkcHJpbnRwYXJhKTskcCsrKQ0KCQkJewkJCQ0KCQkJDQoJCQlpZigkc3FsY2hhbmdlID09IDEpDQoJCQkJDQoJCQkNCgkJCXsNCgkJCQkkc3FsZGF0YT0iIHNlbGVjdCB0aW1lLGRhdGUsIHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGV2aWNlSWRbJGldJw0KCQkJIA0KCQkJICAgICAgICAgICAgICAgYW5kIHBjb2RlPSckcHJpbnRwYXJhc1skcF0nIGFuZCAoZGF0ZSA9ICckY2FycnlEYXRlJykNCgkJCQkJCSAgIA0KCQkJCQkJICAgYW5kICh0aW1lID4gJyRwcmV2aW91cycgYW5kIHRpbWUgPD0gJzIzLjU5JykNCgkJCQkJCSAgIA0KCQkJCQkJICAgICBvcmRlciBieSBkYXRlLHRpbWUgbGltaXQgMTsNCgkJCQkJCSAgIA0KCQkJCQkJICAgIjsNCgkJCQkkcmVzdWx0ZGF0YSA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsZGF0YSk7DQoJCQkJDQoJCQkJDQoJCQl9ZWxzZSANCgkJCQkNCgkJCQl7CQ0KCQkJICRzcWxkYXRhPSIgc2VsZWN0IHRpbWUsZGF0ZSwgdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkZXZpY2VJZFskaV0nDQoJCQkgDQoJCQkgICAgICAgICAgICAgICBhbmQgcGNvZGU9JyRwcmludHBhcmFzWyRwXScgYW5kIChkYXRlID0gJyRvcmdEYXRlJykNCgkJCQkJCSAgIA0KCQkJCQkJICAgYW5kICh0aW1lID4gJyRwcmV2aW91cycgYW5kIHRpbWUgPD0gJyRuZXh0JykNCgkJCQkJCSAgIA0KCQkJCQkJICAgICBvcmRlciBieSBkYXRlLHRpbWUgbGltaXQgMTsNCgkJCQkJCSAgIA0KCQkJCQkJICAgIjsNCgkJCQkJCSAgIA0KCQkJCQkJICAgDQoJCQkkcmVzdWx0ZGF0YSA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsZGF0YSk7DQoJCQkJfQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJaWYobXlzcWxpX251bV9yb3dzKCRyZXN1bHRkYXRhKSkNCgkJCQkNCgkJCQl7DQoJCQkJICAgICB3aGlsZSgkcm93ZGF0YSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0ZGF0YSkpCQ0KCQkJCQkNCgkJCQkJew0KCQkJCQkgICAgICANCgkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz48aT4mbmJzcDsgJm5ic3A7Jm5ic3A7Ii4kcm93ZGF0YVsndmFsdWUnXS4gIiANCgkJCQkJCQkNCgkJCQkJCQkmbmJzcDsmbmJzcDsgJm5ic3A7ICZuYnNwOwkgPC9pPjwvdGQ+IjsNCgkJCQkJDQoJCQkJCX0NCgkJCQl9DQoJCQkJCQkNCiAgICAgICAgICAgICAgZWxzZXsNCgkJCQkgIA0KCQkJCSBlY2hvICAiPHRkIGNsYXNzPSdpbm5lcnRkJz48aT4mbmJzcDsgJm5ic3A7Jm5ic3A7IC0tLi0tDQoJCQkJCQkJDQoJCQkJCQkJJm5ic3A7Jm5ic3A7ICZuYnNwOyAmbmJzcDsJIDwvaT48L3RkPiI7DQoJCQkJICANCgkJCSAgfQkJCQkJCQ0KCQkJDQoJICAgICAgICAgDQoJIA0KCQkJfQ0KCQkJDQoJCQllY2hvICI8L3RyPjwvdGFibGU+DQoJCQk8L3RkPiI7IC8vIG1haW4gdGQgZW5kcw0KCSANCiAgICAgICAgICB9ICAvL2ZvciBlYWNoIGRldmljZSAgLy8NCgkJICANCgkJICBpZigkc3FsY2hhbmdlID09IDEpDQoJCSAgew0KCQkJICAkc3FsY2hhbmdlPTA7DQoJCSAgfQ0KIA0KCX0gICAgICAgLy8gU0tJUCBSb3cgY29uZGlvdG4NCiAgDQogICAgICAgICAgICAgIA0KCQkJICAgJHByZXZpb3VzID0gJG5leHQ7DQoJCQkgICAgJG5leHQgPSBzdHJ0b3RpbWUoJG5leHQpOw0KIA0KICRuZXh0PWRhdGUoIkguaSIsc3RydG90aW1lKCcrJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLCRuZXh0KSk7DQogDQogDQogICAgICANCg0KIA0KICAgICAgaWYgKCAkcHJldmlvdXMgPj0gJG5leHQgKQ0KIHsNCiAgICAgICANCiAgICAgICAgICAgICAgICAgDQoJCQkJLy9lY2hvICIkb3JnRGF0ZTxicj4kcHJldmlvdXMgPGJyPiAkbmV4dCI7IA0KCQkJCSANCgkJCQkgDQogICAgICAgICAgICRleHJyID0gJHByZXZpb3VzOw0KICAgICAkY2FycnlEYXRlPSRvcmdEYXRlOw0KCSAkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCgkgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCSAkZGF0ZWNoYW5nZSA9IDE7DQoJIA0KCQ0KCSAgDQoJIA0KIH0NCiAvLyR6Kys7DQoJCQkgICANCg0KCSANCgkgICAgICAgICAgIA0KCSANCgkgDQoJIA0KCSBlY2hvICI8L3RyPiI7DQoJIA0KIH0gIC8vd2hpbGUgZW5kcw0KIA0KIA0KIGVjaG8gIjx0ciBjbGFzcz0nZmluYWxyb3cnPiI7DQogDQogDQogDQogICAgICAgZWNobyAiIDx0ZCBjbGFzcz0nbWFpbnRkJz4NCgkJCTx0YWJsZSBjbGFzPSdpbm5lcic+PHRyPjx0ZCBjbGFzcz0naW5uZXJ0ZCc+Ii4kY2FycnlEYXRlLiIgJm5ic3A7Jm5ic3A7Jm5ic3A7DQoJCQkgPC90ZD48dGQ+Ii4gJHByZXZpb3VzLiI8L3RkPjwvdHI+PC90YWJsZT4NCgkJCSANCgkJCSA8L3RkPiI7IA0KIA0KIGZvcigkaT0wOyRpPGNvdW50KCRuYW1lb2ZkZXZpY2UpOyRpKyspDQogew0KCSBlY2hvICI8dGQgY2xhc3M9J21haW50ZCc+PHRhYmxlIGNsYXNzPSdpbm5lcic+PHRyPiI7DQoJIA0KCSANCgkgDQoJIA0KCSAgJHByaW50cGFyYXM9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwcmludHBhcmFzWyRvLTFdPSRmaW5hbGFyclskaV1bJG9dOw0KICAgICAgICAgIAkJDQoJCQkJDQoJCQl9ICANCgkJCQ0KCQkJDQoJCQlmb3IoJHA9MDskcDxjb3VudCgkcHJpbnRwYXJhKTskcCsrKQ0KCQkJewkJCQ0KCQkJDQoJCQkgJHNxbGRhdGE9IiBzZWxlY3QgdGltZSxkYXRlLCB2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScNCgkJCSANCgkJCSAgICAgICAgICAgICAgIGFuZCBwY29kZT0nJHByaW50cGFyYXNbJHBdJyBhbmQgKGRhdGUgPSAnJGNhcnJ5RGF0ZScpDQoJCQkJCQkgICANCgkJCQkJCSAgIGFuZCAodGltZSA+ICckcHJldmlvdXMnIGFuZCB0aW1lIDw9ICcyMy41OScpDQoJCQkJCQkgICANCgkJCQkJCSAgICAgb3JkZXIgYnkgZGF0ZSx0aW1lIGxpbWl0IDE7DQoJCQkJCQkgICANCgkJCQkJCSAgICI7DQoJCQkJCQkgICANCgkJCQkJCSAgIA0KCQkJJHJlc3VsdGRhdGEgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJHNxbGRhdGEpOw0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQlpZihteXNxbGlfbnVtX3Jvd3MoJHJlc3VsdGRhdGEpKQ0KCQkJCQ0KCQkJCXsNCgkJCQkgICAgIHdoaWxlKCRyb3dkYXRhID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHRkYXRhKSkJDQoJCQkJCQ0KCQkJCQl7DQoJCQkJCSAgICAgIA0KCQkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPjxpPiZuYnNwOyAmbmJzcDsmbmJzcDsiLiRyb3dkYXRhWyd2YWx1ZSddLiAiIA0KCQkJCQkJCQ0KCQkJCQkJCSZuYnNwOyZuYnNwOyAmbmJzcDsgJm5ic3A7CSA8L2k+PC90ZD4iOw0KCQkJCQkNCgkJCQkJfQ0KCQkJCX0NCgkJCQkJCQ0KICAgICAgICAgICAgICBlbHNlew0KCQkJCSAgDQoJCQkJIGVjaG8gICI8dGQgY2xhc3M9J2lubmVydGQnPjxpPiZuYnNwOyAmbmJzcDsmbmJzcDsgLS0uLS0NCgkJCQkJCQkNCgkJCQkJCQkmbmJzcDsmbmJzcDsgJm5ic3A7ICZuYnNwOwkgPC9pPjwvdGQ+IjsNCgkJCQkgIA0KCQkJICB9CQkJCQkJDQoJCQkNCgkgICAgICAgICANCgkgDQoJCQl9DQoJCQkNCgkJCWVjaG8gIjwvdHI+PC90YWJsZT4NCgkJCTwvdGQ+IjsNCiANCiB9DQogDQovL2VjaG8gIjxicj4gICA8YnI+ICRwcmV2aW91cyA8YnI+ICRuZXh0IjsgDQoNCmVjaG8gIjwvdHI+PC90YWJsZT4iOyAgLy90YWJlIGVuZHMgICBtYWluDQoNCg0KDQoNCg0KDQoNCg0KCQkJICAgDQoNCj8+DQoNCg0KDQoNCg0KDQoNCg0KPC90cj4NCjwvdGFibGU+DQoNCg0KPC9kaXY+DQo8P3BocA0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAgICAgICAgICAgICBXUk9ORyBWQUxVRVMgVEFCTEVFRUVFRUVFRUVFRUVFRUVFRUVFRQ0KDQoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQppZigkd2FudGFsYXJtID09ICd5ZXMnKQ0Kew0KPz4NCg0KDQoNCjw/cGhwDQokZ2V0TGF0ZT0nJzsNCiRjb3VudGVyNT0wOw0KJGRldmljZUlkPWFycmF5KCk7DQokbmFtZW9mZGV2aWNlPWFycmF5KCk7DQokdmFsdWVzYXJyYXk9YXJyYXkoKTsNCiRnZXRUbz0nJzsNCiRnZXRGcm9tPScnOw0KJGdsb3VzZXJuYW1lPScnOw0KJHVzZXJ0eXBlPScnOw0KJHBkYXRlPWRhdGUoJ2QvbS9ZJyk7DQokcHRpbWU9ZGF0ZSgnSDppOnMnKTsNCiRpbnRlcnZhbD0wOw0KaW5jbHVkZSgiaW5jbHVkZXMvZGJmaWxlLnBocCIpOw0KaWYoaXNzZXQoJF9QT1NUWydkdmNzYm10J10pKQkNCgkJCQl7DQoJCQkJCQ0KCQkJCQkkZ2V0RnJvbSA9JF9QT1NUWydmcm9tZGF0ZSddOw0KCQkJCQkkZ2V0VG89JF9QT1NUWyd0b2RhdGUnXTsNCgkJCQkJDQoJCQkJCSBpZiAoJGdldEZyb20gPT0gJGdldFRvKQ0KCQkJCQkgew0KCQkJCQkJLy8gZWNobyAiPHNjcmlwdD5hbGVydCgnc2FtZSBkYXRlIHRvIGFuZCBmcm9tICBzZWxlY3RlZCcpPC9zY3JpcHQ+IjsNCgkJCQkJCSANCgkJCQkJIH0NCgkJCQkJICAgJGZvcm1hdD0kX1BPU1RbJ2Zvcm1hdCddOw0KCQkJCQkgICAkaW50ZXJ2YWw9JF9QT1NUWydpbnRlcnZhbCddOw0KCQkJCQkgICANCgkJCQkJICAgaWYgKCRmb3JtYXQgPT0gJ2hycycpDQoJCQkJCSAgIHsNCgkJCQkJCSAgICRpbnRlcnZhbD0kaW50ZXJ2YWwqNjA7DQoJCQkJCQkgICANCgkJCQkJICAgfSAgIA0KCQkJCQkgICANCgkJCQkJICAgJGdsb3VzZXJuYW1lID0gICRfUE9TVFsnYWRtaW5HZW4nXTsNCgkJCQkJICAgICR1c2VydHlwZSAgID0gICRfUE9TVFsndHlwZSddOw0KCQkJCQkkZGF0YTEgPSAkX1BPU1RbJ2RuYW1lJ107DQogICAgICAgICAgICAgICAgICAgIC8vJGRuYW1lcz1hcnJheSgpOw0KICAgICAgICAgICAgICAgICAgICAkbmFtZW9mZGV2aWNlPWV4cGxvZGUoJywnLCAkZGF0YTEpOw0KCQkJCQkNCgkJCQkJJGRhdGEyID0gJF9QT1NUWydkaWQnXTsNCgkJCQkJLy8kZGlkcz1hcnJheSgpOw0KCQkJCQkkZGV2aWNlSWQ9ZXhwbG9kZSgnLCcsICRkYXRhMik7DQoJCQkJCQ0KCQkJCQkkamFzb24gPSRfUE9TVFsnamFzb25oYW5kbGUnXTsNCgkJDQoJCQ0KCQkvLyBpbmRpdmlkdWFsIHByYW1ldGVycyBjb2RlDQoJCQ0KCQkNCgkJDQoJCSRzcD1leHBsb2RlKCIsIywiLCRqYXNvbik7DQoJCS8vcHJpbnRfcigkc3ApO2VjaG8gIjxicj4iOw0KCQkkaW5kZXg9Y291bnQoJHNwKTsNCgkJJGFzcD1ydHJpbSgkc3BbJGluZGV4LTFdLCcsIycpOw0KCQlhcnJheV9wb3AoJHNwKTsNCgkJYXJyYXlfcHVzaCgkc3AsJGFzcCk7DQogICAgICAJDQoNCgkvL3ByaW50X3IoJHNwKTsNCgkNCglmb3IoJGk9MDskaTxjb3VudCgkc3ApOyRpKyspew0KCSRmaW5hbGFyclskaV09ZXhwbG9kZSgnLCcsJHNwWyRpXSk7IH0NCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJDQoNCg0KICAgICAgICAgICAgCWZvcigkaT0wOyRpPGNvdW50KCRzcCk7JGkrKyl7DQoJCQkNCgkJCSRrZXk9JGZpbmFsYXJyWyRpXVswXTsNCgkJDQoJJG5hbWVlPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgdWlkPScka2V5JyBsaW1pdCAxIjsNCg0KDQogICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG5hbWVlKTsNCgkJICANCgkJICB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0KSkNCgkJICB7DQoJCQkgICRuYW1lb2ZkZXZpY2VbJGldPSRyb3dbJ25hbWUnXTsNCgkJCSAgJGRldmljZUlkWyRpXT0kcm93Wyd1aWQnXTsNCgkJICB9DQoJICAgICANCgkNCgkJfQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQl9DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQokZGVzaT0nJzsNCiRkZXBhcnRtZW50PScnOw0KJHJvbGU9Jyc7DQokbmFtZW9mdXNlcj0nJzsNCmlmKCR1c2VydHlwZSA9PSAnbWFudScpDQp7DQogICAgJGRlc2k9J21hbnUnOw0KJGRlcGFydG1lbnQ9J21hbnUnOw0KJHJvbGU9J21hbnUnOw0KJG5hbWVvZnVzZXI9J21hbnUnOw0KICAgIA0KICAgIA0KfQ0KDQppZigkdXNlcnR5cGUgPT0gJ3VzZXInKQ0Kew0KICAgJHNpZyA9InNlbGVjdCAqIGZyb20gdXNlcm5hbWUgd2hlcmUgdWlkID0gJyRnbG91c2VybmFtZSciOw0KICAgJHJlc3NvID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzaWcpOw0KICAgd2hpbGUoJHJvZXI9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNzbykpDQogICB7DQoJICRkZXNpID0gJHJvZXJbJ2Rlc2lnbmF0aW9uJ107DQoJICRyb2xlID0gJHJvZXJbJ3JvbGUnXTsNCgkgJGRlcGFydG1lbnQgPSAkcm9lclsnZGVwdG5hbWUnXTsNCgkgJG5hbWVvZnVzZXIgPSAkcm9lclsnbmFtZSddOw0KCSANCgkgDQoJICAgDQogICB9DQogICAgDQp9DQoNCg0KaWYoJHVzZXJ0eXBlID09ICdhZG1pbicpDQp7DQogICAgDQogICAgJHNpZyA9InNlbGVjdCAqIGZyb20gYWRtaW4gd2hlcmUgdWlkID0gJyRnbG91c2VybmFtZSciOw0KICAgJHJlc3NvID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzaWcpOw0KICAgd2hpbGUoJHJvZXI9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXNzbykpDQogICB7DQoJICRkZXNpID0gJHJvZXJbJ2Rlc2lnbmF0aW9uJ107DQoJICRyb2xlID0gJHJvZXJbJ3JvbGUnXTsNCgkgJGRlcGFydG1lbnQgPSAkcm9lclsnZGVwdG5hbWUnXTsNCgkgJG5hbWVvZnVzZXIgPSAkcm9lclsnbmFtZSddOw0KCSANCgkgDQoJICAgDQogICB9DQogICAgDQp9DQoNCg0KLyoqKioqKioqICAgREFURSBDb252ZXJzaW9uICoqKioqLw0KDQogICAgICAgICAgICAgICAgICAgICAkdGltZVRvID0gc3RydG90aW1lKCRnZXRUbyk7DQoJCQkJCSAkbmV3X2RhdGVUbyA9IGRhdGUoIlkubS5kIiwgJHRpbWVUbyk7DQoJCQkJCQ0KCQkJCQkgDQoJCQkJCSAkdGltZUZyb21vID0gc3RydG90aW1lKCRnZXRGcm9tKTsNCgkJCQkJICRuZXdfZGF0ZUZyb20gPSBkYXRlKCJZLm0uZCIsICR0aW1lRnJvbW8pOw0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQokcGFyYXM9YXJyYXkoKTsNCiRtYXhhcnI9YXJyYXkoKTsNCiRtaW5hcnI9YXJyYXkoKTsNCiRwY29kZUFycmF5Mj1hcnJheSgpOw0KJGZ0PTA7DQoNCg0KDQokYXNxbGE9InNlbGVjdCBNQVgoc25vKSBmcm9tIGRldmljZSI7DQokYXJlc3VsdGE9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRhc3FsYSk7DQoNCndoaWxlKCRhcm93YT1teXNxbGlfZmV0Y2hfYXNzb2MoJGFyZXN1bHRhKSkNCgkgew0KCQkgJG1heFBhcmE9JGFyb3dhWydNQVgoc25vKSddOw0KCQkgDQoJCSANCgkgfQ0KCSANCi8vZWNobyAkbWF4UGFyYTsgDQokZ2V0TGF0ZXN0VGltZT0nJzsNCiRzcWxiPSJzZWxlY3QgRElTVElOQ1QoZGV2aWQpLG5hbWUgZnJvbSBsaXZkZXYgIjsNCiRyZXN1bHRiPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc3FsYik7DQokZGV2aWNlY291bnQ9bXlzcWxpX251bV9yb3dzKCRyZXN1bHRiKTsNCg0KJGNvdW50ZXI0PTA7DQoNCg0KZWNobyAiPGRpdiBjbGFzcyA9ICd3cmFwcGVyIGZvbnRzcyc+IjsNCj8+DQoNCg0KPHRhYmxlIGNsYXNzPSdvdXRlciBhbGFybSc+DQogICAgIDxjYXB0aW9uIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQiPjxoMj4JQWxhcm0gTG9nIFJlcG9ydDwvaDI+IDwvY2FwdGlvbj4NCiAgICA8dHIgY2xhc3M9J2ZpcnN0cm93Jz4NCjw/cGhwIGVjaG8gIjx0aCBjbGFzcz0nb3V0ZXJ0aCBvdXRlcnRodHdvJz5TZW5zb3IgbmFtZS0+IDwvdGg+IjsNCiAgICAgZm9yKCRmdD0wOyRmdDxjb3VudCgkbmFtZW9mZGV2aWNlKTskZnQrKykNCgkgew0KCQkgZWNobyAiPHRoIGNsYXNzPSdvdXRlcnRoJz4iLiRuYW1lb2ZkZXZpY2VbJGZ0XS4iPC90aD4iOw0KCQkgDQoJCQ0KCSANCgkgDQoJIH0NCgkgZWNobyAiPC90cj4iICAgICAgLy9maXJzdCBSb3cgRW5kcyANCgkgDQoJIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJUlNUIFJPVyBFTkRTIFdST04gVkFMVUVTICAgICAgICAgICAgICovDQoJIA0KCSANCgkgDQoJIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VDT05EIFJPVyBTVEFSVCAgICAgICAgKi8NCgkgDQoJPz4gDQoJDQoJDQoJIA0KCSANCgkgDQoJIA0KCSA8L3RyPjx0ciBjbGFzcz0nc2Vjb25kcm93JyA+DQogICAgICAgICAgIDx0ZCBjbGFzcz0nbWFpbnRkIG5ld3cnPg0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+PHRkIGNsYXNzPSdpbm5lcnRkJz5EYXRlPC90ZD48dGQgY2xhc3M9ICdpbm5lcnRkJz4mbmJzcDsgJm5ic3A7IFRpbWU8L3RkPjwvdHI+PC90YWJsZT4NCgkJICAgDQoJCSAgIDwvdGQ+DQoJCSAgIA0KCQkgICA8P3BocCANCiAgICAgZm9yKCRpPTA7JGk8Y291bnQoJG5hbWVvZmRldmljZSk7JGkrKykNCgkgeyAgICAgDQogICAgICAgICAgICRtZ2I9YXJyYXkoKTsNCiAgICAgICAgICAgJG1nYjI9YXJyYXkoKTsNCiAgICAgICAgICAgJGNhcz0wOw0KICAgICAgICAgICAgJHByaW50cGFyYT1hcnJheSgpOw0KICAgICAgICAgICAgICAvLyBlY2hvIGNvdW50KCRmaW5hbGFyclskaV0pOw0KICAgICAgICAgICAgICBmb3IoJG89MTskbzw9Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbysrKQ0KCQkJICB7DQoJCQkJJHBjPSRmaW5hbGFyclskaV1bJG9dOw0KICAgICAgICAgIAkJJGJzcWw9InNlbGVjdCBtaW4sbWF4LHBhcmFtZXRlciBmcm9tIGRldmljZSB3aGVyZSB1aWQ9JyRkZXZpY2VJZFskaV0nIGFuZA0KCQkJCSAgIA0KCQkJCSAgICAgICAgICAgcGNvZGU9JyRwYycgbGltaXQgMSAiOw0KCQkJCSAgDQoJCQkgIA0KDQogICAgICAgICAgICAgICAgICAgICRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRic3FsKTsNCgkJCQkJd2hpbGUoJHJvd3NzPW15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0KSkNCgkJCQkJew0KCQkJCQkJJHByaW50cGFyYVskby0xXT0kcm93c3NbJ3BhcmFtZXRlciddOw0KCQkJCSAgICAgICAgICAkbWdiWyRvLTFdID0gJHJvd3NzWydtaW4nXTsNCgkJCQkJCSAkbWdiMlskby0xXSA9ICRyb3dzc1snbWF4J107DQoJCQkJCQkgDQoJCQkJCX0NCgkJCQkgICAgICANCgkJCX0gIA0KCQkJICAvL3ByaW50X3IoJHByaW50cGFyYSk7DQoJCQkgIA0KCQkJICANCgkJCSAgDQoJCQkgIA0KIA0KICAgICAgICAgICBlY2hvICI8dGQgY2xhc3M9J21haW50ZCc+DQoJCSAgIA0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+IjsNCgkNCgkJICAgICAgICAgICANCgkJICAgIGZvcigkaW5zPTA7JGluczxjb3VudCgkcHJpbnRwYXJhKTskaW5zKyspDQoJCQl7DQoJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4iLiRwcmludHBhcmFbJGluc10uIiZuYnNwOyAmbmJzcDs8L3RkPiI7DQoJCQkJDQoJCQkJDQoJCQl9DQoJCSANCgkJIA0KCQkgDQoJCSBlY2hvICI8L3RyPjwvdGFibGU+IjsNCgkJIGVjaG8gIjwvdGQ+IjsNCgkJIA0KCQkgDQoJIA0KCSANCgkgDQoJIH0NCgkgDQoJDQoJIA0KCT8+DQoJCSAgIA0KCQkgICANCg0KPC90cj4NCg0KPHRyIGNsYXNzPSdzZWNvbmRyb3cnID4NCiAgICAgICAgICAgPHRkIGNsYXNzPSdtYWludGQnPg0KCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+PHRkIGNsYXNzPSdpbm5lcnRkJz5NaW4gLzwvdGQ+PHRkIGNsYXNzPSAnaW5uZXJ0ZCc+Jm5ic3A7LyAmbmJzcDtNYXg8L3RkPjwvdHI+PC90YWJsZT4NCgkJICAgDQoJCSAgIDwvdGQ+DQoNCjw/cGhwDQpmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKQ0KCSB7ICAgICANCiAgICAgICAgICAgJG1nYj1hcnJheSgpOw0KICAgICAgICAgICAkbWdiMj1hcnJheSgpOw0KICAgICAgICAgICAkY2FzPTA7DQogICAgICAgICAgICAkcHJpbnRwYXJhPWFycmF5KCk7DQogICAgICAgICAgICAgIC8vIGVjaG8gY291bnQoJGZpbmFsYXJyWyRpXSk7DQogICAgICAgICAgICAgIGZvcigkbz0xOyRvPD1jb3VudCgkZmluYWxhcnJbJGldKS0xOyRvKyspDQoJCQkgIHsNCgkJCQkkcGM9JGZpbmFsYXJyWyRpXVskb107DQogICAgICAgICAgCQkkYnNxbD0ic2VsZWN0IG1pbixtYXgscGFyYW1ldGVyIGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGRldmljZUlkWyRpXScgYW5kDQoJCQkJICAgDQoJCQkJICAgICAgICAgICBwY29kZT0nJHBjJyBsaW1pdCAxICI7DQoJCQkJICANCgkJCSAgDQoNCiAgICAgICAgICAgICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGJzcWwpOw0KCQkJCQl3aGlsZSgkcm93c3M9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQpKQ0KCQkJCQl7DQoJCQkJCQkkcHJpbnRwYXJhWyRvLTFdPSRyb3dzc1sncGFyYW1ldGVyJ107DQoJCQkJICAgICAgICAgICRtZ2JbJG8tMV0gPSAkcm93c3NbJ21pbiddOw0KCQkJCQkJICRtZ2IyWyRvLTFdID0gJHJvd3NzWydtYXgnXTsNCgkJCQkJCSANCgkJCQkJfQ0KCQkJCSAgICAgIA0KCQkJfSAgDQoJCQkNCgkJCQ0KCQkJZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPg0KCQkgICANCgkJICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+PHRyPiI7DQoJDQoJCSAgICAgICAgICAgDQoJCSAgICBmb3IoJGlucz0wOyRpbnM8Y291bnQoJHByaW50cGFyYSk7JGlucysrKQ0KCQkJew0KCQkJCWVjaG8gIjx0ZCBjbGFzcz0naW5uZXJ0ZCc+KCIuJG1nYlskaW5zXS4iJm5ic3A7LyZuYnNwOyIgLiRtZ2IyWyRpbnNdLiIpJm5ic3A7Jm5ic3A7Jm5ic3A7ICZuYnNwOzwvdGQ+IjsNCgkJCQkNCgkJCQkNCgkJCX0NCgkJIA0KCQkgDQoJCSANCgkJIGVjaG8gIjwvdHI+PC90YWJsZT4iOw0KCQkgZWNobyAiPC90ZD4iOw0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJIH0JCQ0KCQkJDQoJCQkNCj8+CQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPD9waHAgICAgICAgICAgIA0KDQogICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAzcmQgYW5kIEZPVVJUIHJvdyAgICAgICAgICAgICAgKi8NCgkJICAgDQoJCSAgICAvKiAgICAgIEZvdXJ0aCByb3cgY29kZSAgICovDQoNCg0KJG9yZ0RhdGU9JG5ld19kYXRlRnJvbTsNCiR0b2RhdGU9ICRuZXdfZGF0ZVRvOw0KDQokbm9kYXRhZmxhZz0wOw0KJHd3cyA9MDsNCiAkd3JvbmdEYXRlPWFycmF5KCk7DQogJHdyb25nVGltZT1hcnJheSgpOw0KJGlpPTA7DQp3aGlsZSgkd3dzIDwgMSApDQp7DQoJZm9yKCRpPTA7JGk8Y291bnQoJG5hbWVvZmRldmljZSk7JGkrKykNCgkJIHsNCgkJCQkJIA0KCQkJCQkgDQoJCQkJCSANCgkJCQkJICAgIA0KCQkgICAgICAgICAgJHByaW50cGFyYXM9YXJyYXkoKTsNCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIGZvcigkbz0xOyRvPD1jb3VudCgkZmluYWxhcnJbJGldKS0xOyRvKyspDQoJCQkgICB7DQoJCQkJJHByaW50cGFyYXNbJG8tMV09JGZpbmFsYXJyWyRpXVskb107DQoJCQkgICB9IA0KICAgICAgICAgICAgICAgICAgCQkJCQ0KCQkJCQ0KCQkJCQkkbWlubj0wOw0KCQkJCQkkbWF4eD0wOw0KICAgICAgICAgICAgICAgICAgICAgDQoJCQkJDQoJCQkJCSANCiAgICAgICAgICAgICAgICAgIGZvcigkcGE9MDskcGE8Y291bnQoJHByaW50cGFyYXMpOyRwYSsrKQ0KCQkJCSAgew0KCQkJCQkgIA0KCQkJCQkgICRzZXE9InNlbGVjdCBtaW4sbWF4IGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGRldmljZUlkWyRpXScgYW5kIA0KCQkJCQkgIHBjb2RlPSckcHJpbnRwYXJhc1skcGFdJyI7DQoJCQkJCSAgJHJlPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc2VxKTsNCgkJCQkJICANCgkJCQkJICANCg0KDQogICAgDQogICAgICAgICAgICAgICAgICAgDQoJCQkJCSAgDQoJCQkJCSAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmUpKQ0KCQkJCQkgIHsNCgkJCQkJCSAkbWlubiA9ICRyb3dbJ21pbiddOw0KCQkJCQkJICRtYXh4ID0gJHJvd1snbWF4J107DQoJCQkJCQkgIA0KCQkJCQkgIH0NCgkJCQkJICANCgkJCQkJICANCgkJCQkJICANCgkJCQkJICANCgkJCQkJICAkc2VsID0ic2VsZWN0IGRhdGUsdGltZSwgdmFsdWUgZnJvbSBsaXZkZXYNCgkJCQkJICANCgkJCQkJICAgd2hlcmUgZGV2aWQ9JyRkZXZpY2VJZFskaV0nIGFuZCANCgkJCQkJICAgcGNvZGUgPSckcHJpbnRwYXJhc1skcGFdJyBhbmQNCgkJCQkJICAgZGF0ZSA9JyRvcmdEYXRlJyAgICAgICAgICBhbmQgDQoJCQkJCSAgICh2YWx1ZSA8PSAnJG1pbm4nIG9yIHZhbHVlID49ICckbWF4eCcpIA0KCQkJCQkgICAgICAgb3JkZXIgYnkgdGltZSAgICI7DQoJCQkJCQkgICANCgkJCQkJCSAgICANCg0KICAgICAgICAgICAgICAgICAgICAgIA0KDQoJCQkJCSAgIA0KCQkJCQkgICRyZXNsID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRzZWwpOw0KCQkJCQkgIA0KCQkJCQkgIGlmKG15c3FsaV9udW1fcm93cygkcmVzbCkpDQoJCQkJCSAgew0KCQkJCQkJICB3aGlsZSAoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzbCkpDQoJCQkJCQkgIHsNCgkJCQkJCQkgICR3cm9uZ0RhdGVbJGlpXT0gJHJvd1snZGF0ZSddOw0KCQkJCQkJCSAgJHdyb25nVGltZVskaWldPSAkcm93Wyd0aW1lJ107DQoJCQkJCQkJICANCgkJCQkJCQkgICR3d3MgPTE7DQoJCQkJCQkJIA0KCQkJCQkJCSAgJGlpKys7DQoJCQkJCQkgIH0NCgkJCQkJCSAgDQoJCQkJCQkgIA0KCQkJCQkgIH0NCgkJCQkJICBlbHNlew0KCQkJCQkJICANCgkJCQkJCSAgLy9IYW5kbGUgY29uZGl0aW9uOw0KCQkJCQkgIH0NCgkJCQkJICANCgkJCQkJICANCgkJCQkJICANCgkJCQkgIH0JCQkJCSAgDQoJCQkJCSAgDQoNCiAgICAgICAgICAgICANCg0KCQkJCQkgDQoJCQkJCSANCgkJIH0JDQogICAgICAgICAgDQoJCSAgCQkgJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoJCQkJCSAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCiAgICRvcmdEYXRlID0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCiAgIA0KICAgaWYoJG9yZ0RhdGUgPiAkdG9kYXRlKQ0KICAgew0KCSAgICRub2RhdGFmbGFnPTE7DQoJICAgYnJlYWs7DQogICB9DQoJCSAgDQoNCn0NCg0KJGludGVybmE9MDsNCmlmICgkd3dzPT0wKQ0Kew0KICAgLy8JZWNobyAiTm8gZGF0YSBmb3Igb3V0IG9mIHJhbmdlIHZhbHVlcyBmb3IgZ2l2ZW4gZGF0ZXMgIjsNCiRpbnRlcm5hID0xOw0KCQ0KfQkNCg0KDQplbHNlDQp7DQoNCg0KDQoNCiRmb3VydGhUaW1lID0gbWluKCR3cm9uZ1RpbWUpOw0KDQovL2VjaG8gJGZvdXJ0aFRpbWUgOw0KDQokaW5kPWFycmF5X3NlYXJjaCgkZm91cnRoVGltZSwkd3JvbmdUaW1lKTsNCiRmb3VydGhEYXRlID0gJHdyb25nRGF0ZVskaW5kXTsNCg0KfQ0KDQoNCg0KDQogDQoNCiAkb3JnRGF0ZT0kZm91cnRoRGF0ZTsNCiAkdG9kYXRlID0gJG5ld19kYXRlVG87DQogJHByZXZpb3VzID0gJGZvdXJ0aFRpbWU7DQogICANCiANCiANCiANCiANCiANCiAkZHl0PXRydWU7IA0KICRvZGF0ZT0wOw0KICRvdGltZT0wOw0KDQogd2hpbGUoJG9yZ0RhdGUgPD0gJHRvZGF0ZSkNCiB7DQoJIA0KCSANCgkgDQoJIA0KCSANCgkgJHNraXByb3c9MTsNCgkgDQoJIA0KCSAgICAvL21haW4gdGQgM3JkIHJvdw0KCQkgICANCgkJJGVhY2hwdT1hcnJheSgpOw0KICAgICAgICRwcmluaW4JPSAwOwkNCglmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKSAgIHsNCgkJICAgDQoJCSAgIA0KCQkgICAgICRwcmludHBhcmFzPWFycmF5KCk7DQogICAgICAgICAgICAgIC8vIGVjaG8gY291bnQoJGZpbmFsYXJyWyRpXSk7DQogICAgICAgICAgICAgIGZvcigkbz0xOyRvPD1jb3VudCgkZmluYWxhcnJbJGldKS0xOyRvKyspDQoJCQkgICB7DQoJCQkJJHByaW50cGFyYXNbJG8tMV09JGZpbmFsYXJyWyRpXVskb107DQoJCQkgICB9IA0KICAgICAgICAgICAgICAgICAgCQkJCQ0KCQkJCQ0KCQkJCQkkbWlubj0wOw0KCQkJCQkkbWF4eD0wOw0KCQkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJZm9yKCRwYT0wOyRwYTxjb3VudCgkcHJpbnRwYXJhcyk7JHBhKyspICB7DQoJCQkJCSANCgkJCQkJIA0KCQkJCQkgDQoJCQkJCSANCgkJCQkJDQoJCQkJCSAgICRzZXE9InNlbGVjdCBtaW4sbWF4IGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGRldmljZUlkWyRpXScgYW5kIA0KCQkJCQkgIHBjb2RlPSckcHJpbnRwYXJhc1skcGFdJyI7DQoJCQkJCSAgJHJlPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc2VxKTsNCgkJCQkJICANCgkJCSAgICAgICAgICB3aGlsZSgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZSkpDQoJCQkJCSAgew0KCQkJCQkJICRtaW5uID0gJHJvd1snbWluJ107DQoJCQkJCQkgJG1heHggPSAkcm93WydtYXgnXTsNCgkJCQkJCSAgDQoJCQkJCSAgfQ0KCQkJCQkgIA0KCQkJCQkgIA0KCQkJCQkgIA0KCQkJCQkgIA0KCQkJCQkgICRzZWwgPSJzZWxlY3QgZGF0ZSx0aW1lLCB2YWx1ZSBmcm9tIGxpdmRldg0KCQkJCQkgIA0KCQkJCQkgICB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScgYW5kIA0KCQkJCQkgICBwY29kZSA9JyRwcmludHBhcmFzWyRwYV0nIGFuZA0KCQkJCQkgICBkYXRlID0nJG9yZ0RhdGUnICAgICAgICAgIGFuZCANCgkJCQkJICAgKHRpbWUgPiAnJHByZXZpb3VzJyBhbmQgdGltZSA8PSAnJG5leHQnKSBhbmQNCgkJCQkJICAgKHZhbHVlIDw9ICckbWlubicgb3IgdmFsdWUgPj0gJyRtYXh4JykgDQoJCQkJCSAgICAgICBvcmRlciBieSB0aW1lIGxpbWl0IDEgICI7DQoJCQkgDQoJCQkgDQoJCQkgICAgDQoJCQkgDQoJCQkgICAgICAgICAgJHJzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkc2VsKTsNCgkJCQkJICANCgkJCQkJICBpZihteXNxbGlfbnVtX3Jvd3MoJHJzKSkNCgkJCQkJICB7DQoJCQkJCQkgICRza2lwcm93ID0gMDsNCgkJCQkJCSAgIA0KCQkJCQkJCXdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJzKSkNCgkJCQkJCQl7DQoJCQkJCQkJCQ0KCQkJCQkJCQlhcnJheV9wdXNoKCRlYWNocHUsJHJvd1sndmFsdWUnXSk7DQoJCQkJCQkJCS8vZWNobyAiPGJyPiIuJHJvd1sndmFsdWUnXTsNCgkJCQkJCQkJJG9kYXRlID0gJHJvd1snZGF0ZSddOw0KCQkJCQkJCQkkb3RpbWUgPSAkcm93Wyd0aW1lJ107DQoJCQkJCQkJCQ0KCQkJCQkJCQkNCgkJCQkJCQkJLy9lY2hvICI8YnI+Ii4kb3RpbWU7DQoJCQkJCQkJfQkJCQkJCQkJDQoJCQkJCQkJICANCgkJCQkJCQ0KCQkJCQkJIA0KCQkJCQkgIH0NCgkJCSANCgkJICAgICAgICAgICAgICAgICBlbHNlDQoJCQkJCQkgew0KCQkJCQkJCSBhcnJheV9wdXNoKCRlYWNocHUsJy0tLi0tJyk7DQoJCQkJCQkJIA0KCQkJCQkJIH0JCQkJCQkJIA0KCQkJIA0KCQkJIA0KCQkJIA0KCQkJIA0KCQkJfQ0KCQkJDQoJfSAgICAgICAgIC8vZW5kIG9mIG5vIG9mIGRldmljZSAgICAgICANCgkNCgkgICAgICAgaWYoJHNraXByb3cgPT0gMCkNCgkJICAgew0KCQkJICAgICAgIA0KCQkJCSAgICAgICAgICAgICAgIGVjaG8gIg0KCQkJICAgPHRyIGNsYXNzPSd0aGlyZCcgPg0KCQkJCSAgIDx0ZCBjbGFzcz0nbWFpbnRkJz4NCgkJCQkgICA8dGFibGUgY2xhc3M9J2lubmVyJz48dHI+DQoJCQkJICAgPHRkIGNsYXNzPSdpbm5lcnRkJz4iLiRmb3VydGhEYXRlLiI8L3RkPg0KCQkJCSAgIDx0ZCBjbGFzcz0gJ2lubmVydGQnPiZuYnNwOyAgIi4kZm91cnRoVGltZS4iPC90ZD4NCgkJCQkgICA8L3RyPjwvdGFibGU+DQoJCQkJICAgDQoJCQkJICAgPC90ZD4iOyANCgkJCQkgICANCgkJCQkgICANCgkJCQkgICANCgkJCQkgICANCgkJCSAgICBmb3IoJGk9MDskaTxjb3VudCgkbmFtZW9mZGV2aWNlKTskaSsrKSB7DQoJCQkJCQ0KCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdtYWludGQnPiI7DQoJCSAgICAgICAgICAgICAgICBlY2hvICINCgkJCQkJCQkJPHRhYmxlIGNsYXNzPSdpbm5lcic+IjsNCgkJCQkJCQkJDQoJCQkJCQkJCWVjaG8gIjx0cj4iOw0KCQkgICAgICAgICAgICAgICAgICANCgkJCQkJCQkJJHByaW50cGFyYXM9YXJyYXkoKTsNCgkJCQkJCQkJLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgIHsNCgkJCQkkcHJpbnRwYXJhc1skby0xXT0kZmluYWxhcnJbJGldWyRvXTsNCgkJCSAgIH0gDQoJCSAgDQoJCQkgICAgIGZvcigkcGE9MDskcGE8Y291bnQoJHByaW50cGFyYXMpOyRwYSsrKQ0KCQkJCQkgDQoJCQkJCSB7DQoJCQkJCQkgDQoJCQkJDQoJCQkJCQkJDQoJCQkJCQllY2hvICIgPHRkIGNsYXNzPSAnaW5uZXJ0ZCc+Jm5ic3A7DQoJCQkJCQkmbmJzcDsgIi4kZWFjaHB1WyRwcmluaW5dLiImbmJzcDsgJm5ic3A7PC90ZD4iOw0KCQkJCQkJJHByaW5pbisrOw0KCQkJCQkJDQoJCQkJCSB9DQoJCQkgICANCgkJCSAgDQoJCSAgIA0KCQkgICAgICAgICANCgkJCSAgIA0KCQkJICAgICAgICAgICBlY2hvICIgPC90cj4iOw0KCQkJICAgDQoJCQkJICAgICAgZWNobyAgIjwvdGFibGU+PC90ZD4iOw0KCQkJCX0NCgkJICAgDQoJCSAgICAgICAgICAgIA0KCQkgICAgICAgICAgCSAgICRmb3VydGhEYXRlPSRvZGF0ZTsNCgkgICAgICAgICAgICAgICAgICAgJGZvdXJ0aFRpbWUgPSRvdGltZTsNCgkJICAgDQoJCSAgIA0KCQkgICANCgkJICAgCSBlY2hvICI8L3RyPiI7ICAgIC8vbWFpbiByb3cgZW5kcw0KCQkgICB9ICAgICAgLy9JZiBlbmRzDQoJCQkJDQoJICAgDQoNCgkgDQoJIA0KCSANCgkgICAgICAgIAkgICAkcHJldmlvdXMgPSAkbmV4dDsNCgkJCSAgICAkbmV4dCA9IHN0cnRvdGltZSgkbmV4dCk7DQogDQogICAgICAgICAgICAgICRuZXh0PWRhdGUoIkguaSIsc3RydG90aW1lKCcrJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLCRuZXh0KSk7DQoJCQkgIA0KCQkJCQkJCQkgICBpZiAoICRwcmV2aW91cyA+PSAkbmV4dCApDQoJCQkJCSB7DQoJCQkJCQkgDQoJCQkJCQkgJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoJCQkJCQkgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCQkgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCQkgDQoJCQkJCQkgDQoJCQkJCSB9DQoJIA0KCSANCg0KCSANCgkgIA0KIH0gLy93aGlsZSBlbmRzCSAgIA0KCSAgIA0KCQ0KIA0KIA0KDQoNCiANCg0KDQoNCg0KDQoNCgkgDQoJIA0KCSANCgkgDQoJIA0KCSANCj8+DQoNCjwvdGFibGU+DQoNCjwvZGl2PiAgICAgPCEtLSAgIC8vcmVwb3J0cyAgY2xzcyB0aGlzIHdyYXBzICAgIC0tPg0KDQo8cD48P3BocCAgaWYoJGludGVybmEgPT0gMSkgZWNobyAiTm8gZGF0YSBmb3Igb3V0IG9mIHJhbmdlIHZhbHVlcyBmb3IgZ2l2ZW4gZGF0ZXMgIjsgPz48L3A+DQoNCjw/cGhwDQp9DQplY2hvICI8ZGl2IGNsYXNzPSd3cmFwcGVyJyBteWRpdj4iOw0KDQoNCgkgICAgICAgIC8qICAgICAgICAgICAgICBTVEFUUyBUQUJMRVNTU1MgICAgICAgICAgKi8NCg0KDQogICBlY2hvICIgIDx0YWJsZSBjbGFzcz0nb3V0ZXInPg0KICAgDQogICA8Y2FwdGlvbj48aDI+U3VtbWVyeSBSZXBvcnQ8L2gyPiA8L2NhcHRpb24+DQogICA8dHIgY2xhc3M9J2ZpcnN0cm93Jz4NCg0KICA8dGggY2xhc3M9J291dGVydGggb3V0ZXJ0aHR3byc+U2Vuc29yIG5hbWUtPiA8L3RoPiI7DQogICAgIGZvcigkZnQ9MDskZnQ8Y291bnQoJG5hbWVvZmRldmljZSk7JGZ0KyspDQoJIHsNCgkJIGVjaG8gIjx0aCBjbGFzcz0nb3V0ZXJ0aCc+Ii4kbmFtZW9mZGV2aWNlWyRmdF0uIjwvdGg+IjsNCgkJIA0KCQkNCgkgDQoJIA0KCSB9DQoNCiAgZWNobyAiPC90cj4iOw0KICANCi8qIHNlY29uZCByb3cgICovDQplY2hvICI8dHIgY2xhc3M9J3NlY29uZHJvdyc+DQo8dGQgY2xhc3M9J21haW50ZCc+UGFyYW1ldGVyczwvdGQ+IjsgDQoNCg0KICAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRkZXZpY2VJZCk7JGkrKyl7DQoJCSAgIA0KCQkgICANCgkJICAgICAgICAgZWNobyAiPHRkIGNsYXNzID0nbWFpbnRkJz4NCgkJCQkgICAgPHRhYmxlIGNsYXNzPSdpbm5lcic+DQoJCQkJCTx0cj4iOw0KCQkJCQkgDQoJCQkJCSRwcmludHBhcmE9YXJyYXkoKTsNCiAgICAgICAgICAgICAgLy8gZWNobyBjb3VudCgkZmluYWxhcnJbJGldKTsNCiAgICAgICAgICAgICAgZm9yKCRvPTE7JG88PWNvdW50KCRmaW5hbGFyclskaV0pLTE7JG8rKykNCgkJCSAgew0KCQkJCSRwYz0kZmluYWxhcnJbJGldWyRvXTsNCiAgICAgICAgICAJCSRic3FsPSJzZWxlY3QgcGFyYW1ldGVyIGZyb20gZGV2aWNlIHdoZXJlIHVpZD0nJGRldmljZUlkWyRpXScgYW5kDQoJCQkJICAgDQoJCQkJICAgICAgICAgICBwY29kZT0nJHBjJyBsaW1pdCAxICI7DQoJCQkJICANCgkJCSAgDQoNCiAgICAgICAgICAgICAgICAgICAgJHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGJzcWwpOw0KCQkJCQl3aGlsZSgkcm93c3M9bXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQpKQ0KCQkJCQl7DQoJCQkJCQkkcHJpbnRwYXJhWyRvLTFdPSRyb3dzc1sncGFyYW1ldGVyJ107DQoJCQkJCQkNCgkJCQkJfQ0KCQkJCQ0KCQkJfSAgDQoJCQkNCgkJCQ0KCQkJZm9yKCRpbnM9MDskaW5zPGNvdW50KCRwcmludHBhcmEpOyRpbnMrKykNCgkJCXsNCgkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPiIuJHByaW50cGFyYVskaW5zXS4iJm5ic3A7PC90ZD4iOw0KCQkJCQ0KCQkJCQ0KCQkJfQ0KDQogICAgICAgICAgICAgICAgICAgZWNobyAiPC90cj48L3RhYmxlPjwvdGQ+IjsNCg0KDQoJICAgfQ0KZWNobyAiPC90cj4iOyAgLy9zZWNvbmRyb3cNCg0KLyogICAgICAzcmQgdGltZSAgIE1JTk1VTSB2YWx1ZSAqLw0KDQoNCg0KDQoNCmVjaG8gIjx0ciBjbGFzcz0nc2Vjb25kcm93Jz4NCjx0ZCBjbGFzcz0nbWFpbnRkJz5NaW5pbXVtPC90ZD4iOw0KDQogICAgICBmb3IoJGk9MDskaTxjb3VudCgkZGV2aWNlSWQpOyRpKyspew0KCQkgICANCgkJICAgDQoJCSAgICAgICAgIGVjaG8gIjx0ZCBjbGFzcyA9J21haW50ZCc+DQoJCQkJICAgIDx0YWJsZSBjbGFzcz0naW5uZXInPg0KCQkJCQk8dHI+IjsNCgkJCQkJIA0KCQkJICAgICANCgkJCQkgZm9yKCRtcD0wOyRtcDxjb3VudCgkZmluYWxhcnJbJGldKS0xOyRtcCsrKQ0KCQkJCQkgew0KCQkJCQkJIA0KCQkJCQkJICRteXBhcnJhWyRtcF09JGZpbmFsYXJyWyRpXVskbXArMV07DQoJCQkJCQkgDQoJCQkJCSB9DQoJCQkJCSANCgkJCQkJIGZvcigkaj0wOyRqPGNvdW50KCRteXBhcnJhKTskaisrKXsNCgkJCQkJIA0KCQkJCQkgDQoJCQkJCSAkbWludmEgPSJzZWxlY3QgbWluKHZhbHVlKSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScgDQoJCQkgICAgICAgICBhbmQgcGNvZGU9JyRteXBhcnJhWyRqXScgYW5kIGRhdGUgYmV0d2VlbiAgDQoJCQkgICAgICAgICckbmV3X2RhdGVGcm9tJyBhbmQgJyRuZXdfZGF0ZVRvJyAiOw0KDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgJG1pbnJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG1pbnZhKTsNCgkJCQkJICAgDQoJCQkJCSAgICBpZihteXNxbGlfbnVtX3Jvd3MoJG1pbnJlc3VsdCkpDQoJCQkJCQl7DQoJCQkJCQkJDQoJCQkJCQkJd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkbWlucmVzdWx0KSkNCgkJCQkJCQl7DQoJCQkJCQkJCQ0KCQkJCQkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyIuJHJvd1snbWluKHZhbHVlKSddLiImbmJzcDsgJm5ic3A7ICZuYnNwOw0KCQkJCQkJCQkNCgkJCQkJCQkJDQoJCQkJCQkJCTwvdGQ+IjsNCgkJCQkJCQkJDQoJCQkJCQkJfQ0KCQkJCQkJCQ0KCQkJCQkJCQ0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkNCgkJCQkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPjA8L3RkPiI7DQoJCQkJCQkJDQoJCQkJCQl9DQoNCg0KICAgICAgICAgICAgICAgDQoJCQkgICANCgkJCQkJIH0gICAvL3BlciBwYXJhbWV0ZXIgbG9vcCBlbmRzDQoJCQkJIA0KCQkJCSANCg0KICAgICAgICAgICAgICAgICAgIGVjaG8gIjwvdHI+PC90YWJsZT48L3RkPiI7DQoNCg0KCSAgIH0NCmVjaG8gIjwvdHI+IjsgIC8vIFRISVJEIFJPVyAgDQoNCg0KLyogICAgICAgICAgIEZPVVJUSCBST1cgIE1BWCB2YWx1ZSAgICAgICAgICAgICAqLyAgICAgIA0KDQplY2hvICI8dHIgY2xhc3M9J3NlY29uZHJvdyc+DQo8dGQgY2xhc3M9J21haW50ZCc+TWF4aW11bTwvdGQ+IjsNCg0KICAgICAgZm9yKCRpPTA7JGk8Y291bnQoJGRldmljZUlkKTskaSsrKXsNCgkJICAgDQoJCSAgIA0KCQkgICAgICAgICBlY2hvICI8dGQgY2xhc3MgPSdtYWludGQnPg0KCQkJCSAgICA8dGFibGUgY2xhc3M9J2lubmVyJz4NCgkJCQkJPHRyPiI7DQoJCQkJCSANCgkJCSAgICAgDQoJCQkJIGZvcigkbXA9MDskbXA8Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbXArKykNCgkJCQkJIHsNCgkJCQkJCSANCgkJCQkJCSAkbXlwYXJyYVskbXBdPSRmaW5hbGFyclskaV1bJG1wKzFdOw0KCQkJCQkJIA0KCQkJCQkgfQ0KCQkJCQkgDQoJCQkJCSBmb3IoJGo9MDskajxjb3VudCgkbXlwYXJyYSk7JGorKyl7DQoJCQkJCSANCgkJCQkJIA0KCQkJCQkgJG1pbnZhID0ic2VsZWN0IG1heCh2YWx1ZSkgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkZXZpY2VJZFskaV0nIA0KCQkJICAgICAgICAgYW5kIHBjb2RlPSckbXlwYXJyYVskal0nIGFuZCBkYXRlIGJldHdlZW4gIA0KCQkJICAgICAgICAnJG5ld19kYXRlRnJvbScgYW5kICckbmV3X2RhdGVUbycgIjsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICRtaW5yZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRtaW52YSk7DQoJCQkJCSAgIA0KCQkJCQkgICAgaWYobXlzcWxpX251bV9yb3dzKCRtaW5yZXN1bHQpKQ0KCQkJCQkJew0KCQkJCQkJCQ0KCQkJCQkJCXdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJG1pbnJlc3VsdCkpDQoJCQkJCQkJew0KCQkJCQkJCQkNCgkJCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRyb3dbJ21heCh2YWx1ZSknXS4iJm5ic3A7ICZuYnNwOyAmbmJzcDsNCgkJCQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQk8L3RkPiI7DQoJCQkJCQkJCQ0KCQkJCQkJCX0NCgkJCQkJCQkNCgkJCQkJCQkNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJDQoJCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4wPC90ZD4iOw0KCQkJCQkJCQ0KCQkJCQkJfQ0KDQoNCiAgICAgICAgICAgICAgIA0KCQkJICAgDQoJCQkJCSB9ICAgLy9wZXIgcGFyYW1ldGVyIGxvb3AgZW5kcw0KCQkJCSANCgkJCQkgDQoNCiAgICAgICAgICAgICAgICAgICBlY2hvICI8L3RyPjwvdGFibGU+PC90ZD4iOw0KDQoNCgkgICB9DQplY2hvICI8L3RyPiI7ICAvLyBmb3VydGggUm93IA0KDQoNCg0KIC8qICAgICAgICAgIEFWRVJBR0UgVkFMTFVFU1MgICAgICAgICAgICAgICAgICAgICAqLw0KIA0KIA0KIGVjaG8gIjx0ciBjbGFzcz0nc2Vjb25kcm93Jz4NCjx0ZCBjbGFzcz0nbWFpbnRkJz5BdmVyYWdlPC90ZD4iOw0KDQogICAgICBmb3IoJGk9MDskaTxjb3VudCgkZGV2aWNlSWQpOyRpKyspew0KCQkgICANCgkJICAgDQoJCSAgICAgICAgIGVjaG8gIjx0ZCBjbGFzcyA9J21haW50ZCc+DQoJCQkJICAgIDx0YWJsZSBjbGFzcz0naW5uZXInPg0KCQkJCQk8dHI+IjsNCgkJCQkJIA0KCQkJICAgICANCgkJCQkgZm9yKCRtcD0wOyRtcDxjb3VudCgkZmluYWxhcnJbJGldKS0xOyRtcCsrKQ0KCQkJCQkgew0KCQkJCQkJIA0KCQkJCQkJICRteXBhcnJhWyRtcF09JGZpbmFsYXJyWyRpXVskbXArMV07DQoJCQkJCQkgDQoJCQkJCSB9DQoJCQkJCSANCgkJCQkJIGZvcigkaj0wOyRqPGNvdW50KCRteXBhcnJhKTskaisrKXsNCgkJCQkJIA0KCQkJCQkgDQoJCQkJCSAkbWludmEgPSJzZWxlY3QgYXZnKHZhbHVlKSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScgDQoJCQkgICAgICAgICBhbmQgcGNvZGU9JyRteXBhcnJhWyRqXScgYW5kIGRhdGUgYmV0d2VlbiAgDQoJCQkgICAgICAgICckbmV3X2RhdGVGcm9tJyBhbmQgJyRuZXdfZGF0ZVRvJyAiOw0KDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgJG1pbnJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG1pbnZhKTsNCgkJCQkJICAgDQoJCQkJCSAgICBpZihteXNxbGlfbnVtX3Jvd3MoJG1pbnJlc3VsdCkpDQoJCQkJCQl7DQoJCQkJCQkJDQoJCQkJCQkJd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkbWlucmVzdWx0KSkNCgkJCQkJCQl7DQoJCQkJCQkJCQ0KCQkJCQkJCQllY2hvICI8dGQgY2xhc3M9J2lubmVydGQnPiZuYnNwOyZuYnNwOyZuYnNwOyAiLnJvdW5kKCRyb3dbJ2F2Zyh2YWx1ZSknXSwyKS4iJm5ic3A7ICZuYnNwOyAmbmJzcDsNCgkJCQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQk8L3RkPiI7DQoJCQkJCQkJCQ0KCQkJCQkJCX0NCgkJCQkJCQkNCgkJCQkJCQkNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJDQoJCQkJCQkJZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4wPC90ZD4iOw0KCQkJCQkJCQ0KCQkJCQkJfQ0KDQoNCiAgICAgICAgICAgICAgIA0KCQkJICAgDQoJCQkJCSB9ICAgLy9wZXIgcGFyYW1ldGVyIGxvb3AgZW5kcw0KCQkJCSANCgkJCQkgDQoNCiAgICAgICAgICAgICAgICAgICBlY2hvICI8L3RyPjwvdGFibGU+PC90ZD4iOw0KDQoNCgkgICB9DQplY2hvICI8L3RyPiI7IC8vIDV0aCByb3cgZW5kcw0KDQoNCi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1rdCBoZXJlICAgKi8NCg0KIGVjaG8gIjx0ciBjbGFzcz0nc2Vjb25kcm93Jz4NCjx0ZCBjbGFzcz0nbWFpbnRkJz5NS1Q8L3RkPiI7DQoNCiAgICAgIGZvcigkaT0wOyRpPGNvdW50KCRkZXZpY2VJZCk7JGkrKyl7DQoJCSAgIA0KCQkgICAgICAgICRwY2hlY2sgPSAwOw0KCQkgICAgICAgICBlY2hvICI8dGQgY2xhc3MgPSdtYWludGQnPg0KCQkJCSAgICA8dGFibGUgY2xhc3M9J2lubmVyJz4NCgkJCQkJPHRyPiI7DQoJCQkJCSANCgkJCSAgICAgDQoJCQkJIGZvcigkbXA9MDskbXA8Y291bnQoJGZpbmFsYXJyWyRpXSktMTskbXArKykNCgkJCQkJIHsNCgkJCQkJCSANCgkJCQkJCSAkbXlwYXJyYVskbXBdPSRmaW5hbGFyclskaV1bJG1wKzFdOw0KCQkJCQkJIA0KCQkJCQkgfQ0KCQkJCQkgDQoJCQkJCSBmb3IoJGo9MDskajxjb3VudCgkbXlwYXJyYSk7JGorKyl7DQoJCQkJCSANCgkJCQkJIA0KCQkJCQkgJG1rdCA9InNlbGVjdCBwY29kZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRldmljZUlkWyRpXScgDQoJCQkgICAgICAgICAgICAgIGFuZCBwY29kZT0nJG15cGFycmFbJGpdJyBhbmQgZGF0ZSBiZXR3ZWVuIA0KCQkJICAgICAgICAgICAgICAnJG5ld19kYXRlRnJvbScgYW5kICckbmV3X2RhdGVUbycgIjsNCgkJCQkJDQoJCQkJCQ0KCQkJCQkvL2VjaG8gIjxicj4iLiRta3Q7DQogICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAkbWt0YXJyYXk9YXJyYXkoKTsNCgkJCQkJCSRtaz0wOw0KCQkJCQkJJG1rdHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJG1rdCk7DQoJCQkJCQkgJHZhbGNvPW15c3FsaV9udW1fcm93cygkbWt0cmVzKTsNCgkJCQkJCSANCgkJCQkJCSANCgkJCQkJCSANCgkJCQkJCSBpZihteXNxbGlfbnVtX3Jvd3MoJG1rdHJlcykpDQoJCQkJCXsNCgkJCQkJCSB3aGlsZSgkbWt0cm93PW15c3FsaV9mZXRjaF9hcnJheSgkbWt0cmVzKSkNCgkJCQkJCSB7DQoJCQkJCQkJICRta3RhcnJheVskaV1bJG1rXT0kbWt0cm93Wyd2YWx1ZSddOw0KCQkJCQkJCSAkbWt0YXJyYXlbJGldWyRta109JG1rdGFycmF5WyRpXVskbWtdKzI3My4xNTsNCgkJCQkJCQkgJHBjaGVjayA9ICAkbWt0cm93WydwY29kZSddOw0KCQkJCQkJCSANCgkJCQkJCQkvLyBlY2hvICRwY2hlY2s7DQoJCQkJCQkJICRtaysrOw0KCQkJCQkJCSANCgkJCQkJCSB9DQoJCQkJCQkNCgkJCQkJCQ0KCQkJCQl9DQoNCiAgICAgICAgICAgICAgICANCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQllY2hvICJlcnJvciBpbiBta3QiLiRta3QubXlzcWxpX2Vycm9yKCRjb25uZWN0aW9uKTsNCgkJCQkJfQ0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN1bT0wOw0KICAgICAgICAgICAgICAgICAgICAgZm9yKCRzPTA7JHM8Y291bnQoJG1rdGFycmF5WyRpXSk7JHMrKykNCgkJCQkJIHsNCgkJCQkJCSANCgkJCQkJCSAkc3VtPWV4cCgoLTgzLjE0NCkvKDguMzE0NDcyKiRta3RhcnJheVskaV1bJHNdKSkgKyRzdW07DQoJCQkJCQkgDQoJCQkJCSB9DQoJCQkJCQkgJGRlbGg9JHN1bS8kdmFsY287DQoJCQkJCQkgJG1lYW5rdD0tbG9nKCRkZWxoKTsNCgkJCQkJCSAka3Rpbms9MTAvJG1lYW5rdDsNCgkJCQkJCSAkaW5kZWc9cm91bmQoJGt0aW5rLTI3My4xNSwyKTsNCg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkcGNoZWNrID09ICcxMScpDQoJCQkJCQkgIHsNCgkJCQkJCQkgIA0KCQkJCQkJCSAgZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4mbmJzcDsmbmJzcDsNCgkJCQkJCQkgICZuYnNwOyIgLiRpbmRlZy4iICZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzwvdGQ+IjsNCgkJCQkJCQkgIA0KCQkJCQkJICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICANCgkJCQkJCSAgIGVsc2V7DQoJCQkJCQkJICAgDQoJCQkJCQkJICAgZWNobyAiPHRkIGNsYXNzPSdpbm5lcnRkJz4mbmJzcDsmbmJzcDsmbmJzcDstDQoJCQkJCQkJICAgDQoJCQkJCQkJICAgJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7DQoJCQkJCQkJICAgPC90ZD4iOw0KCQkJCQkJCSAgIA0KCQkJCQkJICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgIA0KDQoNCg0KICAgICAgICAgICAgICAgDQoJCQkgICANCgkJCQkJIH0gICAvL3BlciBwYXJhbWV0ZXIgbG9vcCBlbmRzDQoJCQkJIA0KCQkJCSANCg0KICAgICAgICAgICAgICAgICAgIGVjaG8gIjwvdHI+PC90YWJsZT48L3RkPiI7DQoNCg0KCSAgIH0NCmVjaG8gIjwvdHI+PC90YWJsZT4iOyAvLyA1dGggcm93IGVuZHMNCg0KICANCg0KDQoNCi8qICAgICAgICAgICAgICAgICAgU1RBVFMgVEFCTEUgRU5EUyAgICAgICAgICAgKi8NCg0KDQoNCg0KDQoNCg0KDQplY2hvICI8L2Rpdj4iOw0KDQovKioqKioqKioqKioqKioqKioqKioqKipFRElUIEhFUkUqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiBHUkFQSFNTU1MNCg0KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyA/Pg0KDQoNCg0KPD9waHANCg0KDQovKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoNCg0KZ2xvYmFsIHZhcmlhYmxlIGRlY2xhcmF0aW9uDQoNCiovDQoNCiRwMXZhbHVlcz1hcnJheSgpOw0KJHAxZGF0YVRpbWU9YXJyYXkoKTsNCg0KJHAydmFsdWVzPWFycmF5KCk7DQokcDJkYXRhVGltZT1hcnJheSgpOw0KDQokcDN2YWx1ZXM9YXJyYXkoKTsNCiRwM2RhdGFUaW1lPWFycmF5KCk7DQoNCiRwNHZhbHVlcz1hcnJheSgpOw0KJHA0ZGF0YVRpbWU9YXJyYXkoKTsNCg0KJHA1dmFsdWVzPWFycmF5KCk7DQokcDVkYXRhVGltZT1hcnJheSgpOw0KDQokcDZ2YWx1ZXM9YXJyYXkoKTsNCiRwNmRhdGFUaW1lPWFycmF5KCk7DQoNCiRwN3ZhbHVlcz1hcnJheSgpOw0KJHA3ZGF0YVRpbWU9YXJyYXkoKTsNCg0KJHA4dmFsdWVzPWFycmF5KCk7DQokcDhkYXRhVGltZT1hcnJheSgpOw0KDQoNCg0KDQoNCg0KDQoNCg0KDQogICAgJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzExJyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFQ9YXJyYXlfaW50ZXJzZWN0KCRkZXZpY2VJZCwkbmV3aWRzKTsNCiAgJGNvbXBhcmVkTmFtZVQ9YXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpOw0KICAgICAgICAgDQokZGFycj1hcnJheSgpOw0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkVDsNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkdmFsdWVzID0gYXJyYXkoMCk7DQoJJGRhdGFUaW1lID0gYXJyYXkoMCk7DQoJDQp9DQoNCmVsc2UgeyAJCQkJDQoNCgkJCQ0KCQkJCQkNCgkJCQkJDQoJLyoqKioqKioqKiAgICAgICAgICAgICAgICAgICAgIFRFTVBFUkFUVVJFICAgICAgR09UTzExICAgICAgICAqKioqKioqKioqKioqKioqKioqKi8NCgkNCmZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzExJyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTEnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICANCgkJCQkJICAgDQoJCQkJCSAgICRkdGltZVskaV09JGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgLy9lY2hvICRkdGltZVskaV07DQoJCQkJCSAgICRkZGF5WyRpXSA9JGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJHZhbHVlc1skaV1bJHZhcmlWXSA9ICRkcm93Wyd2YWx1ZSddOw0KCQkJCQkgICAkZGF0YURhdGVbJGldWyR2YXJpVl0gID0gICRkcm93WydkYXRlJ107DQoJCQkJCSAgICRkYXRhVGltZVskaV1bJHZhcmlWXSAgPSAkZGF0YURhdGVbJGldWyR2YXJpVl0uIiAtICIuJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gICAvLyBOTyBvZiBkZXZpY2UgY291bnRzOw0KCQ0KfSAgIC8vZWxzZSBlbmRzDQogICAgDQoJDQogDQogIC8qICoqKioqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBURU1QIGJsb2NrIGVuZHMgICoqKioqICAgIA0KICANCiAgDQogIA0KICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCiAgDQogIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIVU1JRFkgQkxPQ0sgZ290bzEyICAgICAgICAgICAgICAgICAgICovDQogIA0KICANCiAgDQogICRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxMicgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRIPWFycmF5X2ludGVyc2VjdCgkZGV2aWNlSWQsJG5ld2lkcyk7DQogICRjb21wYXJlZE5hbWVIPWFycmF5X2ludGVyc2VjdCgkbmFtZW9mZGV2aWNlLCRuZXdsaXN0KTsNCiAgDQogICAgICAgICANCiRkYXJyPWFycmF5KCk7DQokZGFycj0kY29tcGFyZWRJZEg7IA0KIGlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkaHZhbHVlcyA9IGFycmF5KDApOw0KCSRoZGF0YVRpbWUgPSBhcnJheSgwKTsNCgkNCn0NCmVsc2UNCiAgDQogIHsNCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICBmb3IoJGk9MDskaTxjb3VudCgkZGFycik7JGkrKykgICAgICAvL2xvb3AgZm9yIG5vIG9mIGRldmljZSAgQ2hhbmdlIEhlcmUNCnsNCg0KDQoNCgkNCgkkb3JnRGF0ZT0kbmV3X2RhdGVGcm9tOw0KCSR0b2RhdGU9JG5ld19kYXRlVG87DQoJDQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQokZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCg0KJGRhdGVjb3VudGVyPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KJHBsdD0nMDAuMDAuMDAnOw0KJHZhcmlWPTA7DQogJGNjPTA7DQogDQp3aGlsZSgkb3JnRGF0ZSA8PSAkdG9kYXRlKXsNCiRjdGZsYWcxPTA7DQogJGN0ZmxhZzI9MDsNCi8vIGVjaG8gIjxicj4iLiR0b2RhdGUuIjxicj4iLiRvcmdEYXRlLiI8YnI+IjsNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCg0KCSAgICAgICAgIC8vZWNobyAiPGJyPlRvcCIuJHBsdDsNCgkJCSANCgkJCSANCgkJCSAgJGRhdGVleD0ic2VsZWN0IGRhdGUsdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHBjb2RlPScxMicgDQoNCg0KICAgICAgICAgIAkJCWFuZCBkYXRlID0nJG9yZ0RhdGUnIjsNCgkJCQkJDQoJCQkJCSRleHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRhdGVleCk7DQoJCQkJCQ0KCQkJCQkNCgkJCQkJaWYobXlzcWxpX251bV9yb3dzKCRleHJlcykpDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiYXRsZWFzdCI7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gIjxicj5nZXR0b2tub3ciOw0KCQkJCQkJJGN0ZmxhZzE9MTsNCgkJCQkJfQ0KCQkJICAgICANCgkJCQkgIGlmKCRjdGZsYWcxID09IDEpDQoJCQkJICB7DQoJCQkJCSAgLy9lY2hvICI8YnI+ZmxhZ3MiOw0KCQkJCQkgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICBjb250aW51ZTsNCgkJCQkgIH0NCgkJCSANCgkJCSANCgkJCSANCgkgICAgICAgICAgICRkc3FsPSAic2VsZWN0IGRhdGUsdmFsdWUsdGltZSBmcm9tIGxpdmRldiANCgkJCSAgIHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCB0aW1lID4gJyRwbHQnIGFuZCBkYXRlID0nJG9yZ0RhdGUnDQoJCQkgICBhbmQgcGNvZGU9JzEyJyBvcmRlciBieSANCgkJCSAgIGRhdGUsdGltZSBBU0MgbGltaXQgMSI7DQoJCQkgICAkZHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRzcWwpOw0KCQkJIC8vICBlY2hvICI8YnI+Ii4kZHNxbDsNCgkJCSAgDQoJCQkgICBpZihteXNxbGlfbnVtX3Jvd3MoJGRyZXN1bHQpID09IDEpDQoJCQkgICB7DQoJCQkJICAgDQoJCQkJICAvLyBlY2hvICJzdWNjZXNzIDxicj4iOw0KCQkJCSAgIHdoaWxlKCRkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkZHJlc3VsdCkpDQoJCQkJICAgIHsgICANCgkJCQkJICANCgkJCQkJICAgDQoJCQkJCSAgIC8vIGVjaG8gIjxicj4mbmJzcDtEYXRlJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ii4kZHJvd1snZGF0ZSddLiImbmJzcDsNCgkJCQkJICAgLy8gJm5ic3A7Jm5ic3A7Ii4gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgDQoJCQkJCSAgICRkdGltZVskaV09JGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgLy9lY2hvICRkdGltZVskaV07DQoJCQkJCSAgICRkZGF5WyRpXSA9JGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJGh2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJGhkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgJGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgDQoJCQkJCSAgICRoZGF0YVRpbWVbJGldWyR2YXJpVl0gID0gJGhkYXRhRGF0ZVskaV1bJHZhcmlWXS4iIC0gIi4kZHJvd1sndGltZSddOw0KCQkJCQkgLy8gIGVjaG8gImZpcnN0IHRpbWUgaGVyZSI7DQoJCQkJCSAgIA0KCQkJCSAgICB9DQoJCQkJICAgDQoJCQkJICRwbHQxPWRhdGUoIkguaS5zIixzdHJ0b3RpbWUoJysgJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLHN0cnRvdGltZSgkZHRpbWVbJGldKSkpOwkNCgkJCQkgDQoJCQkJICAgLy9lY2hvICI8YnI+aGhoaCIuJHBsdDE7DQoJCQkJICAgaWYoJHBsdDEgPCAkZHRpbWVbJGldICkNCgkJCQkgICB7DQoJCQkJCSAgIA0KCQkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgIC8vZWNobyAkb3JnRGF0ZTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8iPGJyPiIuDQoJCQkJCSAgIC8vZWNobyAiaWZzc3MiOw0KCQkJCSAgIH0NCgkJCQkgICBlbHNlDQoJCQkJICAgew0KCQkJCQkgICAkcGx0ID0gJHBsdDE7DQoJCQkJCSAgLy8gZWNobyAiZWxzZSI7DQoJCQkJICAgfQ0KCQkJCSAgIA0KCQkJCSAgDQoJCQkJICAgDQoJCQkgIH0NCgkJCSAgZWxzZXsNCgkJCQkgICAgJGNjKys7DQoJCQkJICAvLyBlY2hvICJuZWVyIGhlcmUiLiRjYzsNCgkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvICI8YnI+Ii4kb3JnRGF0ZTsNCgkJCQkJICAgY29udGludWU7DQoJCQkgICB9DQoJCQkgIC8vIGVjaG8gIjxicj5pIGFtIGhpdHRpbmcgaGVyZSA8YnI+Ii4kb3JnRGF0ZTsgDQoJCQkgICAkdmFyaVYrKzsNCgkJCSAgDQoJCSAgICAgICAgICAvL3doaWxlIGxvb3BlZCBtYWluIG9mIGRhdGUgY29uZGl0aW9uDQp9DQoJCQkgICANCgkJCQkJCQ0KCSAgICAgICAgICAgIA0KCQ0KCQ0KCQ0KCQ0KfSAgIC8vIE5PIG9mIGRldmljZSBjb3VudHM7DQoNCg0KICB9IC8vIGVsc2UgZW5kcw0KCQ0KDQovKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSHVtaWRpdHkgYmxvY2sgRW5kcyAqLw0KDQoNCg0KICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAxIGJsb2NrIHN0YXJ0cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoJDQoJJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzEzJyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFAxPWFycmF5X2ludGVyc2VjdCgkZGV2aWNlSWQsJG5ld2lkcyk7DQogICRjb21wYXJlZE5hbWVQMT1hcnJheV9pbnRlcnNlY3QoJG5hbWVvZmRldmljZSwkbmV3bGlzdCk7DQogIA0KICAgICAgICAgDQokZGFycj1hcnJheSgpOw0KJGRhcnI9JGNvbXBhcmVkSWRQMTsgIAkNCg0KDQppZiAoY291bnQoJGRhcnIpID09IDApDQp7DQoJJHAxdmFsdWVzID0gYXJyYXkoMCk7DQoJJHAxZGF0YVRpbWUgPSBhcnJheSgwKTsNCg0KCQ0KfQ0KDQplbHNlICB7DQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzEzJyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTMnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDF2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHAxZGF0YURhdGVbJGldWyR2YXJpVl0gID0gICRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwMWRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9ICAgLy8gTk8gb2YgZGV2aWNlIGNvdW50czsNCg0KfSAvL2Vsc2UgZW5kcyAJDQoJDQoJDQoJLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgUDEgYmxvY2sgRW5kcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCg0KDQoNCg0KDQoNCiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwMiBzdGFydHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQ0KCQ0KCQ0KCSRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxNCcgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQMj1hcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpOw0KICAkY29tcGFyZWROYW1lUDI9YXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDI7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDJ2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDJkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzE0JyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTQnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDJ2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHAyZGF0YURhdGVbJGldWyR2YXJpVl0gID0gICRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwMmRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9IA0KCQ0KfSAvL2Vsc2UgZW5kcwkNCgkNCgkNCgkvKiAgICAgICAgICAgICAgICAgICBwMiBlbmRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCgkNCgkNCgkNCgkvKiAgICAgICAgICAgICAgICBwMyAgICAgIHN0YXJ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCgkNCgkNCgkNCgkJICRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxNScgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQMz1hcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpOw0KICAkY29tcGFyZWROYW1lUDM9YXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDM7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDN2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDNkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzE1JyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTUnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDN2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHAzZGF0YURhdGVbJGldWyR2YXJpVl0gID0gICRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwM2RhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9IA0KCQ0KfSAvLyBwMyBlbHNlIGVuZHMJDQoJDQoJDQoJDQoJLyogICAgICAgICAgICAgICBwMyAgICAgIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCgkNCgkNCgkvKiAgICAgICAgICAgICAgIHA0ICAgICAgc3RhcnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCgkNCgkNCgkNCgkkbmV3bGlzdD1hcnJheSgpOw0KICAkbmV3aWRzPWFycmF5KCk7DQogICRpbnRlcj0ic2VsZWN0IG5hbWUsdWlkIGZyb20gZGV2aWNlIHdoZXJlIHBjb2RlID0nMTYnICI7DQogICRpbnJlc3VsdCA9IG15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkaW50ZXIpOw0KICB3aGlsZSgkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRpbnJlc3VsdCkpDQogIHsNCgkgIGFycmF5X3B1c2goJG5ld2xpc3QsJHJvd1snbmFtZSddKTsNCgkgICBhcnJheV9wdXNoKCRuZXdpZHMsJHJvd1sndWlkJ10pOw0KCSAgDQoJICANCiAgfQ0KICANCiAgDQogICRjb21wYXJlZElkUDQ9YXJyYXlfaW50ZXJzZWN0KCRkZXZpY2VJZCwkbmV3aWRzKTsNCiAgJGNvbXBhcmVkTmFtZVA0PWFycmF5X2ludGVyc2VjdCgkbmFtZW9mZGV2aWNlLCRuZXdsaXN0KTsNCiAgDQogICAgICAgICANCiRkYXJyPWFycmF5KCk7DQokZGFycj0kY29tcGFyZWRJZFA0OyAgCQ0KDQppZiAoY291bnQoJGRhcnIpID09IDApDQp7DQoJJHA0dmFsdWVzID0gYXJyYXkoMCk7DQoJJHA0ZGF0YVRpbWUgPSBhcnJheSgwKTsNCgkNCn0NCg0KDQplbHNlew0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCSBmb3IoJGk9MDskaTxjb3VudCgkZGFycik7JGkrKykgICAgICAvL2xvb3AgZm9yIG5vIG9mIGRldmljZSAgQ2hhbmdlIEhlcmUNCnsNCg0KDQoNCgkNCgkkb3JnRGF0ZT0kbmV3X2RhdGVGcm9tOw0KCSR0b2RhdGU9JG5ld19kYXRlVG87DQoJDQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQokZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCg0KJGRhdGVjb3VudGVyPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KJHBsdD0nMDAuMDAuMDAnOw0KJHZhcmlWPTA7DQogJGNjPTA7DQogDQp3aGlsZSgkb3JnRGF0ZSA8PSAkdG9kYXRlKXsNCiRjdGZsYWcxPTA7DQogJGN0ZmxhZzI9MDsNCi8vIGVjaG8gIjxicj4iLiR0b2RhdGUuIjxicj4iLiRvcmdEYXRlLiI8YnI+IjsNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCg0KCSAgICAgICAgIC8vZWNobyAiPGJyPlRvcCIuJHBsdDsNCgkJCSANCgkJCSANCgkJCSAgJGRhdGVleD0ic2VsZWN0IGRhdGUsdmFsdWUgZnJvbSBsaXZkZXYgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHBjb2RlPScxNicgDQoNCg0KICAgICAgICAgIAkJCWFuZCBkYXRlID0nJG9yZ0RhdGUnIjsNCgkJCQkJDQoJCQkJCSRleHJlcz1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRhdGVleCk7DQoJCQkJCQ0KCQkJCQkNCgkJCQkJaWYobXlzcWxpX251bV9yb3dzKCRleHJlcykpDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiYXRsZWFzdCI7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gIjxicj5nZXR0b2tub3ciOw0KCQkJCQkJJGN0ZmxhZzE9MTsNCgkJCQkJfQ0KCQkJICAgICANCgkJCQkgIGlmKCRjdGZsYWcxID09IDEpDQoJCQkJICB7DQoJCQkJCSAgLy9lY2hvICI8YnI+ZmxhZ3MiOw0KCQkJCQkgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICBjb250aW51ZTsNCgkJCQkgIH0NCgkJCSANCgkJCSANCgkJCSANCgkgICAgICAgICAgICRkc3FsPSAic2VsZWN0IGRhdGUsdmFsdWUsdGltZSBmcm9tIGxpdmRldiANCgkJCSAgIHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCB0aW1lID4gJyRwbHQnIGFuZCBkYXRlID0nJG9yZ0RhdGUnDQoJCQkgICBhbmQgcGNvZGU9JzE2JyBvcmRlciBieSANCgkJCSAgIGRhdGUsdGltZSBBU0MgbGltaXQgMSI7DQoJCQkgICAkZHJlc3VsdD1teXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGRzcWwpOw0KCQkJIC8vICBlY2hvICI8YnI+Ii4kZHNxbDsNCgkJCSAgDQoJCQkgICBpZihteXNxbGlfbnVtX3Jvd3MoJGRyZXN1bHQpID09IDEpDQoJCQkgICB7DQoJCQkJICAgDQoJCQkJICAvLyBlY2hvICJzdWNjZXNzIDxicj4iOw0KCQkJCSAgIHdoaWxlKCRkcm93PW15c3FsaV9mZXRjaF9hc3NvYygkZHJlc3VsdCkpDQoJCQkJICAgIHsgICANCgkJCQkJICANCgkJCQkJICAgDQoJCQkJCSAgIC8vIGVjaG8gIjxicj4mbmJzcDtEYXRlJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ii4kZHJvd1snZGF0ZSddLiImbmJzcDsNCgkJCQkJICAgLy8gJm5ic3A7Jm5ic3A7Ii4gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgDQoJCQkJCSAgICRkdGltZVskaV09JGRyb3dbJ3RpbWUnXTsNCgkJCQkJICAgLy9lY2hvICRkdGltZVskaV07DQoJCQkJCSAgICRkZGF5WyRpXSA9JGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJHA0dmFsdWVzWyRpXVskdmFyaVZdID0gJGRyb3dbJ3ZhbHVlJ107DQoJCQkJCSAgICRwNGRhdGFEYXRlWyRpXVskdmFyaVZdICA9ICAkZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDRkYXRhVGltZVskaV1bJHZhcmlWXSAgPSAkZHJvd1sndGltZSddOw0KCQkJCQkgLy8gIGVjaG8gImZpcnN0IHRpbWUgaGVyZSI7DQoJCQkJCSAgIA0KCQkJCSAgICB9DQoJCQkJICAgDQoJCQkJICRwbHQxPWRhdGUoIkguaS5zIixzdHJ0b3RpbWUoJysgJy4kaW50ZXJ2YWwuJ21pbnV0ZXMnLHN0cnRvdGltZSgkZHRpbWVbJGldKSkpOwkNCgkJCQkgDQoJCQkJICAgLy9lY2hvICI8YnI+aGhoaCIuJHBsdDE7DQoJCQkJICAgaWYoJHBsdDEgPCAkZHRpbWVbJGldICkNCgkJCQkgICB7DQoJCQkJCSAgIA0KCQkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgIC8vZWNobyAkb3JnRGF0ZTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8iPGJyPiIuDQoJCQkJCSAgIC8vZWNobyAiaWZzc3MiOw0KCQkJCSAgIH0NCgkJCQkgICBlbHNlDQoJCQkJICAgew0KCQkJCQkgICAkcGx0ID0gJHBsdDE7DQoJCQkJCSAgLy8gZWNobyAiZWxzZSI7DQoJCQkJICAgfQ0KCQkJCSAgIA0KCQkJCSAgDQoJCQkJICAgDQoJCQkgIH0NCgkJCSAgZWxzZXsNCgkJCQkgICAgJGNjKys7DQoJCQkJICAvLyBlY2hvICJuZWVyIGhlcmUiLiRjYzsNCgkJCQkgICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvICI8YnI+Ii4kb3JnRGF0ZTsNCgkJCQkJICAgY29udGludWU7DQoJCQkgICB9DQoJCQkgIC8vIGVjaG8gIjxicj5pIGFtIGhpdHRpbmcgaGVyZSA8YnI+Ii4kb3JnRGF0ZTsgDQoJCQkgICAkdmFyaVYrKzsNCgkJCSAgDQoJCSAgICAgICAgICAvL3doaWxlIGxvb3BlZCBtYWluIG9mIGRhdGUgY29uZGl0aW9uDQp9DQoJCQkgICANCgkJCQkJCQ0KCSAgICAgICAgICAgIA0KCQ0KCQ0KCQ0KCQ0KfSAgIC8vIE5PIG9mIGRldmljZSBjb3VudHM7DQoNCn0gIC8vcDRlbHNlIGVuZHMNCgkNCgkNCgkNCgkvKiAgICAgICAgICAgICAgIHA0ICAgICAgZW5kcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KCQkvKiAgICAgICAgICAgICAgIHA1ICAgICAgc3RhcnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCgkJDQoJCQ0KCQkNCgkJDQoJCSRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxNycgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQNT1hcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpOw0KICAkY29tcGFyZWROYW1lUDU9YXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDU7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDV2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDVkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJCQ0KCQkNCgkJDQoJIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzE3JyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMTcnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDV2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHA1ZGF0YURhdGVbJGldWyR2YXJpVl0gID0gICRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwNWRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9IAkNCgkJDQp9ICAvL3A1IGVsc2UgZW5kcwkNCgkJDQoJCQ0KCS8qICAgICAgICAgICAgICAgcDUgICAgICBlbmRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCQ0KCQkNCgkJDQoJCQ0KCQkNCi8qICAgICAgICAgICAgICAgcDYgICAgICBzdGFydCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCiRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScxOCcgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQNj1hcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpOw0KICAkY29tcGFyZWROYW1lUDY9YXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDU7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDZ2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDZkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoNCg0KDQogZm9yKCRpPTA7JGk8Y291bnQoJGRhcnIpOyRpKyspICAgICAgLy9sb29wIGZvciBubyBvZiBkZXZpY2UgIENoYW5nZSBIZXJlDQp7DQoNCg0KDQoJDQoJJG9yZ0RhdGU9JG5ld19kYXRlRnJvbTsNCgkkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KCQ0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoNCiRkYXRlY291bnRlcj0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCiRwbHQ9JzAwLjAwLjAwJzsNCiR2YXJpVj0wOw0KICRjYz0wOw0KIA0Kd2hpbGUoJG9yZ0RhdGUgPD0gJHRvZGF0ZSl7DQokY3RmbGFnMT0wOw0KICRjdGZsYWcyPTA7DQovLyBlY2hvICI8YnI+Ii4kdG9kYXRlLiI8YnI+Ii4kb3JnRGF0ZS4iPGJyPiI7DQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoNCgkgICAgICAgICAvL2VjaG8gIjxicj5Ub3AiLiRwbHQ7DQoJCQkgDQoJCQkgDQoJCQkgICRkYXRlZXg9InNlbGVjdCBkYXRlLHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCBwY29kZT0nMTgnIA0KDQoNCiAgICAgICAgICAJCQlhbmQgZGF0ZSA9JyRvcmdEYXRlJyI7DQoJCQkJCQ0KCQkJCQkkZXhyZXM9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkYXRlZXgpOw0KCQkJCQkNCgkJCQkJDQoJCQkJCWlmKG15c3FsaV9udW1fcm93cygkZXhyZXMpKQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gImF0bGVhc3QiOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJLy9lY2hvICI8YnI+Z2V0dG9rbm93IjsNCgkJCQkJCSRjdGZsYWcxPTE7DQoJCQkJCX0NCgkJCSAgICAgDQoJCQkJICBpZigkY3RmbGFnMSA9PSAxKQ0KCQkJCSAgew0KCQkJCQkgIC8vZWNobyAiPGJyPmZsYWdzIjsNCgkJCQkJICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgY29udGludWU7DQoJCQkJICB9DQoJCQkgDQoJCQkgDQoJCQkgDQoJICAgICAgICAgICAkZHNxbD0gInNlbGVjdCBkYXRlLHZhbHVlLHRpbWUgZnJvbSBsaXZkZXYgDQoJCQkgICB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgdGltZSA+ICckcGx0JyBhbmQgZGF0ZSA9JyRvcmdEYXRlJw0KCQkJICAgYW5kIHBjb2RlPScxOCcgb3JkZXIgYnkgDQoJCQkgICBkYXRlLHRpbWUgQVNDIGxpbWl0IDEiOw0KCQkJICAgJGRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkc3FsKTsNCgkJCSAvLyAgZWNobyAiPGJyPiIuJGRzcWw7DQoJCQkgIA0KCQkJICAgaWYobXlzcWxpX251bV9yb3dzKCRkcmVzdWx0KSA9PSAxKQ0KCQkJICAgew0KCQkJCSAgIA0KCQkJCSAgLy8gZWNobyAic3VjY2VzcyA8YnI+IjsNCgkJCQkgICB3aGlsZSgkZHJvdz1teXNxbGlfZmV0Y2hfYXNzb2MoJGRyZXN1bHQpKQ0KCQkJCSAgICB7ICAgDQoJCQkJCSAgDQoJCQkJCSAgIA0KCQkJCQkgICAvLyBlY2hvICI8YnI+Jm5ic3A7RGF0ZSZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyIuJGRyb3dbJ2RhdGUnXS4iJm5ic3A7DQoJCQkJCSAgIC8vICZuYnNwOyZuYnNwOyIuICRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIA0KCQkJCQkgICAkZHRpbWVbJGldPSRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIC8vZWNobyAkZHRpbWVbJGldOw0KCQkJCQkgICAkZGRheVskaV0gPSRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwNnZhbHVlc1skaV1bJHZhcmlWXSA9ICRkcm93Wyd2YWx1ZSddOw0KCQkJCQkgICAkcDZkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgJGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJHA2ZGF0YVRpbWVbJGldWyR2YXJpVl0gID0gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gICAvLyBOTyBvZiBkZXZpY2UgY291bnRzOw0KDQp9IC8vcDYgZW5kcyBlbHNlDQoNCg0KDQoNCg0KDQoNCi8qICAgICAgICAgICAgICAgcDYgICAgICBlbmRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQoNCg0KDQoNCi8qICAgICAgICAgICAgICAgcDcgICAgICBzdGFydCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCg0KJG5ld2xpc3Q9YXJyYXkoKTsNCiAgJG5ld2lkcz1hcnJheSgpOw0KICAkaW50ZXI9InNlbGVjdCBuYW1lLHVpZCBmcm9tIGRldmljZSB3aGVyZSBwY29kZSA9JzE5JyAiOw0KICAkaW5yZXN1bHQgPSBteXNxbGlfcXVlcnkoJGNvbm5lY3Rpb24sJGludGVyKTsNCiAgd2hpbGUoJHJvdyA9IG15c3FsaV9mZXRjaF9hc3NvYygkaW5yZXN1bHQpKQ0KICB7DQoJICBhcnJheV9wdXNoKCRuZXdsaXN0LCRyb3dbJ25hbWUnXSk7DQoJICAgYXJyYXlfcHVzaCgkbmV3aWRzLCRyb3dbJ3VpZCddKTsNCgkgIA0KCSAgDQogIH0NCiAgDQogIA0KICAkY29tcGFyZWRJZFA3PWFycmF5X2ludGVyc2VjdCgkZGV2aWNlSWQsJG5ld2lkcyk7DQogICRjb21wYXJlZE5hbWVQNz1hcnJheV9pbnRlcnNlY3QoJG5hbWVvZmRldmljZSwkbmV3bGlzdCk7DQogIA0KICAgICAgICAgDQokZGFycj1hcnJheSgpOw0KJGRhcnI9JGNvbXBhcmVkSWRQNTsgIAkNCg0KaWYgKGNvdW50KCRkYXJyKSA9PSAwKQ0Kew0KCSRwN3ZhbHVlcyA9IGFycmF5KDApOw0KCSRwN2RhdGFUaW1lID0gYXJyYXkoMCk7DQoJDQp9DQoNCg0KZWxzZXsNCgkNCg0KDQogZm9yKCRpPTA7JGk8Y291bnQoJGRhcnIpOyRpKyspICAgICAgLy9sb29wIGZvciBubyBvZiBkZXZpY2UgIENoYW5nZSBIZXJlDQp7DQoNCg0KDQoJDQoJJG9yZ0RhdGU9JG5ld19kYXRlRnJvbTsNCgkkdG9kYXRlPSRuZXdfZGF0ZVRvOw0KCQ0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoNCiRkYXRlY291bnRlcj0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCiRwbHQ9JzAwLjAwLjAwJzsNCiR2YXJpVj0wOw0KICRjYz0wOw0KIA0Kd2hpbGUoJG9yZ0RhdGUgPD0gJHRvZGF0ZSl7DQokY3RmbGFnMT0wOw0KICRjdGZsYWcyPTA7DQovLyBlY2hvICI8YnI+Ii4kdG9kYXRlLiI8YnI+Ii4kb3JnRGF0ZS4iPGJyPiI7DQoJDQoJJGRhdGUgPSBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdCgnWS5tLmQnLCAkb3JnRGF0ZSk7DQoNCgkgICAgICAgICAvL2VjaG8gIjxicj5Ub3AiLiRwbHQ7DQoJCQkgDQoJCQkgDQoJCQkgICRkYXRlZXg9InNlbGVjdCBkYXRlLHZhbHVlIGZyb20gbGl2ZGV2IHdoZXJlIGRldmlkPSckZGFyclskaV0nIGFuZCBwY29kZT0nMTknIA0KDQoNCiAgICAgICAgICAJCQlhbmQgZGF0ZSA9JyRvcmdEYXRlJyI7DQoJCQkJCQ0KCQkJCQkkZXhyZXM9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkYXRlZXgpOw0KCQkJCQkNCgkJCQkJDQoJCQkJCWlmKG15c3FsaV9udW1fcm93cygkZXhyZXMpKQ0KCQkJCQl7DQoJCQkJCQkvL2VjaG8gImF0bGVhc3QiOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJLy9lY2hvICI8YnI+Z2V0dG9rbm93IjsNCgkJCQkJCSRjdGZsYWcxPTE7DQoJCQkJCX0NCgkJCSAgICAgDQoJCQkJICBpZigkY3RmbGFnMSA9PSAxKQ0KCQkJCSAgew0KCQkJCQkgIC8vZWNobyAiPGJyPmZsYWdzIjsNCgkJCQkJICAkZGF0ZS0+YWRkKG5ldyBEYXRlSW50ZXJ2YWwoJ1AxRCcpKTsNCgkJCQkJICAgJG9yZ0RhdGU9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQoJCQkJCSAgY29udGludWU7DQoJCQkJICB9DQoJCQkgDQoJCQkgDQoJCQkgDQoJICAgICAgICAgICAkZHNxbD0gInNlbGVjdCBkYXRlLHZhbHVlLHRpbWUgZnJvbSBsaXZkZXYgDQoJCQkgICB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgdGltZSA+ICckcGx0JyBhbmQgZGF0ZSA9JyRvcmdEYXRlJw0KCQkJICAgYW5kIHBjb2RlPScxOScgb3JkZXIgYnkgDQoJCQkgICBkYXRlLHRpbWUgQVNDIGxpbWl0IDEiOw0KCQkJICAgJGRyZXN1bHQ9bXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRkc3FsKTsNCgkJCSAvLyAgZWNobyAiPGJyPiIuJGRzcWw7DQoJCQkgIA0KCQkJICAgaWYobXlzcWxpX251bV9yb3dzKCRkcmVzdWx0KSA9PSAxKQ0KCQkJICAgew0KCQkJCSAgIA0KCQkJCSAgLy8gZWNobyAic3VjY2VzcyA8YnI+IjsNCgkJCQkgICB3aGlsZSgkZHJvdz1teXNxbGlfZmV0Y2hfYXNzb2MoJGRyZXN1bHQpKQ0KCQkJCSAgICB7ICAgDQoJCQkJCSAgDQoJCQkJCSAgIA0KCQkJCQkgICAvLyBlY2hvICI8YnI+Jm5ic3A7RGF0ZSZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyIuJGRyb3dbJ2RhdGUnXS4iJm5ic3A7DQoJCQkJCSAgIC8vICZuYnNwOyZuYnNwOyIuICRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIA0KCQkJCQkgICAkZHRpbWVbJGldPSRkcm93Wyd0aW1lJ107DQoJCQkJCSAgIC8vZWNobyAkZHRpbWVbJGldOw0KCQkJCQkgICAkZGRheVskaV0gPSRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwN3ZhbHVlc1skaV1bJHZhcmlWXSA9ICRkcm93Wyd2YWx1ZSddOw0KCQkJCQkgICAkcDdkYXRhRGF0ZVskaV1bJHZhcmlWXSAgPSAgJGRyb3dbJ2RhdGUnXTsNCgkJCQkJICAgJHA3ZGF0YVRpbWVbJGldWyR2YXJpVl0gID0gJGRyb3dbJ3RpbWUnXTsNCgkJCQkJIC8vICBlY2hvICJmaXJzdCB0aW1lIGhlcmUiOw0KCQkJCQkgICANCgkJCQkgICAgfQ0KCQkJCSAgIA0KCQkJCSAkcGx0MT1kYXRlKCJILmkucyIsc3RydG90aW1lKCcrICcuJGludGVydmFsLidtaW51dGVzJyxzdHJ0b3RpbWUoJGR0aW1lWyRpXSkpKTsJDQoJCQkJIA0KCQkJCSAgIC8vZWNobyAiPGJyPmhoaGgiLiRwbHQxOw0KCQkJCSAgIGlmKCRwbHQxIDwgJGR0aW1lWyRpXSApDQoJCQkJICAgew0KCQkJCQkgICANCgkJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAvL2VjaG8gJG9yZ0RhdGU7DQoJCQkJCSAgICRwbHQ9JzAwLjAwLjAwJzsNCgkJCQkJICAgLy9lY2hvIjxicj4iLg0KCQkJCQkgICAvL2VjaG8gImlmc3NzIjsNCgkJCQkgICB9DQoJCQkJICAgZWxzZQ0KCQkJCSAgIHsNCgkJCQkJICAgJHBsdCA9ICRwbHQxOw0KCQkJCQkgIC8vIGVjaG8gImVsc2UiOw0KCQkJCSAgIH0NCgkJCQkgICANCgkJCQkgIA0KCQkJCSAgIA0KCQkJICB9DQoJCQkgIGVsc2V7DQoJCQkJICAgICRjYysrOw0KCQkJCSAgLy8gZWNobyAibmVlciBoZXJlIi4kY2M7DQoJCQkJICAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyAiPGJyPiIuJG9yZ0RhdGU7DQoJCQkJCSAgIGNvbnRpbnVlOw0KCQkJICAgfQ0KCQkJICAvLyBlY2hvICI8YnI+aSBhbSBoaXR0aW5nIGhlcmUgPGJyPiIuJG9yZ0RhdGU7IA0KCQkJICAgJHZhcmlWKys7DQoJCQkgIA0KCQkgICAgICAgICAgLy93aGlsZSBsb29wZWQgbWFpbiBvZiBkYXRlIGNvbmRpdGlvbg0KfQ0KCQkJICAgDQoJCQkJCQkNCgkgICAgICAgICAgICANCgkNCgkNCgkNCgkNCn0gICAvLyBOTyBvZiBkZXZpY2UgY291bnRzOw0KDQp9ICAvL3A3IGVsc2UgZW5kcw0KDQovKiAgICAgICAgICAgICAgIHA3ICAgICAgZW5kcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCg0KDQovKiAgICAgICAgICAgICAgIHA4ICAgICAgZW5kcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KDQoNCg0KDQoNCiRuZXdsaXN0PWFycmF5KCk7DQogICRuZXdpZHM9YXJyYXkoKTsNCiAgJGludGVyPSJzZWxlY3QgbmFtZSx1aWQgZnJvbSBkZXZpY2Ugd2hlcmUgcGNvZGUgPScyMCcgIjsNCiAgJGlucmVzdWx0ID0gbXlzcWxpX3F1ZXJ5KCRjb25uZWN0aW9uLCRpbnRlcik7DQogIHdoaWxlKCRyb3cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJGlucmVzdWx0KSkNCiAgew0KCSAgYXJyYXlfcHVzaCgkbmV3bGlzdCwkcm93WyduYW1lJ10pOw0KCSAgIGFycmF5X3B1c2goJG5ld2lkcywkcm93Wyd1aWQnXSk7DQoJICANCgkgIA0KICB9DQogIA0KICANCiAgJGNvbXBhcmVkSWRQOD1hcnJheV9pbnRlcnNlY3QoJGRldmljZUlkLCRuZXdpZHMpOw0KICAkY29tcGFyZWROYW1lUDg9YXJyYXlfaW50ZXJzZWN0KCRuYW1lb2ZkZXZpY2UsJG5ld2xpc3QpOw0KICANCiAgICAgICAgIA0KJGRhcnI9YXJyYXkoKTsNCiRkYXJyPSRjb21wYXJlZElkUDU7ICAJDQoNCmlmIChjb3VudCgkZGFycikgPT0gMCkNCnsNCgkkcDh2YWx1ZXMgPSBhcnJheSgwKTsNCgkkcDhkYXRhVGltZSA9IGFycmF5KDApOw0KCQ0KfQ0KDQoNCmVsc2V7DQoJDQoNCg0KIGZvcigkaT0wOyRpPGNvdW50KCRkYXJyKTskaSsrKSAgICAgIC8vbG9vcCBmb3Igbm8gb2YgZGV2aWNlICBDaGFuZ2UgSGVyZQ0Kew0KDQoNCg0KCQ0KCSRvcmdEYXRlPSRuZXdfZGF0ZUZyb207DQoJJHRvZGF0ZT0kbmV3X2RhdGVUbzsNCgkNCgkNCgkkZGF0ZSA9IERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCdZLm0uZCcsICRvcmdEYXRlKTsNCiRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KDQokZGF0ZWNvdW50ZXI9ICRkYXRlLT5mb3JtYXQoJ1kubS5kJyk7DQokcGx0PScwMC4wMC4wMCc7DQokdmFyaVY9MDsNCiAkY2M9MDsNCiANCndoaWxlKCRvcmdEYXRlIDw9ICR0b2RhdGUpew0KJGN0ZmxhZzE9MDsNCiAkY3RmbGFnMj0wOw0KLy8gZWNobyAiPGJyPiIuJHRvZGF0ZS4iPGJyPiIuJG9yZ0RhdGUuIjxicj4iOw0KCQ0KCSRkYXRlID0gRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJ1kubS5kJywgJG9yZ0RhdGUpOw0KDQoJICAgICAgICAgLy9lY2hvICI8YnI+VG9wIi4kcGx0Ow0KCQkJIA0KCQkJIA0KCQkJICAkZGF0ZWV4PSJzZWxlY3QgZGF0ZSx2YWx1ZSBmcm9tIGxpdmRldiB3aGVyZSBkZXZpZD0nJGRhcnJbJGldJyBhbmQgcGNvZGU9JzIwJyANCg0KDQogICAgICAgICAgCQkJYW5kIGRhdGUgPSckb3JnRGF0ZSciOw0KCQkJCQkNCgkJCQkJJGV4cmVzPW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZGF0ZWV4KTsNCgkJCQkJDQoJCQkJCQ0KCQkJCQlpZihteXNxbGlfbnVtX3Jvd3MoJGV4cmVzKSkNCgkJCQkJew0KCQkJCQkJLy9lY2hvICJhdGxlYXN0IjsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCS8vZWNobyAiPGJyPmdldHRva25vdyI7DQoJCQkJCQkkY3RmbGFnMT0xOw0KCQkJCQl9DQoJCQkgICAgIA0KCQkJCSAgaWYoJGN0ZmxhZzEgPT0gMSkNCgkJCQkgIHsNCgkJCQkJICAvL2VjaG8gIjxicj5mbGFncyI7DQoJCQkJCSAgJGRhdGUtPmFkZChuZXcgRGF0ZUludGVydmFsKCdQMUQnKSk7DQoJCQkJCSAgICRvcmdEYXRlPSAkZGF0ZS0+Zm9ybWF0KCdZLm0uZCcpOw0KCQkJCQkgIGNvbnRpbnVlOw0KCQkJCSAgfQ0KCQkJIA0KCQkJIA0KCQkJIA0KCSAgICAgICAgICAgJGRzcWw9ICJzZWxlY3QgZGF0ZSx2YWx1ZSx0aW1lIGZyb20gbGl2ZGV2IA0KCQkJICAgd2hlcmUgZGV2aWQ9JyRkYXJyWyRpXScgYW5kIHRpbWUgPiAnJHBsdCcgYW5kIGRhdGUgPSckb3JnRGF0ZScNCgkJCSAgIGFuZCBwY29kZT0nMjAnIG9yZGVyIGJ5IA0KCQkJICAgZGF0ZSx0aW1lIEFTQyBsaW1pdCAxIjsNCgkJCSAgICRkcmVzdWx0PW15c3FsaV9xdWVyeSgkY29ubmVjdGlvbiwkZHNxbCk7DQoJCQkgLy8gIGVjaG8gIjxicj4iLiRkc3FsOw0KCQkJICANCgkJCSAgIGlmKG15c3FsaV9udW1fcm93cygkZHJlc3VsdCkgPT0gMSkNCgkJCSAgIHsNCgkJCQkgICANCgkJCQkgIC8vIGVjaG8gInN1Y2Nlc3MgPGJyPiI7DQoJCQkJICAgd2hpbGUoJGRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRkcmVzdWx0KSkNCgkJCQkgICAgeyAgIA0KCQkJCQkgIA0KCQkJCQkgICANCgkJCQkJICAgLy8gZWNobyAiPGJyPiZuYnNwO0RhdGUmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLiRkcm93WydkYXRlJ10uIiZuYnNwOw0KCQkJCQkgICAvLyAmbmJzcDsmbmJzcDsiLiAkZHJvd1sndGltZSddOw0KCQkJCQkgICANCgkJCQkJICAgJGR0aW1lWyRpXT0kZHJvd1sndGltZSddOw0KCQkJCQkgICAvL2VjaG8gJGR0aW1lWyRpXTsNCgkJCQkJICAgJGRkYXlbJGldID0kZHJvd1snZGF0ZSddOw0KCQkJCQkgICAkcDh2YWx1ZXNbJGldWyR2YXJpVl0gPSAkZHJvd1sndmFsdWUnXTsNCgkJCQkJICAgJHA4ZGF0YURhdGVbJGldWyR2YXJpVl0gID0gICRkcm93WydkYXRlJ107DQoJCQkJCSAgICRwOGRhdGFUaW1lWyRpXVskdmFyaVZdICA9ICRkcm93Wyd0aW1lJ107DQoJCQkJCSAvLyAgZWNobyAiZmlyc3QgdGltZSBoZXJlIjsNCgkJCQkJICAgDQoJCQkJICAgIH0NCgkJCQkgICANCgkJCQkgJHBsdDE9ZGF0ZSgiSC5pLnMiLHN0cnRvdGltZSgnKyAnLiRpbnRlcnZhbC4nbWludXRlcycsc3RydG90aW1lKCRkdGltZVskaV0pKSk7CQ0KCQkJCSANCgkJCQkgICAvL2VjaG8gIjxicj5oaGhoIi4kcGx0MTsNCgkJCQkgICBpZigkcGx0MSA8ICRkdGltZVskaV0gKQ0KCQkJCSAgIHsNCgkJCQkJICAgDQoJCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgLy9lY2hvICRvcmdEYXRlOw0KCQkJCQkgICAkcGx0PScwMC4wMC4wMCc7DQoJCQkJCSAgIC8vZWNobyI8YnI+Ii4NCgkJCQkJICAgLy9lY2hvICJpZnNzcyI7DQoJCQkJICAgfQ0KCQkJCSAgIGVsc2UNCgkJCQkgICB7DQoJCQkJCSAgICRwbHQgPSAkcGx0MTsNCgkJCQkJICAvLyBlY2hvICJlbHNlIjsNCgkJCQkgICB9DQoJCQkJICAgDQoJCQkJICANCgkJCQkgICANCgkJCSAgfQ0KCQkJICBlbHNlew0KCQkJCSAgICAkY2MrKzsNCgkJCQkgIC8vIGVjaG8gIm5lZXIgaGVyZSIuJGNjOw0KCQkJCSAgICRkYXRlLT5hZGQobmV3IERhdGVJbnRlcnZhbCgnUDFEJykpOw0KCQkJCQkgICAkb3JnRGF0ZT0gJGRhdGUtPmZvcm1hdCgnWS5tLmQnKTsNCgkJCQkJICAgJHBsdD0nMDAuMDAuMDAnOw0KCQkJCQkgICAvL2VjaG8gIjxicj4iLiRvcmdEYXRlOw0KCQkJCQkgICBjb250aW51ZTsNCgkJCSAgIH0NCgkJCSAgLy8gZWNobyAiPGJyPmkgYW0gaGl0dGluZyBoZXJlIDxicj4iLiRvcmdEYXRlOyANCgkJCSAgICR2YXJpVisrOw0KCQkJICANCgkJICAgICAgICAgIC8vd2hpbGUgbG9vcGVkIG1haW4gb2YgZGF0ZSBjb25kaXRpb24NCn0NCgkJCSAgIA0KCQkJCQkJDQoJICAgICAgICAgICAgDQoJDQoJDQoJDQoJDQp9ICAgLy8gTk8gb2YgZGV2aWNlIGNvdW50czsNCg0KfSAvLyBwOCAgZWxzZSBlbmRzDQoNCi8qICAgICAgICAgICAgICAgcDggICAgIGVuZHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCg0KDQoNCg0KDQogDQo/Pg0KPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiA8aDIgY2xhc3M9J2NlbnRlcic+R3JhcGggUmVwb3J0PC9oMj4NCiA8L2Rpdj4NCjxkaXYgY2xhc3M9J2dsb2JhbC1jb250YWluJz4NCiAgIA0KPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjExIiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KDQogICAgPC9kaXY+DQoJDQoJDQoJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxMiIgIGNsYXNzPSdoaWRlcyc+PC9jYW52YXM+DQoJICANCiAgICA8L2Rpdj4NCgkNCgkNCgkNCgkJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxMyIgY2xhc3M9J2hpZGVzJz48L2NhbnZhcz4NCgkgIA0KICAgIDwvZGl2Pg0KCQ0KCQ0KCQkgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjE0IiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KCSAgDQogICAgPC9kaXY+DQoJDQoJCSA8ZGl2IGNsYXNzPSJjaGFydC1jb250YWluZXIiPg0KICAgICAgPGNhbnZhcyBpZD0iMTUiIGNsYXNzPSdoaWRlcyc+PC9jYW52YXM+DQoJICANCiAgICA8L2Rpdj4NCgkNCgkJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxNiIgY2xhc3M9J2hpZGVzJz48L2NhbnZhcz4NCgkgIA0KICAgIDwvZGl2Pg0KCQ0KCQkgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjE3IiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KCSAgDQogICAgPC9kaXY+DQoJDQoJCSA8ZGl2IGNsYXNzPSJjaGFydC1jb250YWluZXIiPg0KICAgICAgPGNhbnZhcyBpZD0iMTgiIGNsYXNzPSdoaWRlcyc+PC9jYW52YXM+DQoJICANCiAgICA8L2Rpdj4NCgkNCgkJIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciI+DQogICAgICA8Y2FudmFzIGlkPSIxOSIgY2xhc3M9J2hpZGVzJz48L2NhbnZhcz4NCgkgIA0KICAgIDwvZGl2Pg0KCQ0KCQ0KCQkgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4NCiAgICAgIDxjYW52YXMgaWQ9IjIwIiBjbGFzcz0naGlkZXMnPjwvY2FudmFzPg0KCSAgDQogICAgPC9kaXY+DQoJDQoJDQoJDQoJDQoJPC9kaXY+DQoJPGRpdiBjbGFzcz0nc2lnbic+DQoJICAgIA0KPGgyPlJlbWFyazo8L2gyPjx0ZXh0YXJlYSAgcm93cz0iNCIgY29scz0iNTAiPiAgPC90ZXh0YXJlYSA+CQ0KDQo8aDU+PGk+RGlnaXRhbCBTaWduYXR1cmU8L2k+CTwvaDU+DQoNCjxiPiA8dT48P3BocCBlY2hvICRuYW1lb2Z1c2VyOyA/PjwvdT4mbmJzcDsoPD9waHAgZWNobyAkZ2xvdXNlcm5hbWU7ID8+ICkgIC48YnI+IA0KPHU+PD9waHAgZWNobyAkZGVzaTsgPz4sPD9waHAgZWNobyAkcm9sZTsgPz4gLDw/cGhwIGVjaG8gJGRlcGFydG1lbnQ7ID8+IDwvdT48L2I+DQoNCjxicj4NCg0KDQo8P3BocCBlY2hvICRwZGF0ZTsgPz4gfCA8P3BocCBlY2hvIGRhdGUoJ0guaScpOyA/PiBHTVQgKyA1LjMwPGJyPg0KPGJ1dHRvbiBjbGFzcz0nbG9nb2ltJyBvbmNsaWNrPSJwcmludG0oKSI+PGltZyBzcmM9J2ltZy9wcmludC5wbmcnIHdpZHRoPSc1MHB4JyBoZWlnaHQ9JzUwcHgnID48L2J1dHRvbj4NCg0KCQ0KCTwvZGl2Pg0KICAgIA0KICAgIDwhLS0gamF2YXNjcmlwdCAtLT4NCiAgICA8c2NyaXB0IHNyYz0idmVuZG9yL2pxdWVyeS9qcXVlcnkubWluLmpzIj48L3NjcmlwdD4NCgkNCgk8c2NyaXB0IHNyYz0idmVuZG9yL2NoYXJ0LmpzL0NoYXJ0Lm1pbi5qcyI+PC9zY3JpcHQ+DQoJPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vY2hhcnQuanNAMi44LjAiPjwvc2NyaXB0Pg0KCTxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8zLjUuMS9qcXVlcnkubWluLmpzIj48L3NjcmlwdD4NCgk8L2JvZHk+DQoJPC9odG1sPg0KCQ0KCQ0KCTxzY3JpcHQ+DQoJDQoJLy8gRGlzcGxheSBncmFwaCBtYWluIHN3aXRjdiBncmFwaHMNCgkNCgkkKCc6Y2hlY2tib3gnKS5jaGFuZ2UoJ2NsaWNrJyxmdW5jdGlvbigpew0KCQ0KCSQoJy5nbG9iYWwtY29udGFpbicpLnRvZ2dsZSgpOw0KCQ0KCX0pOw0KCQ0KCQ0KCQ0KCQ0KCSB2YXIgd2FudGFsYXJtID0gJzw/cGhwIGVjaG8gJHdhbnRhbGFybSA7ID8+JzsNCgkgIA0KCSAgaWYod2FudGFsYXJtID09ICdubycpDQoJICB7DQoJICAgICAvLyAkKCcuYWxhcm0nKS5oaWRlKCk7DQoJICAgICAgDQoJICAgICAgDQoJICB9DQoJDQoJDQoJDQoJDQoJCQkJdmFyIHBsaXN0PVtdOw0KCQkJCXBsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHBsaXN0KTsgPz47DQoJCQkJLy9jb25zb2xlLmxvZyhwbGlzdCk7DQoJCQkJdmFyIHVuaXF1ZU5hbWVzID0gW107DQoJCQkJDQoJCQkJDQoJCQkJJC5lYWNoKHBsaXN0LCBmdW5jdGlvbihpLCBlbCl7DQoJCQkJCWlmKCQuaW5BcnJheShlbCwgdW5pcXVlTmFtZXMpID09PSAtMSkgdW5pcXVlTmFtZXMucHVzaChlbCk7DQoJCQkJfSk7DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJdmFyIHRidmFsPVtdOw0KCQkJCXZhciB0YnRpbWU9W107DQoJCQkJdmFyIGNvbG9yc2FycmF5PVtdOw0KCQkJCXZhciBuYW1lbGlzdD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb21wYXJlZE5hbWVUKTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSB0YnZhbD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCR2YWx1ZXMpOyA/PjsNCgkJCQkgIHRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRkYXRhVGltZSk7ID8+Ow0KCQkJCSAgY29sb3JzYXJyYXk9IDw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbG9yc2FycmF5KTs/PjsNCgkJCQkgIA0KCQkJCSAgDQoJCQkJICBpZiAodGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgdGJ2YWwgPTA7DQoJCQkJICB9DQoJCQkJIA0KCQkJCSAgIGlmKHRidGltZSA9PT0gbnVsbCkNCgkJCQkgICANCgkJCQkgICB7DQoJCQkJICAgICAgIA0KCQkJCSAgICAgIHRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCS8vIGNvbnNvbGUubG9nKHRidGltZSk7DQoJCQkJIA0KCQkJCXZhciB2YWwgPSBbXTsNCiAgICAgICAgICAgICAgICB2YXIgdGltZXZhciA9IFtdOw0KCQkJCXZhciB2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQkvL2NvbnNvbGUubG9nKGVkYXRhKTsNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9LA0KDQp9Ow0KCQkJCQ0KICAgIAkJCXZhciBjaGFydGRhdGEgPSB7DQogICAgICAgIGxhYmVsczogdGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVUKTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogdGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQkgIHsNCgkJCSAgbGFiZWw6ICJyYW5nZSIsDQoJCQkgIA0KCQkJDQoJCQkgIA0KCQkJICANCgkJICB9DQogICAgICAgICAgDQogICAgICAgIF0sDQoJCQ0KICAgICAgfTsNCgkgIA0KCSAgDQoJICANCgkgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgRU5EIG9mIFRFTVAgICAgICAgICAqLw0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBUlQgb2YgSFVNSURJVFkgICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBodGJ2YWw9W107DQoJCQkJdmFyIGh0YnRpbWU9W107DQoJCQkJdmFyIGNvbG9yc2FycmF5PVtdOw0KCQkJCXZhciBuYW1lbGlzdD08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb21wYXJlZE5hbWVIKTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSBodGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkaHZhbHVlcyk7ID8+Ow0KCQkJCSAgaHRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRoZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgIGlmIChodGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgaHRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihodGJ0aW1lID09PSBudWxsKQ0KCQkJCSAgIA0KCQkJCSAgIHsNCgkJCQkgICAgICAgDQoJCQkJICAgICAgaHRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCS8vIGNvbnNvbGUubG9nKGh0YnRpbWUpOw0KCQkJCSANCgkJCQl2YXIgaHZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBodGltZXZhciA9IFtdOw0KCQkJCXZhciBodmFsMj1bXTsNCgkJCQkNCgkJCQ0KCQkJCQ0KCQ0KCSAgDQoJICANCgkgIA0KCSAgDQoJCQkJLy9jb25zb2xlLmxvZyhlZGF0YSk7DQoJCQkJdmFyIG9wdGlvbnMgPSB7DQogIGJlemllckN1cnZlIDogZmFsc2UsDQogIGFuaW1hdGlvbjogew0KICAgIG9uQ29tcGxldGU6IGRvbmUNCiAgfQ0KfTsNCgkJCQkNCiAgICAJCQl2YXIgY2hhcnRkYXRhMiA9IHsNCiAgICAgICAgbGFiZWxzOiBodGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVIKTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogaHRidmFsWycuJG4uJ10NCgkJCS8vYmV6aWVyQ3VydmUgOiBmYWxzZQ0KCQkJDQogICAgICAgICAgfSwnOyANCgkJfSAgPz4NCgkJICB7DQoJCQkgIGxhYmVsOiAicmFuZ2UiLA0KCQkJICANCgkJCQ0KCQkJICANCgkJCSAgDQoJCSAgfQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgSFVNSURUWSAgICAgICAgICovDQoNCg0KCSAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHAxICAgICAgICAgKi8NCg0KDQoNCg0KCSAgDQoJICAgICAgICAgICAgICB2YXIgcDF0YnZhbD1bXTsNCgkJCQl2YXIgcDFidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVAxKTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSBwMXRidmFsPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHAxdmFsdWVzKTsgPz47DQoJCQkJICBwMXRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwMWRhdGFUaW1lKTsgPz47DQoJCQkJICBjb2xvcnNhcnJheT0gPD9waHAgZWNobyBqc29uX2VuY29kZSgkY29sb3JzYXJyYXkpOz8+Ow0KCQkJCSAgDQoJCQkJICBpZiAocDF0YnZhbCA9PT0gbnVsbCkNCgkJCQkgIHsNCgkJCQkgICAgICBwMXRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihwMXRidGltZSA9PT0gbnVsbCkNCgkJCQkgICANCgkJCQkgICB7DQoJCQkJICAgICAgIA0KCQkJCSAgICAgIHAxdGJ0aW1lPTA7IA0KCQkJCSAgIH0NCgkJCQkgDQoJCQkJLy8gY29uc29sZS5sb2coaHRidGltZSk7DQoJCQkJIA0KCQkJCXZhciBwMXZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBwMXRpbWV2YXIgPSBbXTsNCgkJCQl2YXIgcDF2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQkvL2NvbnNvbGUubG9nKGVkYXRhKTsNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9DQp9Ow0KCQkJDQpjb25zb2xlLmxvZyhwMXRidmFsKTsJCQkNCiAgICAJCQl2YXIgY2hhcnRkYXRhMyA9IHsNCiAgICAgICAgbGFiZWxzOiBwMXRidGltZVswXSwNCgkJDQoJCQ0KICAgICAgICBkYXRhc2V0czogWw0KICAgICAgICA8P3BocCBmb3IoJG49MDskbjxjb3VudCgkY29tcGFyZWROYW1lUDEpOyRuKyspeyBlY2hvICd7DQogICAgICAgICAgICBsYWJlbDogbmFtZWxpc3RbJy4kbi4nXSwNCiAgICAgICAgICAgIGZpbGw6IGZhbHNlLA0KICAgICAgICAgICAgbGluZVRlbnNpb246IDAuMQksDQogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBkYXRhOiBwMXRidmFsWycuJG4uJ10NCgkJCS8vYmV6aWVyQ3VydmUgOiBmYWxzZQ0KCQkJDQogICAgICAgICAgfSwnOyANCgkJfSAgPz4NCgkJICB7DQoJCQkgIGxhYmVsOiAicmFuZ2UiLA0KCQkJICANCgkJCQ0KCQkJICANCgkJCSAgDQoJCSAgfQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgcDEgICAgICAgICAqLw0KDQoJICAgDQoJICANCgkgIA0KCSAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHAyICAgICAgICAgKi8NCg0KDQoNCg0KCSAgDQoJICAgICAgICAgICAgICB2YXIgcDJ0YnZhbD1bXTsNCgkJCQl2YXIgcDJidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVAyKTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSBwMnRidmFsPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHAydmFsdWVzKTsgPz47DQoJCQkJICBwMnRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwMmRhdGFUaW1lKTsgPz47DQoJCQkJICBjb2xvcnNhcnJheT0gPD9waHAgZWNobyBqc29uX2VuY29kZSgkY29sb3JzYXJyYXkpOz8+Ow0KCQkJCSAgDQoJCQkJICAgaWYgKHAydGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDJ0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDJ0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwMnRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCS8vIGNvbnNvbGUubG9nKGh0YnRpbWUpOw0KCQkJCSANCgkJCQl2YXIgcDJ2YWwgPSBbXTsNCiAgICAgICAgICAgICAgICB2YXIgcDJ0aW1ldmFyID0gW107DQoJCQkJdmFyIHAydmFsMj1bXTsNCgkJCQkNCgkJCQ0KCQkJCQ0KCQ0KCSAgDQoJICANCgkgIA0KCSAgDQoJCQkJLy9jb25zb2xlLmxvZyhlZGF0YSk7DQoJCQkJdmFyIG9wdGlvbnMgPSB7DQogIGJlemllckN1cnZlIDogZmFsc2UsDQogIGFuaW1hdGlvbjogew0KICAgIG9uQ29tcGxldGU6IGRvbmUNCiAgfQ0KfTsNCgkJCQ0KY29uc29sZS5sb2cocDJ0YnZhbCk7CQkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTQgPSB7DQogICAgICAgIGxhYmVsczogcDJ0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVAyKTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDJ0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJCSAgew0KCQkJICBsYWJlbDogInJhbmdlIiwNCgkJCSAgDQoJCQkNCgkJCSAgDQoJCQkgIA0KCQkgIH0NCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIHAyICAgICAgICAgKi8NCgkgICANCgkgICANCgkgICANCgkgICANCgkgICANCgkgICANCgkgICANCgkgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHAzICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwM3RidmFsPVtdOw0KCQkJCXZhciBwM2J0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDMpOyA/PjsNCgkJCQkNCgkJCQkgLy9jb25zb2xlLmxvZyhuYW1lbGlzdCk7DQoJCQkJIHAzdGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDN2YWx1ZXMpOyA/PjsNCgkJCQkgIHAzdGJ0aW1lPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHAzZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgIGlmIChwM3RidmFsID09PSBudWxsKQ0KCQkJCSAgew0KCQkJCSAgICAgIHAzdGJ2YWwgPTA7DQoJCQkJICB9DQoJCQkJIA0KCQkJCSAgIGlmKHAzdGJ0aW1lID09PSBudWxsKQ0KCQkJCSAgIA0KCQkJCSAgIHsNCgkJCQkgICAgICAgDQoJCQkJICAgICAgcDN0YnRpbWU9MDsgDQoJCQkJICAgfQ0KCQkJCSANCgkJCQkgDQoJCQkJLy8gY29uc29sZS5sb2coaHRidGltZSk7DQoJCQkJIA0KCQkJCXZhciBwM3ZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBwM3RpbWV2YXIgPSBbXTsNCgkJCQl2YXIgcDN2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQkvL2NvbnNvbGUubG9nKGVkYXRhKTsNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9DQp9Ow0KCQkJDQpjb25zb2xlLmxvZyhwM3RidmFsKTsJCQkNCiAgICAJCQl2YXIgY2hhcnRkYXRhNSA9IHsNCiAgICAgICAgbGFiZWxzOiBwM3RidGltZVswXSwNCgkJDQoJCQ0KICAgICAgICBkYXRhc2V0czogWw0KICAgICAgICA8P3BocCBmb3IoJG49MDskbjxjb3VudCgkY29tcGFyZWROYW1lUDMpOyRuKyspeyBlY2hvICd7DQogICAgICAgICAgICBsYWJlbDogbmFtZWxpc3RbJy4kbi4nXSwNCiAgICAgICAgICAgIGZpbGw6IGZhbHNlLA0KICAgICAgICAgICAgbGluZVRlbnNpb246IDAuMQksDQogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBkYXRhOiBwM3RidmFsWycuJG4uJ10NCgkJCS8vYmV6aWVyQ3VydmUgOiBmYWxzZQ0KCQkJDQogICAgICAgICAgfSwnOyANCgkJfSAgPz4NCgkJICB7DQoJCQkgIGxhYmVsOiAicmFuZ2UiLA0KCQkJICANCgkJCQ0KCQkJICANCgkJCSAgDQoJCSAgfQ0KICAgICAgICAgIA0KICAgICAgICBdLA0KCQkNCiAgICAgIH07DQoJIA0KICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICBFTkQgT0YgcDMgICAgICAgICovDQoJICAgDQoJICAgDQoJICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTVEFSVCBvZiBwNCAgICAgICAgKi8NCg0KDQoNCg0KCSAgDQoJICAgICAgICAgICAgICB2YXIgcDR0YnZhbD1bXTsNCgkJCQl2YXIgcDRidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVA0KTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSBwNHRidmFsPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA0dmFsdWVzKTsgPz47DQoJCQkJICBwNHRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwNGRhdGFUaW1lKTsgPz47DQoJCQkJICBjb2xvcnNhcnJheT0gPD9waHAgZWNobyBqc29uX2VuY29kZSgkY29sb3JzYXJyYXkpOz8+Ow0KCQkJCSAgaWYgKHA0dGJ2YWwgPT09IG51bGwpDQoJCQkJICB7DQoJCQkJICAgICAgcDR0YnZhbCA9MDsNCgkJCQkgIH0NCgkJCQkgDQoJCQkJICAgaWYocDR0YnRpbWUgPT09IG51bGwpDQoJCQkJICAgDQoJCQkJICAgew0KCQkJCSAgICAgICANCgkJCQkgICAgICBwNHRidGltZT0wOyANCgkJCQkgICB9DQoJCQkJIA0KCQkJCSANCgkJCQkvLyBjb25zb2xlLmxvZyhodGJ0aW1lKTsNCgkJCQkgDQoJCQkJdmFyIHA0dmFsID0gW107DQogICAgICAgICAgICAgICAgdmFyIHA0dGltZXZhciA9IFtdOw0KCQkJCXZhciBwNHZhbDI9W107DQoJCQkJDQoJCQkNCgkJCQkNCgkNCgkgIA0KCSAgDQoJICANCgkgIA0KCQkJCS8vY29uc29sZS5sb2coZWRhdGEpOw0KCQkJCXZhciBvcHRpb25zID0gew0KICBiZXppZXJDdXJ2ZSA6IGZhbHNlLA0KICBhbmltYXRpb246IHsNCiAgICBvbkNvbXBsZXRlOiBkb25lDQogIH0NCn07DQoJCQkNCmNvbnNvbGUubG9nKHA0dGJ2YWwpOwkJCQ0KICAgIAkJCXZhciBjaGFydGRhdGE2ID0gew0KICAgICAgICBsYWJlbHM6IHA0dGJ0aW1lWzBdLA0KCQkNCgkJDQogICAgICAgIGRhdGFzZXRzOiBbDQogICAgICAgIDw/cGhwIGZvcigkbj0wOyRuPGNvdW50KCRjb21wYXJlZE5hbWVQNCk7JG4rKyl7IGVjaG8gJ3sNCiAgICAgICAgICAgIGxhYmVsOiBuYW1lbGlzdFsnLiRuLiddLA0KICAgICAgICAgICAgZmlsbDogZmFsc2UsDQogICAgICAgICAgICBsaW5lVGVuc2lvbjogMC4xCSwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIHBvaW50SG92ZXJCb3JkZXJDb2xvcjogY29sb3JzYXJyYXlbJy4kbi4nXSwNCiAgICAgICAgICAgIGRhdGE6IHA0dGJ2YWxbJy4kbi4nXQ0KCQkJLy9iZXppZXJDdXJ2ZSA6IGZhbHNlDQoJCQkNCiAgICAgICAgICB9LCc7IA0KCQl9ICA/Pg0KCQkgIHsNCgkJCSAgbGFiZWw6ICJyYW5nZSIsDQoJCQkgIA0KCQkJDQoJCQkgIA0KCQkJICANCgkJICB9DQogICAgICAgICAgDQogICAgICAgIF0sDQoJCQ0KICAgICAgfTsNCgkgDQogICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgIEVORCBPRiBwNCAgICAgICAgKi8NCgkgICANCgkgICANCgkgICANCgkgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHA1ICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwNXRidmFsPVtdOw0KCQkJCXZhciBwNWJ0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDUpOyA/PjsNCgkJCQkNCgkJCQkgLy9jb25zb2xlLmxvZyhuYW1lbGlzdCk7DQoJCQkJIHA1dGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDV2YWx1ZXMpOyA/PjsNCgkJCQkgIHA1dGJ0aW1lPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA1ZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICBpZiAocDV0YnZhbCA9PT0gbnVsbCkNCgkJCQkgIHsNCgkJCQkgICAgICBwNXRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihwNXRidGltZSA9PT0gbnVsbCkNCgkJCQkgICANCgkJCQkgICB7DQoJCQkJICAgICAgIA0KCQkJCSAgICAgIHA1dGJ0aW1lPTA7IA0KCQkJCSAgIH0NCgkJCQkgDQoJCQkJIA0KCQkJCS8vIGNvbnNvbGUubG9nKGh0YnRpbWUpOw0KCQkJCSANCgkJCQl2YXIgcDV2YWwgPSBbXTsNCiAgICAgICAgICAgICAgICB2YXIgcDV0aW1ldmFyID0gW107DQoJCQkJdmFyIHA1dmFsMj1bXTsNCgkJCQkNCgkJCQ0KCQkJCQ0KCQ0KCSAgDQoJICANCgkgIA0KCSAgDQoJCQkJLy9jb25zb2xlLmxvZyhlZGF0YSk7DQoJCQkJdmFyIG9wdGlvbnMgPSB7DQogIGJlemllckN1cnZlIDogZmFsc2UsDQogIGFuaW1hdGlvbjogew0KICAgIG9uQ29tcGxldGU6IGRvbmUNCiAgfQ0KfTsNCgkJCQ0KY29uc29sZS5sb2cocDV0YnZhbCk7CQkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTcgPSB7DQogICAgICAgIGxhYmVsczogcDV0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVA1KTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDV0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJCSAgew0KCQkJICBsYWJlbDogInJhbmdlIiwNCgkJCSAgDQoJCQkNCgkJCSAgDQoJCQkgIA0KCQkgIH0NCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIHA1ICAgICAgICovDQoJICAgDQoJICAgDQoJICAgDQoJICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTVEFSVCBvZiBwNiAgICAgICAgKi8NCg0KDQoNCg0KCSAgDQoJICAgICAgICAgICAgICB2YXIgcDZ0YnZhbD1bXTsNCgkJCQl2YXIgcDZidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVA2KTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSBwNnRidmFsPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA2dmFsdWVzKTsgPz47DQoJCQkJICBwNnRidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwNmRhdGFUaW1lKTsgPz47DQoJCQkJICBjb2xvcnNhcnJheT0gPD9waHAgZWNobyBqc29uX2VuY29kZSgkY29sb3JzYXJyYXkpOz8+Ow0KCQkJCSAgDQoJCQkJICBpZiAocDZ0YnZhbCA9PT0gbnVsbCkNCgkJCQkgIHsNCgkJCQkgICAgICBwNnRidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihwNnRidGltZSA9PT0gbnVsbCkNCgkJCQkgICANCgkJCQkgICB7DQoJCQkJICAgICAgIA0KCQkJCSAgICAgIHA2dGJ0aW1lPTA7IA0KCQkJCSAgIH0NCgkJCQkgDQoJCQkJIA0KCQkJCS8vIGNvbnNvbGUubG9nKGh0YnRpbWUpOw0KCQkJCSANCgkJCQl2YXIgcDZ2YWwgPSBbXTsNCiAgICAgICAgICAgICAgICB2YXIgcDZ0aW1ldmFyID0gW107DQoJCQkJdmFyIHA2dmFsMj1bXTsNCgkJCQkNCgkJCQ0KCQkJCQ0KCQ0KCSAgDQoJICANCgkgIA0KCSAgDQoJCQkJLy9jb25zb2xlLmxvZyhlZGF0YSk7DQoJCQkJdmFyIG9wdGlvbnMgPSB7DQogIGJlemllckN1cnZlIDogZmFsc2UsDQogIGFuaW1hdGlvbjogew0KICAgIG9uQ29tcGxldGU6IGRvbmUNCiAgfQ0KfTsNCgkJCQ0KY29uc29sZS5sb2cocDZ0YnZhbCk7CQkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTggPSB7DQogICAgICAgIGxhYmVsczogcDZ0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVA2KTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDZ0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJCSAgew0KCQkJICBsYWJlbDogInJhbmdlIiwNCgkJCSAgDQoJCQkNCgkJCSAgDQoJCQkgIA0KCQkgIH0NCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIHA2ICAgICAgICovDQoJICAgDQoJICAgDQoJICAgDQoJICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTVEFSVCBvZiBwNyAgICAgICAgKi8NCg0KDQoNCg0KCSAgDQoJICAgICAgICAgICAgICB2YXIgcDd0YnZhbD1bXTsNCgkJCQl2YXIgcDdidGltZT1bXTsNCgkJCQl2YXIgY29sb3JzYXJyYXk9W107DQoJCQkJdmFyIG5hbWVsaXN0PTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJGNvbXBhcmVkTmFtZVA3KTsgPz47DQoJCQkJDQoJCQkJIC8vY29uc29sZS5sb2cobmFtZWxpc3QpOw0KCQkJCSBwN3RidmFsPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA3dmFsdWVzKTsgPz47DQoJCQkJICBwN3RidGltZT08P3BocCBlY2hvIGpzb25fZW5jb2RlKCRwN2RhdGFUaW1lKTsgPz47DQoJCQkJICBjb2xvcnNhcnJheT0gPD9waHAgZWNobyBqc29uX2VuY29kZSgkY29sb3JzYXJyYXkpOz8+Ow0KCQkJCSAgDQoJCQkJICBpZiAocDd0YnZhbCA9PT0gbnVsbCkNCgkJCQkgIHsNCgkJCQkgICAgICBwN3RidmFsID0wOw0KCQkJCSAgfQ0KCQkJCSANCgkJCQkgICBpZihwN3RidGltZSA9PT0gbnVsbCkNCgkJCQkgICANCgkJCQkgICB7DQoJCQkJICAgICAgIA0KCQkJCSAgICAgIHA3dGJ0aW1lPTA7IA0KCQkJCSAgIH0NCgkJCQkgDQoJCQkJIA0KCQkJCS8vIGNvbnNvbGUubG9nKGh0YnRpbWUpOw0KCQkJCSANCgkJCQl2YXIgcDd2YWwgPSBbXTsNCiAgICAgICAgICAgICAgICB2YXIgcDd0aW1ldmFyID0gW107DQoJCQkJdmFyIHA3dmFsMj1bXTsNCgkJCQkNCgkJCQ0KCQkJCQ0KCQ0KCSAgDQoJICANCgkgIA0KCSAgDQoJCQkJLy9jb25zb2xlLmxvZyhlZGF0YSk7DQoJCQkJdmFyIG9wdGlvbnMgPSB7DQogIGJlemllckN1cnZlIDogZmFsc2UsDQogIGFuaW1hdGlvbjogew0KICAgIG9uQ29tcGxldGU6IGRvbmUNCiAgfQ0KfTsNCgkJCQ0KY29uc29sZS5sb2cocDd0YnZhbCk7CQkJDQogICAgCQkJdmFyIGNoYXJ0ZGF0YTkgPSB7DQogICAgICAgIGxhYmVsczogcDd0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVA3KTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDd0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJCSAgew0KCQkJICBsYWJlbDogInJhbmdlIiwNCgkJCSAgDQoJCQkNCgkJCSAgDQoJCQkgIA0KCQkgIH0NCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIHA3ICAgICAgICovDQoJICAgDQoJICAgDQoJICAgDQoJICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVJUIG9mIHA4ICAgICAgICAqLw0KDQoNCg0KDQoJICANCgkgICAgICAgICAgICAgIHZhciBwOHRidmFsPVtdOw0KCQkJCXZhciBwOGJ0aW1lPVtdOw0KCQkJCXZhciBjb2xvcnNhcnJheT1bXTsNCgkJCQl2YXIgbmFtZWxpc3Q9PD9waHAgZWNobyBqc29uX2VuY29kZSgkY29tcGFyZWROYW1lUDgpOyA/PjsNCgkJCQkNCgkJCQkgLy9jb25zb2xlLmxvZyhuYW1lbGlzdCk7DQoJCQkJIHA4dGJ2YWw9PD9waHAgZWNobyBqc29uX2VuY29kZSgkcDh2YWx1ZXMpOyA/PjsNCgkJCQkgIHA4dGJ0aW1lPTw/cGhwIGVjaG8ganNvbl9lbmNvZGUoJHA4ZGF0YVRpbWUpOyA/PjsNCgkJCQkgIGNvbG9yc2FycmF5PSA8P3BocCBlY2hvIGpzb25fZW5jb2RlKCRjb2xvcnNhcnJheSk7Pz47DQoJCQkJICANCgkJCQkgIGlmIChwOHRidmFsID09PSBudWxsKQ0KCQkJCSAgew0KCQkJCSAgICAgIHA4dGJ2YWwgPTA7DQoJCQkJICB9DQoJCQkJIA0KCQkJCSAgIGlmKHA4dGJ0aW1lID09PSBudWxsKQ0KCQkJCSAgIA0KCQkJCSAgIHsNCgkJCQkgICAgICAgDQoJCQkJICAgICAgcDh0YnRpbWU9MDsgDQoJCQkJICAgfQ0KCQkJCSANCgkJCQkgDQoJCQkJLy8gY29uc29sZS5sb2coaHRidGltZSk7DQoJCQkJIA0KCQkJCXZhciBwOHZhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBwOHRpbWV2YXIgPSBbXTsNCgkJCQl2YXIgcDh2YWwyPVtdOw0KCQkJCQ0KCQkJDQoJCQkJDQoJDQoJICANCgkgIA0KCSAgDQoJICANCgkJCQkvL2NvbnNvbGUubG9nKGVkYXRhKTsNCgkJCQl2YXIgb3B0aW9ucyA9IHsNCiAgYmV6aWVyQ3VydmUgOiBmYWxzZSwNCiAgYW5pbWF0aW9uOiB7DQogICAgb25Db21wbGV0ZTogZG9uZQ0KICB9DQp9Ow0KCQkJDQpjb25zb2xlLmxvZyhwOHRidmFsKTsJCQkNCiAgICAJCQl2YXIgY2hhcnRkYXRhMTAgPSB7DQogICAgICAgIGxhYmVsczogcDh0YnRpbWVbMF0sDQoJCQ0KCQkNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgPD9waHAgZm9yKCRuPTA7JG48Y291bnQoJGNvbXBhcmVkTmFtZVA4KTskbisrKXsgZWNobyAnew0KICAgICAgICAgICAgbGFiZWw6IG5hbWVsaXN0WycuJG4uJ10sDQogICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLjEJLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc2FycmF5WycuJG4uJ10sDQogICAgICAgICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBjb2xvcnNhcnJheVsnLiRuLiddLA0KICAgICAgICAgICAgZGF0YTogcDh0YnZhbFsnLiRuLiddDQoJCQkvL2JlemllckN1cnZlIDogZmFsc2UNCgkJCQ0KICAgICAgICAgIH0sJzsgDQoJCX0gID8+DQoJCSAgew0KCQkJICBsYWJlbDogInJhbmdlIiwNCgkJCSAgDQoJCQkNCgkJCSAgDQoJCQkgIA0KCQkgIH0NCiAgICAgICAgICANCiAgICAgICAgXSwNCgkJDQogICAgICB9Ow0KCSANCiAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgRU5EIE9GIHA4ICAgICAgICovDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgDQoNCiAgICAgIHZhciBjdHggPSAkKCIjMTEiKTsNCg0KICAgICAgdmFyIExpbmVHcmFwaCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiBjaGFydGRhdGEsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDonVGVtcGVyYXR1cmUnfSwNCgkJDQoJCXNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJ1RFTVBFUkFUVVJFJw0KICAgICAgfQ0KICAgIH1dLA0KCQ0KCXhBeGVzOiBbew0KICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgIGF1dG9Ta2lwOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgbWF4Um90YXRpb246IDcwLA0KICAgICAgICAgICAgICAgICAgICBtaW5Sb3RhdGlvbjogNzANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9XQ0KICB9DQoJCQ0KCQkNCgkJDQoJCX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIA0KCSAgDQoJICAgdmFyIGN0eCA9ICQoIiMxMiIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTIsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDonSHVtaWRpdHknfSwNCgkJDQoJCXNjYWxlczogew0KICAgIHlBeGVzOiBbew0KICAgICAgc2NhbGVMYWJlbDogew0KICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICBsYWJlbFN0cmluZzogJ0hVTUlESVRZJw0KCQkgICB9DQogICAgfV0sDQoJeEF4ZXM6IFt7DQogICAgICAgICAgICAgICAgdGlja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgYXV0b1NraXA6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBtYXhSb3RhdGlvbjogNzAsDQogICAgICAgICAgICAgICAgICAgIG1pblJvdGF0aW9uOiA3MA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1dDQogIH0NCgkNCgkJDQoJCQ0KCQkNCgkJDQoJCX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIA0KCSAgICAgdmFyIGN0eCA9ICQoIiMxMyIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTMsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDoncDEnfSwNCgkJDQoJCQ0KCQkNCgkJc2NhbGVzOiB7DQogICAgeUF4ZXM6IFt7DQogICAgICBzY2FsZUxhYmVsOiB7DQogICAgICAgIGRpc3BsYXk6IHRydWUsDQogICAgICAgIGxhYmVsU3RyaW5nOiAnTElHSFQnDQoJCSAgIH0NCiAgICB9XSwNCgl4QXhlczogW3sNCiAgICAgICAgICAgICAgICB0aWNrczogew0KICAgICAgICAgICAgICAgICAgICBhdXRvU2tpcDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIG1heFJvdGF0aW9uOiA3MCwNCiAgICAgICAgICAgICAgICAgICAgbWluUm90YXRpb246IDcwDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfV0NCiAgfQ0KCQkNCgkJDQoJCQ0KCQl9DQogICAgICB9KTsNCgkgDQoJICANCgkgICAgICAgIHZhciBjdHggPSAkKCIjMTQiKTsNCg0KICAgICAgdmFyIExpbmVHcmFwaCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiBjaGFydGRhdGE0LA0KCQlvcHRpb25zOnt0aXRsZTp7ZGlzcGxheTp0cnVlLHRleHQ6J3AyJ319DQogICAgICB9KTsNCgkgIA0KCSAgDQoJICANCgkgIA0KCSAgICAgICAgdmFyIGN0eCA9ICQoIiMxNSIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTUsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDoncDMnfX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIA0KCSAgCSAgICAgICAgdmFyIGN0eCA9ICQoIiMxNiIpOw0KDQogICAgICB2YXIgTGluZUdyYXBoID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIGRhdGE6IGNoYXJ0ZGF0YTYsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDoncDQnfX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgIAkgICAgICAgIHZhciBjdHggPSAkKCIjMTciKTsNCg0KICAgICAgdmFyIExpbmVHcmFwaCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiBjaGFydGRhdGE3LA0KCQlvcHRpb25zOnt0aXRsZTp7ZGlzcGxheTp0cnVlLHRleHQ6J3A1J319DQogICAgICB9KTsNCgkgIA0KCSAgDQoJICAJICAgICAgICB2YXIgY3R4ID0gJCgiIzE4Iik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhOCwNCgkJb3B0aW9uczp7dGl0bGU6e2Rpc3BsYXk6dHJ1ZSx0ZXh0OidwNid9fQ0KICAgICAgfSk7DQoJICANCgkgIA0KCSAgDQoJICANCgkgIAkgICAgICAgIHZhciBjdHggPSAkKCIjMTkiKTsNCg0KICAgICAgdmFyIExpbmVHcmFwaCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiBjaGFydGRhdGE5LA0KCQlvcHRpb25zOnt0aXRsZTp7ZGlzcGxheTp0cnVlLHRleHQ6J3A3J319DQogICAgICB9KTsNCgkgIA0KCSAgDQoJICAJICAgICAgICB2YXIgY3R4ID0gJCgiIzIwIik7DQoNCiAgICAgIHZhciBMaW5lR3JhcGggPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgZGF0YTogY2hhcnRkYXRhMTAsDQoJCW9wdGlvbnM6e3RpdGxlOntkaXNwbGF5OnRydWUsdGV4dDoncDgnfX0NCiAgICAgIH0pOw0KCSAgDQoJICANCgkgDQoJICANCgkgIA0KCSAgZnVuY3Rpb24gZG9uZSgpew0KCSAgIA0KCSB9DQoJIA0KCSANCgkgDQoJIA0KCSANCgkgDQoJLyoqKioqKioqKiAgICAgICAgICAgICBCTE9DayBmb3IgNCAgcGFyYW1ldGVyIGVuZHMgRXh0ZW5kIHRoaXMgdG8gMTAgDQoNCg0KICAgICAgICAgICAgICAgICoqLwkNCgkgDQoJIA0KCSANCgkJCTwvc2NyaXB0Pg0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCTxzY3JpcHQ+DQoJCQkNCgkJCS8vIGhpZGluZyANCgkJCQ0KCQkJDQoJCQl2YXIgZGlzcCA9Jzw/cGhwIGVjaG8gJGdldGRpczsgPz4nOw0KCQkJDQoJCQljb25zb2xlLmxvZyhkaXNwKTsNCgkJCQ0KCQkJaWYoIGRpc3AgPT0gJ29ycCcpDQoJCQl7DQoJCQkJDQoJCQkJDQoJCQkJJCgnLmNoYXJ0LWNvbnRhaW5lcicpLmhpZGUoKTsNCgkJCX0NCgkJCQ0KCQkJaWYoIGRpc3AgPT0gJ29ncnAnKQ0KCQkJew0KCQkJCSQoJy53cmFwcGVyJykuaGlkZSgpOw0KCQkJCQ0KCQkJCQ0KCQkJCS8vJCgnLmdsb2JhbC1jb250YWluJykuaGlkZSgpOw0KCQkJCXZhciBhcnIxPVsnMTEnLCcxMicsJzEzJywnMTQnLCcxNScsJzE2JywnMTcnLCcxOCcsJzE5JywnMjAnIF07DQoJCQkJDQoJCQkJbGV0IGRpZmZlcmVuY2UgPSBhcnIxLmZpbHRlcih4ID0+ICF1bmlxdWVOYW1lcy5pbmNsdWRlcyh4KSk7DQoJCQkJY29uc29sZS5sb2coZGlmZmVyZW5jZSk7DQoJCQkJDQoJCQkJDQoJCQkJZm9yKGo9MDtqPGRpZmZlcmVuY2UubGVuZ3RoO2orKykNCgkJCQl7DQoJCQkJCSQoJyMnK2RpZmZlcmVuY2Vbal0pLmhpZGUoKTsNCgkJCQkJDQoJCQkJCQ0KCQkJCX0NCgkJCQkNCgkJCX0NCgkJCQ0KCQkJaWYoIGRpc3AgPT0gJ29ncnAnKQ0KCQkJCQ0KCQkJCXsNCgkJCQkJdmFyIGFycjE9WycxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNycsJzE4JywnMTknLCcyMCcgXTsNCgkJCQkJDQoJCQkJCWxldCBkaWZmZXJlbmNlID0gYXJyMS5maWx0ZXIoeCA9PiAhdW5pcXVlTmFtZXMuaW5jbHVkZXMoeCkpOw0KCQkJCQkNCgkJCQkJZm9yKGo9MDtqPGRpZmZlcmVuY2UubGVuZ3RoO2orKykNCgkJCQkJew0KCQkJCQkJJCgnIycrZGlmZmVyZW5jZVtqXSkuaGlkZSgpOw0KCQkJCQkJDQoJCQkJCQkNCgkJCQkJfQ0KCQkJCQkNCgkJCQl9DQoJCQkNCgkJCQ0KCQkJDQoJCQlpZiggZGlzcCA9PSAnYm90aCcpew0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJCXZhciBhcnIxPVsnMTEnLCcxMicsJzEzJywnMTQnLCcxNScsJzE2JywnMTcnLCcxOCcsJzE5JywnMjAnIF07DQoJCQkJCQ0KCQkJCQlsZXQgZGlmZmVyZW5jZSA9IGFycjEuZmlsdGVyKHggPT4gIXVuaXF1ZU5hbWVzLmluY2x1ZGVzKHgpKTsNCgkJCQkJDQoJCQkJCWZvcihqPTA7ajxkaWZmZXJlbmNlLmxlbmd0aDtqKyspDQoJCQkJCXsNCgkJCQkJCSQoJyMnK2RpZmZlcmVuY2Vbal0pLmhpZGUoKTsNCgkJCQkJCQ0KCQkJCQkJDQoJCQkJCX0NCgkJCQkNCgkJCQkNCgkJCQkNCgkJCQkNCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KDQpmdW5jdGlvbiBwcmludG0oKXsNCgkNCgl3aW5kb3cucHJpbnQoKTsNCgkNCgkNCn0NCg0KPC9zY3JpcHQ+DQogDQoNCg0KDQo8P3BocA0KDQoNCg0KPz4="));//Generated by Ampare PHP Encoder. For more security please use php protect before encode the php program